{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Epip Encounters \u00b6 Epip Encounters is an add-on mod for Epic Encounters 2 which introduces numerous Quality of Life changes as well as UI improvements. Download \u00b6 Requires Norbyte's Script Extender . Load after both EE Core and EE Origins. Latest version, v1063 . (19/09/22) Only English is supported. Text related to gameplay changes will not show up in other languages. Mods that also modify UI are largely incompatible. \"No More Dragging\" and its expanded container version is compatible, for now. See the patchnotes page for patchnotes. Special thanks to: Ameranth for programming help as well as the amazing moddability of EE Derpy Moa for motivation and initial ideas Norbyte for the Script Extender and it's fantastic UI features Elric for his help with designing and drawing new UIs Features \u00b6 Below is a non-exhaustive list of features; I suggested browsing the latest patchnotes to get up to speed with latest additions. UI \u00b6 Health Bar \u00b6 The health bar at the top of the screen now shows a character\u2019s resistances as well as their Battered and Harried stacks. The B/H icons will light up if the target has enough of them to suffer a Tier 3 status, and will blink when the duration of the stacks is 1 turn or fewer. The actual B/H statuses are now hidden in this UI to reduce clutter. Credits to Elric for the new art assets used! Holding the \"show sneak cones\" button (shift by default) will replace the resistances display with the character\u2019s current AP, Source and Initiative - very handy for planning and foreseeing enemy turns. Additionally, it will lower the opacity of status effects on the health bar. The health bar above the hotbar now shows its values at all times (you needn't hover over it anymore), and the Physical/Magic Armor text is removed to improve readability. Additionally, it now features dividers every 4 AP, making it easier to see at a quick glance how much AP you've got left. It now also shows your maximum SP, and the AP/SP indicators are properly centered. Its graphics have also been improved, with the AP bar being easier to read thanks to a dropshadow. A setting has been added to show target-related information on this health bar, including source of the Taunt status, as well as whether a character is currently unpreferred or ignored by the AI. Hotbar \u00b6 Epip offers a heavily improved Hotbar UI, featuring multiple bars, custom \"action\" buttons in the bottom left, and numerous functions to make hotbar management easier. To add/remove rows, click the small +/- icons to the right of the buttons area. You can cycle each row independently through all 5 rows of slots that the game allows. You can have up to 5 rows visible. You can use the regular hotkeys (F/R by default) to cycle the bottom bar. Holding shift while using them will cycle the second row from the bottom instead. Holding Ctrl will cycle the 3rd row, while holding alt will cycle the 4th one. The buttons next to the portrait are now customizable; when your hotbar is unlocked, you can drag and drop to rearrange them. Additionally, mods can add their own \"actions\" there, and there are a few new built-in ones. You can press the middle mouse button to unbind them. Right click one of those buttons or click the ^ button to bring up a \"drawer\" with all the actions that you can drag and drop onto your actions bar. You can also click them to use them directly from there. These buttons can be used with keyboard hotkeys; to do so, you must assign keys to them from Epip's input options menu. They are labelled \"Hotbar Action #N\" there. By default, if you have 2+ rows of hotbar slots, you will also have a second row of these customizable buttons. You can disable this from the settings menu. Epip Encounters implements multiple handy new actions, in addition to some vanilla functions: Source Infuse & Meditate Toggle Minimap Resting (using a bedroll from anywhere in your party inventory - no need to find one for everyone!) Toggle Party Link (instantaneous, no animation!) Respec (if Portable Respec Mirror mod is installed) The purpose of the action bar is to provide a centralized place for modders to add shortcuts/hotkeys to their interfaces or features, eliminating the need for interactable books that clutter your inventory and freeing up space on the hotbar. Right-click a row on the hotbar to bring up a context menu where you can \"push\" groups of slots around (great for inserting spells inbetween!), clear unmemorized spells, or save \"loadouts\" to restore your hotbars in later playthroughs. Additionally, all \"engine actions\" (except for flee) are available from the vanilla actions drawer. The hotbar improvements are also available as a standalone mod with no EE dependency. Character Sheet \u00b6 The character sheet now shows physical and piercing resistances. The tags tab is replaced with a brand new \"Keywords and misc.\" tab. You can use it to quickly reference your keyword activators and mutators, as well as reaction charges remaining. Player Portraits \u00b6 The status bar on your characters now wraps onto a second row once there are more than 6 statuses, preventing it from obscuring the middle of the screen during intense fights. Summon portraits no longer show statuses and are shrunk while the status bar is wrapping. You can right-click your portraits to open a context menu where you can hide the status bar and summons, as well as access the Debug Cheats if you're in developer mode. In the settings, you may also enable a Battered/Harried display on these portraits. Settings Menu \u00b6 The settings menu has been expanded to allow mods to add their own settings. Epip includes its own tab full of options to customize its features. The input menu has received similar treatment, with custom keybindings becoming possible. You must first click the \"Controls\" tab before you can access custom keybinds added by Epip. Custom hotkeys include Meditate, Source Infuse, as well as binding the 12 \"action buttons\" from the Hotbar UI. Additionally, the difficulty can now be changed to/from tactician freely at any time. The side effects of this have not been studied well, but everything appears to work fine with the exception of already-initialized enemies having missing HP and consumables(?). Tooltip Adjustments \u00b6 \"Stat Adjustments\" in tooltips are now merged into one line. Added a label for items that have been Masterworked While infusing a spell or holding shift, skill tooltips now highlight Source Infusions you don't meet the requirements for. Holding shift also displays your relevant ability score in the tooltip. The simple small tooltips appear without a delay Skill tooltips now account for effects that increase or decrease AP costs Most statuses that deal damage now show the calculated damage, rather than showing \"(before modifiers)\" Status tooltips show who applied the status (if anyone) Tooltips for randomly generated items now show a \"quality\" label, which indicates how good the damage/armor rolls were for that item. A 100% quality indicates the best roll, possibly only on divine items. The word \"Set:\" has been removed from tooltips due to confusion and redundancy. Deltamods that previously did not show clearly in tooltips (+range, +elemental damage) now have blue labels in tooltips, like others. Holding shift will cause skill tooltips to display damage multipliers instead. Does not work for all skills. Removed the skull icon introduced by GB5 that appeared on negative status effects Added a keybind to scroll tooltips The damage tooltip in the character sheet has been made less confusing by removing the mention of damage from gear and dummied out LW values. Additionally, it now makes it clear that the weapon abilities grant multiplicative damage increases. Books that have been read and keys that have been used now have a green label in their tooltip. Artifacts display with a special rarity and item color, hand-picked by the EE devs. This change has been made available in the base EE mod as well. Additionally, artifact runes now show a \"Cannot equip.\" warning for slots that they are incompatible with. Tooltips for damaging statuses now display the damage they will deal approximately, rather than showing the base damage before any modifiers. Long item tooltips will try to fit the screen better, eliminating the issue of being unable to compare items while wielding a heavily upgraded item. In developer mode, statuses and skills show their IDs in their tooltips. Inventory \u00b6 A setting has been added to enable infinite carry weight for all party members. You can also enable automatic identifying of items, optionally not requiring any Loremaster. Consumable items, like mushrooms and food, no longer require you to use them once for them to show their effects in the tooltip. Treasure Display \u00b6 An option has been added to display noteworthy item drops of enemies and containers on their health bar. For characters, this only shows while holding shift. Combat Log \u00b6 You may now filter out individual types of messages in the combat log by right-clicking it. Certain messages have been reworded for clarity and can now \"merge\" if they happen in quick succession, improving readability. You can also clear the log from the context menu. World Tooltips \u00b6 A keybind has been added to make world item tooltips toggleable, so you don't need to hold alt all the time. Additionally, a setting exists to disable these tooltips for empty containers and bodies. Rewards UI \u00b6 An option has been added to allow viewing the character sheet while within the quest rewards screen, allowing you to compare rewards to your party's currently equipped items. Overhead Text and Notifications \u00b6 Settings have been added to shorten the duration of overhead text, and to change their size (as well as the size of damage numbers). Notifications from characters casting skills in combat are repositioned to show above the hotbar, so as not to obscure the enemy health bars. They can also be disabled in the settings. Additionally, you can change the duration of the area transition labels, or disable them entirely. Skillbook \u00b6 You can now unlearn skills by right-clicking them in the skillbook while out of combat. Innate skills cannot be unlearnt. Crafting \u00b6 The crafting UI now remembers your previous tab, instead of always defaulting to showing all items - this is helpful for using the Greatforge. Additionally, you can set the default tab of the UI in the settings menu. Gift Bags and mod incompatibilities \u00b6 Gift bag mods incompatible with EE are no longer selectable, to prevent regrets. Gift bags that work but for one reason or another are undesirable show a warning upon attempting to enable them. Common mods incompatible with EE now show a warning when you load into the game with them enabled, once per playthrough. Quick Examine \u00b6 A \"Quick Examine\" panel can be opened with a custom hotkey (defaults to V ). This panel is mainly used to show the effects enemies have from the \"Epic Enemies\" feature, but it also displays the character's artifacts, useful to check your ally's effects in multiplayer. More information will be added to this panel in the future. Examine \u00b6 The Examine UI now shows Critical Chance, and can be configured to open on the sides of the screen instead of the center. Additionally, there is now a keybind to open the examine menu. Ingame Patchnotes \u00b6 A new journal UI can be accessed from the Hotbar actions, or after updating the mod. It lists the patchnotes of Epip, and other mods can add information/patchnotes there freely as well. Updating the mod will also show a prompt to open the UI. Chat \u00b6 Chat commands are added, beginning with a slash (/). The following commands exist: /rp : shows a message over your current character's head. Great for role-playing. /emote : plays an animation for your current character. Use /help emote to see all emotes. /help : shows all commands, or help for a particular command. Save/Load UI \u00b6 An alphabetical sorting option as well as a search bar can be enabled in the options for the save/load UI. Ascension/Meditate \u00b6 Ascension \u00b6 You can now use the Esc key to go back to the previous page in the Ascension UI, or exit it if you're on the default page. An option exists to make this key always exit the UI. An \"Immersive Meditation\" setting can be enabled to hide the minimap and hotbar while within the EE UIs. Greatforge Context Menus \u00b6 Item context menus now have options to quickly dismantle items, as well as to remove their runes. Doing so still costs the usual amount of gold/splinters respectively. Containers with equipment in them get a \"Mass Dismantle\" option, letting you rapidly dismantle unwanted gear. Greatforge \u00b6 An option to add sockets to items (\"Drill Sockets\") has been added. This does not allow you to break the 2 socket limit for one-handed weaponry. The Empower option now properly scales armor values, however this will only take effect after a save+reload. Additionally, an option to rename items (\"Engrave\") has been added. This is purely cosmetic. Epic Enemies \u00b6 Epic Enemies is a randomizer feature enabled from the ingame settings menu. It bestows enemies with EE perks such as keyword activators/mutators, artifacts, and more. You can configure the relative chance of each effect being rolled on enemies. These effects will be applied to enemies when they enter combat. You may use the \"Quick Examine\" feature to view the perks that each enemy rolled; see its respective section in this site for more info. Vanity \u00b6 Right-click equipped items and select the \"Vanity\" option to enter a menu with a plethora of customization options. The first tab allows you to change the item's appearance into other items of the same slot. You can also tick \"Lock Appearance\" to automatically transmogrify newly equipped items into your currently chosen appearance, when the Vanity menu is closed. Support is included for \"Majora's Project Fashion Sins\", \"Rendal's NPC Armors\" and \"Visitors from Cyseal\" mods. The second tab allows you to save and apply outfits consisting of all equipment slots with visuals. They are organized by intended race and gender, but can be applied onto any character. The third tab allows you to dye items with a custom color. Items may support up to 3 different colors, but certain items cannot be dyed - this depends on how the model was setup. You may also use EE's dyes from here, and save your own ones and share them with buttons that read/write the color codes to your clipboard. Miscellaneous Bug Fixes and Adjustments \u00b6 Certain vanilla issues have been fixed: Summons dying in combat (or being newly spawned) no longer causes your current character to be deselected You can now walk into corpses in combat without looting them; you can hold shift if you need to pillage them mid-fight, or disable this in the settings Miscellaneous Gameplay Changes \u00b6 Epip features some minor changes to the base EE gameplay. These are a remnant from before the mod switched to focusing on UX, and will be split off into a separate mod in the future. You can read about them in the old doc. Planned for the future \u00b6 Proper controller support for EE UIs (meditate) Sorting and filtering statuses on the player portraits Inventory improvements: custom filtering and sorting, along with multi-select For developers \u00b6 Epip is built using numerous libraries, making client-side scripting and UI modding easier. This site's documentation of them is heavily WIP. Every UI touched by Epip has a lua table with wrapper APIs to manipulate it. Additionally, multiple utility libraries are available: Client : contains queries relating to the client. Client.UI : holds all UI tables; too many to list individually, below are the most noteworthy ones. Client.UI.MessageBox : allows you to open your own message boxes, which may also prompt for user string input. Client.UI.ContextMenu : allows creating custom context menus, with numerous new types of elements and support for nested menus. Warning: it's a very old API and does not hold up to current standards. A rewrite is pending. Client.Flash : contains utility methods for handling Flash elements from lua. Client/Server.lua : allows registering osiris symbol listeners from the client. Osiris : provides a cleaner way of working with Osiris symbols: allows passing of extender entity objects in place of GUIDs, returning from user queries, and unpacking DB query results. Character , Item : libraries with numerous utility functions for the related entity types. Text : utility methods for working with text, featuring a super-versatile Format function for dealing with those pesky html font tags. Timer : self-explanatory. Also supports tick-based timers. Coroutine : improved coroutine table, with the ability to sleep coroutines, either for a certain amount of time or until a condition is met. Color , Vector : utilities for dealing with colors and vectors. Client.UI.Generic : allows for the creation of UIs using only lua. Work-in-progress (well, everything here is, in a way). Epip : main mod table, containing registered Features. Developer Features \u00b6 Debug Cheats \u00b6 If the extender developer mode is available, a cheats context menu is added to characters, with numerous handy functions like: Copying GUID to clipboard Teleporting Kill/resurrect Next-gen godmode (\"Pipmode\"), with infinite AP and 0 skill cooldowns Adding Flexstats, ExtendedStats, attributes/abilities, skills, statuses and more Spawning all artifacts, or specific treasure tables or templates Debug Display \u00b6 In developer mode, a UI widget with FPS, TPS and mod version info can be enabled from the settings. This widget can be dragged around. Debug Menu \u00b6 In developer mode, a menu with debugging options for Features can be opened using a keybind (defaults to LCtrl + F). You can use it to change logging levels, disable features, and run tests. Your logging/debug settings are persistent. AI Logging \u00b6 An option exists to log AI scoring to the console. Console Commands \u00b6 A few miscellaneous console commands are added: !bruteforceuitypes : client-side; attempts to find the TypeIDs of all UIs currently instanced, including custom ones !soundtest : client-side; plays all the sounds defined in the UI sounds lsx and shows their name. Useful for inspiration. !animtest : server-side; plays all human female animations on the currently controlled character. Cannot be interrupted once started! !worryaboutsuchsmallthings : tests the performance between EsvCharacter:HasTag() and Osi.IsTagged() !testactionhandles : tests string handles for \"actions\" from the Stats library.","title":"Home"},{"location":"#epip-encounters","text":"Epip Encounters is an add-on mod for Epic Encounters 2 which introduces numerous Quality of Life changes as well as UI improvements.","title":"Epip Encounters"},{"location":"#download","text":"Requires Norbyte's Script Extender . Load after both EE Core and EE Origins. Latest version, v1063 . (19/09/22) Only English is supported. Text related to gameplay changes will not show up in other languages. Mods that also modify UI are largely incompatible. \"No More Dragging\" and its expanded container version is compatible, for now. See the patchnotes page for patchnotes. Special thanks to: Ameranth for programming help as well as the amazing moddability of EE Derpy Moa for motivation and initial ideas Norbyte for the Script Extender and it's fantastic UI features Elric for his help with designing and drawing new UIs","title":"Download"},{"location":"#features","text":"Below is a non-exhaustive list of features; I suggested browsing the latest patchnotes to get up to speed with latest additions.","title":"Features"},{"location":"#ui","text":"","title":"UI"},{"location":"#health-bar","text":"The health bar at the top of the screen now shows a character\u2019s resistances as well as their Battered and Harried stacks. The B/H icons will light up if the target has enough of them to suffer a Tier 3 status, and will blink when the duration of the stacks is 1 turn or fewer. The actual B/H statuses are now hidden in this UI to reduce clutter. Credits to Elric for the new art assets used! Holding the \"show sneak cones\" button (shift by default) will replace the resistances display with the character\u2019s current AP, Source and Initiative - very handy for planning and foreseeing enemy turns. Additionally, it will lower the opacity of status effects on the health bar. The health bar above the hotbar now shows its values at all times (you needn't hover over it anymore), and the Physical/Magic Armor text is removed to improve readability. Additionally, it now features dividers every 4 AP, making it easier to see at a quick glance how much AP you've got left. It now also shows your maximum SP, and the AP/SP indicators are properly centered. Its graphics have also been improved, with the AP bar being easier to read thanks to a dropshadow. A setting has been added to show target-related information on this health bar, including source of the Taunt status, as well as whether a character is currently unpreferred or ignored by the AI.","title":"Health Bar"},{"location":"#hotbar","text":"Epip offers a heavily improved Hotbar UI, featuring multiple bars, custom \"action\" buttons in the bottom left, and numerous functions to make hotbar management easier. To add/remove rows, click the small +/- icons to the right of the buttons area. You can cycle each row independently through all 5 rows of slots that the game allows. You can have up to 5 rows visible. You can use the regular hotkeys (F/R by default) to cycle the bottom bar. Holding shift while using them will cycle the second row from the bottom instead. Holding Ctrl will cycle the 3rd row, while holding alt will cycle the 4th one. The buttons next to the portrait are now customizable; when your hotbar is unlocked, you can drag and drop to rearrange them. Additionally, mods can add their own \"actions\" there, and there are a few new built-in ones. You can press the middle mouse button to unbind them. Right click one of those buttons or click the ^ button to bring up a \"drawer\" with all the actions that you can drag and drop onto your actions bar. You can also click them to use them directly from there. These buttons can be used with keyboard hotkeys; to do so, you must assign keys to them from Epip's input options menu. They are labelled \"Hotbar Action #N\" there. By default, if you have 2+ rows of hotbar slots, you will also have a second row of these customizable buttons. You can disable this from the settings menu. Epip Encounters implements multiple handy new actions, in addition to some vanilla functions: Source Infuse & Meditate Toggle Minimap Resting (using a bedroll from anywhere in your party inventory - no need to find one for everyone!) Toggle Party Link (instantaneous, no animation!) Respec (if Portable Respec Mirror mod is installed) The purpose of the action bar is to provide a centralized place for modders to add shortcuts/hotkeys to their interfaces or features, eliminating the need for interactable books that clutter your inventory and freeing up space on the hotbar. Right-click a row on the hotbar to bring up a context menu where you can \"push\" groups of slots around (great for inserting spells inbetween!), clear unmemorized spells, or save \"loadouts\" to restore your hotbars in later playthroughs. Additionally, all \"engine actions\" (except for flee) are available from the vanilla actions drawer. The hotbar improvements are also available as a standalone mod with no EE dependency.","title":"Hotbar"},{"location":"#character-sheet","text":"The character sheet now shows physical and piercing resistances. The tags tab is replaced with a brand new \"Keywords and misc.\" tab. You can use it to quickly reference your keyword activators and mutators, as well as reaction charges remaining.","title":"Character Sheet"},{"location":"#player-portraits","text":"The status bar on your characters now wraps onto a second row once there are more than 6 statuses, preventing it from obscuring the middle of the screen during intense fights. Summon portraits no longer show statuses and are shrunk while the status bar is wrapping. You can right-click your portraits to open a context menu where you can hide the status bar and summons, as well as access the Debug Cheats if you're in developer mode. In the settings, you may also enable a Battered/Harried display on these portraits.","title":"Player Portraits"},{"location":"#settings-menu","text":"The settings menu has been expanded to allow mods to add their own settings. Epip includes its own tab full of options to customize its features. The input menu has received similar treatment, with custom keybindings becoming possible. You must first click the \"Controls\" tab before you can access custom keybinds added by Epip. Custom hotkeys include Meditate, Source Infuse, as well as binding the 12 \"action buttons\" from the Hotbar UI. Additionally, the difficulty can now be changed to/from tactician freely at any time. The side effects of this have not been studied well, but everything appears to work fine with the exception of already-initialized enemies having missing HP and consumables(?).","title":"Settings Menu"},{"location":"#tooltip-adjustments","text":"\"Stat Adjustments\" in tooltips are now merged into one line. Added a label for items that have been Masterworked While infusing a spell or holding shift, skill tooltips now highlight Source Infusions you don't meet the requirements for. Holding shift also displays your relevant ability score in the tooltip. The simple small tooltips appear without a delay Skill tooltips now account for effects that increase or decrease AP costs Most statuses that deal damage now show the calculated damage, rather than showing \"(before modifiers)\" Status tooltips show who applied the status (if anyone) Tooltips for randomly generated items now show a \"quality\" label, which indicates how good the damage/armor rolls were for that item. A 100% quality indicates the best roll, possibly only on divine items. The word \"Set:\" has been removed from tooltips due to confusion and redundancy. Deltamods that previously did not show clearly in tooltips (+range, +elemental damage) now have blue labels in tooltips, like others. Holding shift will cause skill tooltips to display damage multipliers instead. Does not work for all skills. Removed the skull icon introduced by GB5 that appeared on negative status effects Added a keybind to scroll tooltips The damage tooltip in the character sheet has been made less confusing by removing the mention of damage from gear and dummied out LW values. Additionally, it now makes it clear that the weapon abilities grant multiplicative damage increases. Books that have been read and keys that have been used now have a green label in their tooltip. Artifacts display with a special rarity and item color, hand-picked by the EE devs. This change has been made available in the base EE mod as well. Additionally, artifact runes now show a \"Cannot equip.\" warning for slots that they are incompatible with. Tooltips for damaging statuses now display the damage they will deal approximately, rather than showing the base damage before any modifiers. Long item tooltips will try to fit the screen better, eliminating the issue of being unable to compare items while wielding a heavily upgraded item. In developer mode, statuses and skills show their IDs in their tooltips.","title":"Tooltip Adjustments"},{"location":"#inventory","text":"A setting has been added to enable infinite carry weight for all party members. You can also enable automatic identifying of items, optionally not requiring any Loremaster. Consumable items, like mushrooms and food, no longer require you to use them once for them to show their effects in the tooltip.","title":"Inventory"},{"location":"#treasure-display","text":"An option has been added to display noteworthy item drops of enemies and containers on their health bar. For characters, this only shows while holding shift.","title":"Treasure Display"},{"location":"#combat-log","text":"You may now filter out individual types of messages in the combat log by right-clicking it. Certain messages have been reworded for clarity and can now \"merge\" if they happen in quick succession, improving readability. You can also clear the log from the context menu.","title":"Combat Log"},{"location":"#world-tooltips","text":"A keybind has been added to make world item tooltips toggleable, so you don't need to hold alt all the time. Additionally, a setting exists to disable these tooltips for empty containers and bodies.","title":"World Tooltips"},{"location":"#rewards-ui","text":"An option has been added to allow viewing the character sheet while within the quest rewards screen, allowing you to compare rewards to your party's currently equipped items.","title":"Rewards UI"},{"location":"#overhead-text-and-notifications","text":"Settings have been added to shorten the duration of overhead text, and to change their size (as well as the size of damage numbers). Notifications from characters casting skills in combat are repositioned to show above the hotbar, so as not to obscure the enemy health bars. They can also be disabled in the settings. Additionally, you can change the duration of the area transition labels, or disable them entirely.","title":"Overhead Text and Notifications"},{"location":"#skillbook","text":"You can now unlearn skills by right-clicking them in the skillbook while out of combat. Innate skills cannot be unlearnt.","title":"Skillbook"},{"location":"#crafting","text":"The crafting UI now remembers your previous tab, instead of always defaulting to showing all items - this is helpful for using the Greatforge. Additionally, you can set the default tab of the UI in the settings menu.","title":"Crafting"},{"location":"#gift-bags-and-mod-incompatibilities","text":"Gift bag mods incompatible with EE are no longer selectable, to prevent regrets. Gift bags that work but for one reason or another are undesirable show a warning upon attempting to enable them. Common mods incompatible with EE now show a warning when you load into the game with them enabled, once per playthrough.","title":"Gift Bags and mod incompatibilities"},{"location":"#quick-examine","text":"A \"Quick Examine\" panel can be opened with a custom hotkey (defaults to V ). This panel is mainly used to show the effects enemies have from the \"Epic Enemies\" feature, but it also displays the character's artifacts, useful to check your ally's effects in multiplayer. More information will be added to this panel in the future.","title":"Quick Examine"},{"location":"#examine","text":"The Examine UI now shows Critical Chance, and can be configured to open on the sides of the screen instead of the center. Additionally, there is now a keybind to open the examine menu.","title":"Examine"},{"location":"#ingame-patchnotes","text":"A new journal UI can be accessed from the Hotbar actions, or after updating the mod. It lists the patchnotes of Epip, and other mods can add information/patchnotes there freely as well. Updating the mod will also show a prompt to open the UI.","title":"Ingame Patchnotes"},{"location":"#chat","text":"Chat commands are added, beginning with a slash (/). The following commands exist: /rp : shows a message over your current character's head. Great for role-playing. /emote : plays an animation for your current character. Use /help emote to see all emotes. /help : shows all commands, or help for a particular command.","title":"Chat"},{"location":"#saveload-ui","text":"An alphabetical sorting option as well as a search bar can be enabled in the options for the save/load UI.","title":"Save/Load UI"},{"location":"#ascensionmeditate","text":"","title":"Ascension/Meditate"},{"location":"#ascension","text":"You can now use the Esc key to go back to the previous page in the Ascension UI, or exit it if you're on the default page. An option exists to make this key always exit the UI. An \"Immersive Meditation\" setting can be enabled to hide the minimap and hotbar while within the EE UIs.","title":"Ascension"},{"location":"#greatforge-context-menus","text":"Item context menus now have options to quickly dismantle items, as well as to remove their runes. Doing so still costs the usual amount of gold/splinters respectively. Containers with equipment in them get a \"Mass Dismantle\" option, letting you rapidly dismantle unwanted gear.","title":"Greatforge Context Menus"},{"location":"#greatforge","text":"An option to add sockets to items (\"Drill Sockets\") has been added. This does not allow you to break the 2 socket limit for one-handed weaponry. The Empower option now properly scales armor values, however this will only take effect after a save+reload. Additionally, an option to rename items (\"Engrave\") has been added. This is purely cosmetic.","title":"Greatforge"},{"location":"#epic-enemies","text":"Epic Enemies is a randomizer feature enabled from the ingame settings menu. It bestows enemies with EE perks such as keyword activators/mutators, artifacts, and more. You can configure the relative chance of each effect being rolled on enemies. These effects will be applied to enemies when they enter combat. You may use the \"Quick Examine\" feature to view the perks that each enemy rolled; see its respective section in this site for more info.","title":"Epic Enemies"},{"location":"#vanity","text":"Right-click equipped items and select the \"Vanity\" option to enter a menu with a plethora of customization options. The first tab allows you to change the item's appearance into other items of the same slot. You can also tick \"Lock Appearance\" to automatically transmogrify newly equipped items into your currently chosen appearance, when the Vanity menu is closed. Support is included for \"Majora's Project Fashion Sins\", \"Rendal's NPC Armors\" and \"Visitors from Cyseal\" mods. The second tab allows you to save and apply outfits consisting of all equipment slots with visuals. They are organized by intended race and gender, but can be applied onto any character. The third tab allows you to dye items with a custom color. Items may support up to 3 different colors, but certain items cannot be dyed - this depends on how the model was setup. You may also use EE's dyes from here, and save your own ones and share them with buttons that read/write the color codes to your clipboard.","title":"Vanity"},{"location":"#miscellaneous-bug-fixes-and-adjustments","text":"Certain vanilla issues have been fixed: Summons dying in combat (or being newly spawned) no longer causes your current character to be deselected You can now walk into corpses in combat without looting them; you can hold shift if you need to pillage them mid-fight, or disable this in the settings","title":"Miscellaneous Bug Fixes and Adjustments"},{"location":"#miscellaneous-gameplay-changes","text":"Epip features some minor changes to the base EE gameplay. These are a remnant from before the mod switched to focusing on UX, and will be split off into a separate mod in the future. You can read about them in the old doc.","title":"Miscellaneous Gameplay Changes"},{"location":"#planned-for-the-future","text":"Proper controller support for EE UIs (meditate) Sorting and filtering statuses on the player portraits Inventory improvements: custom filtering and sorting, along with multi-select","title":"Planned for the future"},{"location":"#for-developers","text":"Epip is built using numerous libraries, making client-side scripting and UI modding easier. This site's documentation of them is heavily WIP. Every UI touched by Epip has a lua table with wrapper APIs to manipulate it. Additionally, multiple utility libraries are available: Client : contains queries relating to the client. Client.UI : holds all UI tables; too many to list individually, below are the most noteworthy ones. Client.UI.MessageBox : allows you to open your own message boxes, which may also prompt for user string input. Client.UI.ContextMenu : allows creating custom context menus, with numerous new types of elements and support for nested menus. Warning: it's a very old API and does not hold up to current standards. A rewrite is pending. Client.Flash : contains utility methods for handling Flash elements from lua. Client/Server.lua : allows registering osiris symbol listeners from the client. Osiris : provides a cleaner way of working with Osiris symbols: allows passing of extender entity objects in place of GUIDs, returning from user queries, and unpacking DB query results. Character , Item : libraries with numerous utility functions for the related entity types. Text : utility methods for working with text, featuring a super-versatile Format function for dealing with those pesky html font tags. Timer : self-explanatory. Also supports tick-based timers. Coroutine : improved coroutine table, with the ability to sleep coroutines, either for a certain amount of time or until a condition is met. Color , Vector : utilities for dealing with colors and vectors. Client.UI.Generic : allows for the creation of UIs using only lua. Work-in-progress (well, everything here is, in a way). Epip : main mod table, containing registered Features.","title":"For developers"},{"location":"#developer-features","text":"","title":"Developer Features"},{"location":"#debug-cheats","text":"If the extender developer mode is available, a cheats context menu is added to characters, with numerous handy functions like: Copying GUID to clipboard Teleporting Kill/resurrect Next-gen godmode (\"Pipmode\"), with infinite AP and 0 skill cooldowns Adding Flexstats, ExtendedStats, attributes/abilities, skills, statuses and more Spawning all artifacts, or specific treasure tables or templates","title":"Debug Cheats"},{"location":"#debug-display","text":"In developer mode, a UI widget with FPS, TPS and mod version info can be enabled from the settings. This widget can be dragged around.","title":"Debug Display"},{"location":"#debug-menu","text":"In developer mode, a menu with debugging options for Features can be opened using a keybind (defaults to LCtrl + F). You can use it to change logging levels, disable features, and run tests. Your logging/debug settings are persistent.","title":"Debug Menu"},{"location":"#ai-logging","text":"An option exists to log AI scoring to the console.","title":"AI Logging"},{"location":"#console-commands","text":"A few miscellaneous console commands are added: !bruteforceuitypes : client-side; attempts to find the TypeIDs of all UIs currently instanced, including custom ones !soundtest : client-side; plays all the sounds defined in the UI sounds lsx and shows their name. Useful for inspiration. !animtest : server-side; plays all human female animations on the currently controlled character. Cannot be interrupted once started! !worryaboutsuchsmallthings : tests the performance between EsvCharacter:HasTag() and Osi.IsTagged() !testactionhandles : tests string handles for \"actions\" from the Stats library.","title":"Console Commands"},{"location":"beta/","text":"REQUIRES V58 OF THE EXTENDER! You can get v58 by creating a file named ScriptExtenderUpdaterConfig.json in the same folder where you've put the extender, with the contents: { \"UpdateChannel\": \"Devel\", \"Debug\": true } v1064 \u00b6 Latest upload, 22/11/22 . 22/11 upload: Added an \"Auras\" tab to Vanity, where you can apply visual effects to your character, onto various bones Removed the meme loading screen option Fixed the draggable area of Quick Examine being smaller than intended Skill tooltips for zone-type skills no longer erroneously say their range is increased by Astrologer's Gaze Quick Examine now shows your ally's skills and their cooldowns Tooltips will show the damage as if they were used by them, but Epip features (like viewing which source infusions are available) likely do not work properly currently Fixed the \"points available\" blip in the character sheet not being hidden when within vanity, if you had a lot of tabs registered On the technical side of things: Added IDE annotations for the global Ext functions (like _C() ) Added a \"DefaultTable\" data structure (inspired by python's defaultdict; a table with a default value when indexing) Removed UI override for the settings menu (LeaderLib menu might work now? no promises) Debug menu now supports fiddling with the UI scripts to an extent Osiris table now parses parameters for DB set/delete operations InputLib: added methods to fetch game input event definitions and bindings The ancient script previously used to do this has been removed, along with some other redundant ones Improvements to the doc generation script (which shall debut here soon); it can now export \"subclasses\" of a class (the auxiliary data structs) Added a generic developer input binding for hooking quick tests onto it TooltipLib: added a way to render custom formatted tooltips TooltipLib: added a method to render skill tooltips, as if the engine were doing it Minor cleanups of some scripts Fixed iggy icons in Slot elements being culled out for Generic UIs Added methods to check if a component is an item/char to EntityLib You can now specify a player index when using methods in PointerLib (though I do not know in which scenario multiple pointers can exist; splitscreen co-op perhaps?) 31/10 upload: The \"infinite carry weight setting\" should now work properly for clients that join mid-session Other features that face problems in multiplayer are possibly suffering from the same bug and will be fixed in the future Hotbar: Fixed layouts being saved for summons and party followers Layouts should now be synchronized better in multiplayer, and survive a lua reset Layouts now save when the pause menu is opened, rather than when the game is paused (which basically never happens in multiplayer) There's probably a dozen other features that made this mistake; they will be fixed in the future Reworked the settings menu and underlying system Your previous setting values will be lost The settings menu is now separate from the vanilla UI, prevent conflicts with mods that may overwrite the vanilla one Settings have been reorganized into separate tabs Settings are now saved per-profile, in Osiris Data/Epip/{profile GUID}/ Vanity internals have been reworked, with multiple changes as a result: Dyes no longer require deltamods and thus should no longer be lost to shenanigans or bloat the savefile Transmogrifying no longer requires the item to be transformed and therefore should no longer have any gameplay side effects As a result, you are no longer prevented from transmogrifying GB5 sets Transmogrifying weapons into another type (ex. dagger -> bow) will have them show in the proper location while sheathed Added an option to keep the icon while transmogrifying Fixed an issue with dyes not being loaded properly from oufits Added an option to hide any armor slot's visuals Due to an engine quirk, changing visibility is not properly reflected in the character sheet until you switch characters Your previous dyes might be lost upon updating Fixed icons on the minimap flickering On the technical side of things: The localization system now supports contextual metadata for ease of translation, and integration for it has been added to the Feature table You can define TSKs in TranslatedStrings and query them by indexing TSK within the feature TSKs defined this way support aliases that are valid only within the context of the feature, preventing collisions Added a python script to import/export Epip translation files in Mods\\EpipEncounters_7d32cb52-1cfd-4526-9b84-db4867bf9356\\Story\\RawFiles\\Python\\localization.py Added GetTurnOrder() to Combat library","title":"Beta"},{"location":"beta/#v1064","text":"Latest upload, 22/11/22 . 22/11 upload: Added an \"Auras\" tab to Vanity, where you can apply visual effects to your character, onto various bones Removed the meme loading screen option Fixed the draggable area of Quick Examine being smaller than intended Skill tooltips for zone-type skills no longer erroneously say their range is increased by Astrologer's Gaze Quick Examine now shows your ally's skills and their cooldowns Tooltips will show the damage as if they were used by them, but Epip features (like viewing which source infusions are available) likely do not work properly currently Fixed the \"points available\" blip in the character sheet not being hidden when within vanity, if you had a lot of tabs registered On the technical side of things: Added IDE annotations for the global Ext functions (like _C() ) Added a \"DefaultTable\" data structure (inspired by python's defaultdict; a table with a default value when indexing) Removed UI override for the settings menu (LeaderLib menu might work now? no promises) Debug menu now supports fiddling with the UI scripts to an extent Osiris table now parses parameters for DB set/delete operations InputLib: added methods to fetch game input event definitions and bindings The ancient script previously used to do this has been removed, along with some other redundant ones Improvements to the doc generation script (which shall debut here soon); it can now export \"subclasses\" of a class (the auxiliary data structs) Added a generic developer input binding for hooking quick tests onto it TooltipLib: added a way to render custom formatted tooltips TooltipLib: added a method to render skill tooltips, as if the engine were doing it Minor cleanups of some scripts Fixed iggy icons in Slot elements being culled out for Generic UIs Added methods to check if a component is an item/char to EntityLib You can now specify a player index when using methods in PointerLib (though I do not know in which scenario multiple pointers can exist; splitscreen co-op perhaps?) 31/10 upload: The \"infinite carry weight setting\" should now work properly for clients that join mid-session Other features that face problems in multiplayer are possibly suffering from the same bug and will be fixed in the future Hotbar: Fixed layouts being saved for summons and party followers Layouts should now be synchronized better in multiplayer, and survive a lua reset Layouts now save when the pause menu is opened, rather than when the game is paused (which basically never happens in multiplayer) There's probably a dozen other features that made this mistake; they will be fixed in the future Reworked the settings menu and underlying system Your previous setting values will be lost The settings menu is now separate from the vanilla UI, prevent conflicts with mods that may overwrite the vanilla one Settings have been reorganized into separate tabs Settings are now saved per-profile, in Osiris Data/Epip/{profile GUID}/ Vanity internals have been reworked, with multiple changes as a result: Dyes no longer require deltamods and thus should no longer be lost to shenanigans or bloat the savefile Transmogrifying no longer requires the item to be transformed and therefore should no longer have any gameplay side effects As a result, you are no longer prevented from transmogrifying GB5 sets Transmogrifying weapons into another type (ex. dagger -> bow) will have them show in the proper location while sheathed Added an option to keep the icon while transmogrifying Fixed an issue with dyes not being loaded properly from oufits Added an option to hide any armor slot's visuals Due to an engine quirk, changing visibility is not properly reflected in the character sheet until you switch characters Your previous dyes might be lost upon updating Fixed icons on the minimap flickering On the technical side of things: The localization system now supports contextual metadata for ease of translation, and integration for it has been added to the Feature table You can define TSKs in TranslatedStrings and query them by indexing TSK within the feature TSKs defined this way support aliases that are valid only within the context of the feature, preventing collisions Added a python script to import/export Epip translation files in Mods\\EpipEncounters_7d32cb52-1cfd-4526-9b84-db4867bf9356\\Story\\RawFiles\\Python\\localization.py Added GetTurnOrder() to Combat library","title":"v1064"},{"location":"docs/","text":"Documentation \u00b6 The features of Epip Encounters are built on top of a lot of trial-and-error research and work on client-side scripting and UI modding. Since late 2021, the focus of development has shifted to making the internals of the mod available as libraries, aiming to provide utility, better maintainability, extendability and easy manipulation of UIs from lua. The ultimate goal is to make the mod easy for someone else to continue working on after/if I depart - EE is an overhaul built to last and be tinkered with, and I would like to honor that in my own project. This change will be a long process. There are still many features of the mod that remain to be rewritten to the new standards and methodology, or extended to provide functionality beyond what the current mod needs. Anything that is documented here is considered stable and unlikely to change drastically - any changes to these calls/systems will be mentioned in future patch notes. The definitions here are auto-generated from EmmyLua annotations within the scripts (using update_docs.py found in the mod). Functions are tagged through @meta to denote tags like \"Client-only\", \"EE-only\". Declaring these at the top of the file tags all functions in the file. Introduction \u00b6 The mod's root table contains the following tables: Epip : stores references to \"Features\" and metadata related to the mod. Game : contains libraries for querying information of characters, items and other contexts relating to the game. Client : contains client-specific calls as well as tables offering UI-specific calls, events and hooks. Utilities : contains utility methods useful across many contexts. The scripting in Epip Encounters focuses on event-driven programming. Aside from functions, systems and features tend to implement events and hooks which allow other scripts to react to them being raised. Event listeners allow you to react to events sent from scripts. They can receive parameters and are executed in the order that they were registered. -- Listen for the shift key being pressed/unpressed. Client.Input:RegisterListener(\"SneakConesToggled\", function(pressed) print(\"Sneak cones toggled: \" .. pressed) end) Hooks are similar to event listeners, but are used to modify values calculated within functions. Their purpose is to allow scripts to alter the logic or output of functions. A hook is always passed a \"default value\" as its first parameter, which will be used if no listeners choose to act upon the event. Any script can implement events/hooks, and it's easy to add \"parameters\" to registering listeners as well, to filter their execution conditonally. -- Set opacity for Battered/Harried stack backgrounds in the health bar based on if the amount if enough to inflict a T3. Client.UI.EnemyHealthBar:RegisterHook(\"GetStackOpacity\", function(opacity, stack, amount) local threshold = Game.Character.GetStacksNeededToInflictTier3(Client.GetCharacter()) if amount >= threshold then opacity = 1 elseif amount == 0 then opacity = 0.5 else opacity = 0.75 end return opacity end) Hooks are not limited to changing primitives, they are often also used in UI scripts to allow for manipulation of the data that the engine is passing it, parsed into handy tables. The following example adds Critical Chance to the Examine UI. -- Add Critical Chance to the examine menu when its data is being updated. Client.UI.Examine:RegisterHook(\"Update\", function(examineData) local char = Client.UI.Examine.GetCharacter() -- Only do this for characters being examined if char then local critEntry = { id = 9, label = \"Critical Chance\", iconID = Client.UI.Examine.ICONS.CRITICAL_CHANCE, value = string.format(\"%d%%\", char.Stats.CriticalChance), type = Client.UI.Examine.ENTRY_TYPES.STAT, } -- Insert crit chance after damage local damageElement,damageIndex,damageCategory = examineData:GetElement(4, 6) examineData:InsertElement(damageCategory.id, critEntry, damageIndex + 1) end return examineData end) Aliases \u00b6 The following EmmyLua aliases are defined (in EpipIdeHelpers.lua ): ---@alias Entity EclCharacter | EsvCharacter | EclItem | EsvItem ---@alias Character EsvCharacter | EclCharacter ---@alias Item EclItem | EsvItem ---@alias EquipSlot \"Helmet\" | \"Breast\" | \"Leggings\" | \"Weapon\" | \"Shield\" | \"Ring\" | \"Belt\" | \"Boots\" | \"Gloves\" | \"Amulet\" | \"Ring\" | \"Ring2\" | \"Horns\" | \"Overhead\" ---@alias EquipmentSubType \"Platemail\" | \"Robes\" | \"Leather\" | \"Belt\" | \"Ring\" | \"Amulet\" | \"Shield\" | \"Dagger\" | \"Sword\" | \"Axe\" | \"Mace\" | \"Sword\" | \"Spear\" | \"Staff\" | \"Bow\" | \"Crossbow\" | \"Wand\" ---@alias StackType \"Battered\" | \"B\" | \"Harried\" | \"H\" ---@alias Gender \"Male\" | \"Female\" ---@alias Race \"Human\" | \"Elf\" | \"Dwarf\" | \"Lizard\" ---@alias Keyword \"ViolentStrike\" | \"VitalityVoid\" | \"Predator\" | \"Elementalist\" | \"Prosperity\" | \"Paucity\" | \"IncarnateChampion\" | \"Defiance\" | \"Occultist\" | \"Disintegrate\" | \"Wither\" | \"Centurion\" | \"Abeyance\" | \"Benevolence\" | \"Presence\" | \"Ward\" | \"Celestial\" | \"Purity\" | \"VolatileArmor\" | \"Voracity\" ---@alias KeywordBoonType \"Activator\" | \"Mutator\" -- For doc generation; does not actually work in IDE ---@class Event ---@class Hook --------------------------------------------- -- UI --------------------------------------------- ---@alias MessageBoxType \"Message\" | \"Input\" --------------------------------------------- -- GAME.TOOLTIP --------------------------------------------- ---@class TooltipData ---@field Data table[] ---@param data table[] ---@return TooltipData function TooltipData:Create(data) end ---@param type string ---@return table function TooltipData:GetElement(type) end ---@param type string ---@return table[] function TooltipData:GetElements(type) end ---@param type string function TooltipData:RemoveElements(type) end ---@param type string function TooltipData:RemoveElement(type) end ---@param ele table function TooltipData:AppendElement(ele) end ---@param ele table ---@param appendAfter table function TooltipData:AppendElementAfter(ele, appendAfter) end","title":"Introduction"},{"location":"docs/#documentation","text":"The features of Epip Encounters are built on top of a lot of trial-and-error research and work on client-side scripting and UI modding. Since late 2021, the focus of development has shifted to making the internals of the mod available as libraries, aiming to provide utility, better maintainability, extendability and easy manipulation of UIs from lua. The ultimate goal is to make the mod easy for someone else to continue working on after/if I depart - EE is an overhaul built to last and be tinkered with, and I would like to honor that in my own project. This change will be a long process. There are still many features of the mod that remain to be rewritten to the new standards and methodology, or extended to provide functionality beyond what the current mod needs. Anything that is documented here is considered stable and unlikely to change drastically - any changes to these calls/systems will be mentioned in future patch notes. The definitions here are auto-generated from EmmyLua annotations within the scripts (using update_docs.py found in the mod). Functions are tagged through @meta to denote tags like \"Client-only\", \"EE-only\". Declaring these at the top of the file tags all functions in the file.","title":"Documentation"},{"location":"docs/#introduction","text":"The mod's root table contains the following tables: Epip : stores references to \"Features\" and metadata related to the mod. Game : contains libraries for querying information of characters, items and other contexts relating to the game. Client : contains client-specific calls as well as tables offering UI-specific calls, events and hooks. Utilities : contains utility methods useful across many contexts. The scripting in Epip Encounters focuses on event-driven programming. Aside from functions, systems and features tend to implement events and hooks which allow other scripts to react to them being raised. Event listeners allow you to react to events sent from scripts. They can receive parameters and are executed in the order that they were registered. -- Listen for the shift key being pressed/unpressed. Client.Input:RegisterListener(\"SneakConesToggled\", function(pressed) print(\"Sneak cones toggled: \" .. pressed) end) Hooks are similar to event listeners, but are used to modify values calculated within functions. Their purpose is to allow scripts to alter the logic or output of functions. A hook is always passed a \"default value\" as its first parameter, which will be used if no listeners choose to act upon the event. Any script can implement events/hooks, and it's easy to add \"parameters\" to registering listeners as well, to filter their execution conditonally. -- Set opacity for Battered/Harried stack backgrounds in the health bar based on if the amount if enough to inflict a T3. Client.UI.EnemyHealthBar:RegisterHook(\"GetStackOpacity\", function(opacity, stack, amount) local threshold = Game.Character.GetStacksNeededToInflictTier3(Client.GetCharacter()) if amount >= threshold then opacity = 1 elseif amount == 0 then opacity = 0.5 else opacity = 0.75 end return opacity end) Hooks are not limited to changing primitives, they are often also used in UI scripts to allow for manipulation of the data that the engine is passing it, parsed into handy tables. The following example adds Critical Chance to the Examine UI. -- Add Critical Chance to the examine menu when its data is being updated. Client.UI.Examine:RegisterHook(\"Update\", function(examineData) local char = Client.UI.Examine.GetCharacter() -- Only do this for characters being examined if char then local critEntry = { id = 9, label = \"Critical Chance\", iconID = Client.UI.Examine.ICONS.CRITICAL_CHANCE, value = string.format(\"%d%%\", char.Stats.CriticalChance), type = Client.UI.Examine.ENTRY_TYPES.STAT, } -- Insert crit chance after damage local damageElement,damageIndex,damageCategory = examineData:GetElement(4, 6) examineData:InsertElement(damageCategory.id, critEntry, damageIndex + 1) end return examineData end)","title":"Introduction"},{"location":"docs/#aliases","text":"The following EmmyLua aliases are defined (in EpipIdeHelpers.lua ): ---@alias Entity EclCharacter | EsvCharacter | EclItem | EsvItem ---@alias Character EsvCharacter | EclCharacter ---@alias Item EclItem | EsvItem ---@alias EquipSlot \"Helmet\" | \"Breast\" | \"Leggings\" | \"Weapon\" | \"Shield\" | \"Ring\" | \"Belt\" | \"Boots\" | \"Gloves\" | \"Amulet\" | \"Ring\" | \"Ring2\" | \"Horns\" | \"Overhead\" ---@alias EquipmentSubType \"Platemail\" | \"Robes\" | \"Leather\" | \"Belt\" | \"Ring\" | \"Amulet\" | \"Shield\" | \"Dagger\" | \"Sword\" | \"Axe\" | \"Mace\" | \"Sword\" | \"Spear\" | \"Staff\" | \"Bow\" | \"Crossbow\" | \"Wand\" ---@alias StackType \"Battered\" | \"B\" | \"Harried\" | \"H\" ---@alias Gender \"Male\" | \"Female\" ---@alias Race \"Human\" | \"Elf\" | \"Dwarf\" | \"Lizard\" ---@alias Keyword \"ViolentStrike\" | \"VitalityVoid\" | \"Predator\" | \"Elementalist\" | \"Prosperity\" | \"Paucity\" | \"IncarnateChampion\" | \"Defiance\" | \"Occultist\" | \"Disintegrate\" | \"Wither\" | \"Centurion\" | \"Abeyance\" | \"Benevolence\" | \"Presence\" | \"Ward\" | \"Celestial\" | \"Purity\" | \"VolatileArmor\" | \"Voracity\" ---@alias KeywordBoonType \"Activator\" | \"Mutator\" -- For doc generation; does not actually work in IDE ---@class Event ---@class Hook --------------------------------------------- -- UI --------------------------------------------- ---@alias MessageBoxType \"Message\" | \"Input\" --------------------------------------------- -- GAME.TOOLTIP --------------------------------------------- ---@class TooltipData ---@field Data table[] ---@param data table[] ---@return TooltipData function TooltipData:Create(data) end ---@param type string ---@return table function TooltipData:GetElement(type) end ---@param type string ---@return table[] function TooltipData:GetElements(type) end ---@param type string function TooltipData:RemoveElements(type) end ---@param type string function TooltipData:RemoveElement(type) end ---@param ele table function TooltipData:AppendElement(ele) end ---@param ele table ---@param appendAfter table function TooltipData:AppendElementAfter(ele, appendAfter) end","title":"Aliases"},{"location":"hotbar-standalone/","text":"Standalone Hotbar Mod \u00b6 The Improved Hotbar mod is a standalone version of Epip's hotbar features, requiring only the Script Extender v56+. Workshop page Direct download","title":"Standalone Hotbar Mod"},{"location":"hotbar-standalone/#standalone-hotbar-mod","text":"The Improved Hotbar mod is a standalone version of Epip's hotbar features, requiring only the Script Extender v56+. Workshop page Direct download","title":"Standalone Hotbar Mod"},{"location":"patchnotes/","text":"Changelog \u00b6 Older versions of the mod can be found here . v1063 - 19/09/22 \u00b6 Download here . If \"Unfocus after sending messages\" is enabled, holding shift while sending a chat message will keep the chat focused Fixed settings not saving if you didn't visit the camera settings tab On the technical side of things: Added operator overload annotations for RGBColor , Vector Vector.Create() accepts an existing array as a parameter (only one) Added TSK-related methods to Text This includes a localization system for strings in scripts; you can generate templates for localizing with Text.GenerateLocalizationTemplate() and they will be loaded from Mods/MyMod_MyGuid/Localization/Epip/MyTargetLanguage/ModTable.json , where ModTable is the mod table whose strings you've localized using the template Support for this within Epip will be added throughout future updates; currently only some camera settings support this You can generate fresh GUIDs or TSK handles with !guid and !tskhandle commands (on client context); they'll be copied to the clipboard v1062 - 16/09/22 \u00b6 Surface tooltips with an owner now show a hint regarding how the damage scales \"Active Defense\" statuses (ex. Empyrean Tears) now show remaining charges EE rune materials now show how to use them to craft runes Added a setting to configure the delay of simple tooltips appearing This affects tooltips of items in the world, as well as label tooltips in UIs (these 2 types are individually configurable) Added a settings tab for camera settings You can change the maximum zoom out distance, as well as the view angles Items in the quest reward screen now show a hint regarding modifier generation Added new Greatforge graphics for Engrave - special thanks to Cathe and Elric! Fixed a vanilla bug with the character sheet that caused the second ring slot to not play equip animations Additionally, the graphics involved should now be better centered Re-added the option to auto-unlock inventories Changing the lock status should also be synched better now - the vanilla game seems to struggle with this leading to the changes often not being properly reflected in other player's UIs Fixed weapon range deltamods only considering the first deltamod of that kind found This same fix is applied for weapon elemental damage mods as well On the technical side of things: Replaced Client.GetCharacter() implementation with a new one from v57 that doesn't rely on any UIs. Let me know if something character-involved breaks as a result (though I haven't experienced any difference). Added a Camera library Added an Entity library, with shorthands for GetGameObject() and functions to get all characters/items on a level Added limited alpha support to RGBColor (I don't think alpha is used anywhere in scripting though) Item.GetIcon() is now fully reimplemented following engine code Stats library now also holds dynamically generated data of runes, except framed ones Tooltip library now supports item tooltips and simple tooltips (the usual showTooltip call), and offers additional contextual data (ex. skill ID for skill tooltips) Started work on a new UI-independent settings library with per-profile settings support; not yet used v1061 - 4/09/22 \u00b6 Added new settings for world item tooltips: Emphasizing containers, consumables and/or equipment by changing their color This setting will not work for items that would result in a crime upon interaction; they will remain red. Enabling world tooltips for all items (similar to the \"Let there be tooltips\" mod) Filtering out clutter (particularly the one added by the setting above): chairs, doors, non-interactable items Option to open containers upon clicking their tooltip, rather than picking them up Added an option to exit the chat UI after sending a message (so you don't need to press escape manually) Added an option to disable notifications for sharing civils (\"X shares Loremaster/LC with Z\") Searching saves is now case-insensitive Added a ping counter to the debug display Since the server only responds to net messages once per game tick, the counter will basically always show around 33ms in singleplayer Fixed \"Show empty containers/bodies\" not actually working on items Fixed another case of an infinite loop of switching characters Fixed the \"toggle world tooltips\" keybind not working (+ crashing the game) Fixed some character sheet tooltips appearing in the vanity UI On the technical side of things: Osiris library now converts boolean values to integer in calls Added HasFlag() , IsContainer() to Item library Added initial groundwork for an inventory expansion v1060 - 3/09/22 \u00b6 Added a better frame for the hotbar health bar, and shadows for the AP bar (thanks Elric) Added a keybind to bring up the examine UI (the real one) Added all engine actions (the ones you see in the controller UI) to the hotbar actions drawer (the vanilla one, bound to X ), except for flee Reordered some keybindings Added \"Let there be tooltips\" to the list of EE-incompatible mods Fixed character-specific context menus appearing on items Fixed the save/load overlay not disappearing in multiplayer when the UI is closed Fixed a possible edge case with walking over corpses in combat that would result in the corpse not being lootable after combat Fixed the dragging area for the debug display being too large Fixed an issue with character control switching rapidly Fixed hotbar tooltips not showing keybinds Removed the \"Special Binding 1 & 2\" keys since they are no longer used On the technical side of things: Added data for all InputEvents to Input as well as possibly the world's biggest alias Added an IO table Began modernizing the context menu APIs Added a Pointer library, currently deals only with Ext.UI.GetPickingState() -related matters Added table.lua and math.lua containing the extensions to the respective built-in tables RGBColor creation now clamps the color values Implemented __eq, __add and __sub for RGBColor Various fixes for outdated/clashing IDE class names Fixed an infinite loop when using the default buttons for MessageBox Added a table for combatTurn UI Unfortunately this UI does not appear to hold any character handles, making it not very useful. v1059 - 29/08/22 \u00b6 Fixed an issue with using items in hotbar groups after reloading Fixed item amounts displaying incorrectly in hotbar groups Fixed an issue with the unlearn skills prompt appearing while the UI is closed On the technical side of things: Added \"Actions\" (ground attack, sheathe/unsheathe, etc.) to the Stats library v1058 - 29/08/22 \u00b6 Versions from this one onwards require extender v57. New features: Consumables like food and mushrooms now show their effects by default; there's no need to eat them once for them to appear in the tooltip Added a setting to enable infinite carry weight You can now right-click skills in the skillbook while out of combat to unlearn them Added a keybind to toggle world item tooltips (so you don't need to hold the alt key) Surface tooltips now show their owner (who the surface damage scales from and who owns its applied statuses) Added a setting to disable the \"Item Received\" notifications Added a setting to allow viewing the character sheet while in the quest rewards UI; this lets you compare your equipped items with the rewards. Vanity: transmog and dyes no longer require items to be re-equipped, making it overall faster to try on different looks Added an option to hide empty corpses/containers from the world item tooltips (the ones that appear from the alt key) Added a setting to allow you to walk onto corpses while in combat without looting them. You may still loot them while holding shift. This setting is enabled by default. The fix to character control being lost upon creating new summons now also applies to having your summons be killed Added an option to play a sound effect when a chat message is received, so they're easier to notice Empowering items now properly scales their armor values, but this will only take effect after a reload Fixed the vanilla bug that prevented you from using items in certain conditions if you had +AP Cost effects Added a keybind to scroll the fancy item/skill tooltips ACTIVE_DEFENSE statuses (ex. Empyrean Tears) now show max charges in the tooltip Holding shift while moving in combat now shows approximate decimal AP costs Status tooltips now show if they were applied by an equipped item Fixed the tooltip color for effects that alter AP costs. They now display in green if they reduce AP costs, and red if they increase them. The custom input menu has been reworked to use new extender tech; all keys supported by the game are now bindable, including modifier keys like alt/ctrl. Your previous bindings will be wiped upon updating. Added new modifier keys to cycle bars on the hotbar: ctrl cycles 3rd bar (from bottom), alt cycles 4th one, gui (Windows key) cycles 5th one Added an \"Engrave\" option to the Greatforge which lets you rename items. This is purely visual. It does not currently have a custom graphic. It will appear as another \"Drill Sockets\" in the Greatforge wheel. Minor visual adjustments to QuickExamine The Epip settings menu is slightly more organized now Added more mods to the incompatible mods warning: DU, Greed, Multihotbars Hotbar: Slots can no longer be used while holding modifier keys. This means you can use shift/ctrl/alt + number keys as a custom keybind without it interfering with the hotbar. Fixed loadouts not saving empty gaps inbetween slots You can't cycle hidden bars anymore Added custom slot groups. Right-click a row on the hotbar to create one. These are shared across all your characters. Right-click them to delete them. Known issues: Items there do not display tooltips yet Fixes: Fixed tooltips for Vanity tabs Fixed negative status effects displaying wrong ever since GB5 Epip's artifact tooltips (in Quick Examine, stats tab, etc.) now have a period at the end of them Hotkey to exit Meditate is now escape, instead of escape / right-click. Fixed action names on the hotbar buttons Fixed some character sheet tooltips appearing while in the Vanity menu Stuff for developer mode: Added a keybind to copy identifiers (GUID for chars/items, stat ID for skills) of the object over your mouse Added a settings menu to change Data.txt values ingame. Most of them apply instantly / upon character stat recalculation, but some may require a session reload. Talents show their IDs in tooltips The cheats context menu now lets you add talents Added an option to enable a widget that shows FPS, TPS, and relevant mod versions Added a keybind to open a debug menu from which you can toggle debug mode on features, disable them (or their logging), and run tests (a new feature of the Feature table) On the technical side of things: Osiris library now supports built-in symbols (calls and queries) and extender objects are converted to their GUID when being passed Added a Vector library (with some cool arithmetic operator overloads) Added a new tooltip library (WIP), advantage include preventing tooltips and manipulating surface tooltips, viewing source UI of a tooltip SubscribableEvent nodes can now be removed based on a predicate function, and preventable events are supported Fixed some log spam related to the hotbar Added groundwork for the Epip Housing(TM) feature Slight modernization to Net library: the payload is now passed as the first parameter, and IDE hints are available by defining the net msg as a class with the payload's table fields Timer lib is now available on the server, and a tick-based timer option has been added, as well as option to repeat / pause them Added a better coroutine table with sleeping (either for X seconds, or until a condition is met) Added a new Epip.RegisterFeature() call which can keep track of the source mod of a feature Added a new Input library using v57 RawInput Added more hooks to CharacterSheet UI in preparations for custom talents 2.0 (and other stats) Added ExtraData tables to Stats library Added PartyInventory hooks Removed numerous archaic/unused scripts, like the custom talents ones GenericUI: Added more bg options for TiledBackground Added new elements: Slider, Grid Events now have proper IDE support, and no more issues with inheritance Element creation now has proper IDE support, if you instantiate elements using their class name Added more position-related calls Element visuals now use string IDs, and unused visuals are set off-stage (less possibility for jank) Fixed button size issues Removed minimum size for black background Fixed stack overflow issue with lists Added support for skill tooltips Fixed issues with MouseUp on the slot element Changed mouse events to use the roll ones Added proper support for prefabs, with the following implemented: Spinner Text (offers simpler initialization of Text elements) HotbarSlot (with many improvements to bring it closer to hotbar behavior) FormHorizontalList LabelledCheckbox LabelledDropdown LabelledTextField v1057 - 26/07/22 \u00b6 Fixed the annoying issue of control being switched to new summons in combat while it's still your turn Crafting UI now remembers your last tab (equipment/consumables etc.) Added a setting to set the default tab for the crafting UI The hotbar now shows a warning for unmemorized skills, as well as skills from items that have been unequipped Fixed some changelogs ingame not showing up Added an option to enable some improvements to the save/load menu: alphabetical sorting and search. The search bar supports lua patterns and is case-sensitive On the technical side of things: The hotbar updates periodically again to fix some issues, and should no longer break completely when a single slot/action fails to render v1056 - 22/07/22 \u00b6 Stats Tab: Added Voracity stats Added Artifacts Quick Examine now shows Artifacts for your allies as well (useful in multiplayer) Vanity: added support for \"Visitors from Cyseal\" mod, though the mod currently appears to have some issue with replacing some item icons Fixed a freeze with Immersive Meditation Fixed another grey out issue with the hotbar (skills with weapon damage but no weapon requirement) Fixed the category weight sliders in Epic Enemies not being saved Fixed the \"Show Minimap\" option appearing twice in the options menu Fixed some issues with controllers Skills show their IDs in tooltips in developer mode On the technical side of things: Added StopPropagation() to the new event table Added a wrapper for checking developer mode, with an option to use an additional check; WIP and testing features will be locked behind it, meaning the rest of the features (like the cheats menu) can be used without problems Added a few new utility methods Started work on further giga brain hotbar improvements v1055 - 20/07/22 \u00b6 Added an option to reduce the opacity of the player status bars while in combat Vanity UI now closes when you go into combat Status tooltips now show source (if it's a character) Re-added the hotbar actions drawer (the one with force-attack / sheathe / sneak) Added a Vanity action to the hotbar Added new Combat Log filters: critical hits and dodge Status tooltips now show ID and Type while in developer mode Added embodiments to the stats tab Read books and used keys now show a label in their tooltip (not retroactive) Fixed Max SP check being inaccurate on the enemy health bar Added new divider sprites for the player health bar Player health bar now shows maximum SP, and the SP counters are centered Fix item use cost not being considered while greying out slots on the hotbar Fixed consumable items not greying out properly in the hotbar Fixed hotbar issues with Luminary, Musketeer mods Temorarily removed the option to auto-unlock party inventories due to crashes in v56 from sync rewrites On the technical side of things: Removed more log spam from Hotbar/Input Moved a bunch of tables around, removed archaic scripts/global functions Added some Larian colors to the Color table Added an icons enum to Hotbar More work on the new UI system: event listeners, Slot element Added GetExtType() for checking the type of an extender object Added GameState table Started transitioning to using a better event system, using a modification of the v56 SubscribableEvent table Updated IDE helper files v1054 - 13/07/22 \u00b6 Added a \"Quick Examine\" UI. Currently it only shows the Epic Enemies perks characters that have them. It is invoked by a keybind while hovering over a character; default is v . You may use the lock button to prevent its selected character from changing whenever you hover over a new one; if you do that, you will need to press the keybinding manually to change targets. You can drag the UI around by holding down left click on the upper part (the one with the character name) Artifact powers in Epic Enemies now have descriptions Hotbar now greys out unusable item skills (ex. arrows) Switching characters or clicking slots on the hotbar now attempts to fix desync issues (the one where your clicks go to the wrong rows) Fixed a freeze when using a controller Temporarily removed the Awesome Soccer minigame On the technical side of things: Added a new lua-based UI system; currently supports backgrounds, text, buttons, state buttons, the common list types (vertical, horizontal, scrolling), dividers, and icons v1053 - 07/07/22 \u00b6 Added an option to show aggro effects on the top health bar: taunt source/target as well as AI preference tags Centered the AP orbs on the bottom health bar, and added special dividers every 4 AP Pipmode no longer gives infinite AP to non-player characters Added a cheat to apply statuses Reworded +elemental damage tooltips on weapons Fixed offhand items not auto-transmogging properly Fixed some summons still getting Epic Enemies perks, as well as party followers Fixed skills that require shield not being greyed out while muted Hotbar: Loadouts are now sorted alphabetically Added a setting for disabling slots while casting Fixed occasional flashing for slots on cooldown Fixed hotkeys being blocked if any controlled char is in dialogue On the technical side of things: Added better annotations for UI/Feature tables (works with inheritance now) Added wrapper calls to get/set stats regardless of whether they're actual stat objects or the special types (DeltaMod, TreasureTable, etc.) Moved RemoveTrailingZeros() to Text Reduced some extender log spam from stats Fixed warning spam when enemies were preparing skills v1052 - 05/07/22 \u00b6 Epic Enemies: Reworked the Epic Enemies feature. It is now configured through the regular settings menu, not the EE one. If you're continuing an old save, the options in your EE menu will remain, but they will no longer do anything. The amount of effects enemies gain is now customizable The weighted chance of each perk appearing can be customized individually - it's also possible to adjust the chances for whole groups of effects at once (ex. all Centurion effects) All artifacts can now be made available to enemies Effects with conditional activations are supported, and can grant a variety of other perks (statuses, stats, summons, etc.) though there are no new effects that use this yet - new content will be added soon Hotbar: The \"active skill\" animation on the hotbar should be more reliable now (and no longer appears if you click spells in the spellbook) Fixed shield skills not greying out when disarmed On the technical side of things: Removed the infamous empty net script Cleaned up script loading on the server Generated new IDE helpers for built-in v56 types OptionsSettings UI now has less thicc text labels so you can actually write stuff there without taking up the whole screen Known issues: Artifact effects in Epic Enemies have no descriptions (text keys are really unreliable apparently) Switching tabs in the Epic Enemies settings menu scrolls you to the top Epic Enemies no longer gives extra Predator range v1051 - 28/06/22 \u00b6 Small bug fixes, and a moderate QoL addition for vanity dyes. Added Ctrl+C/V support to the dye tab text fields Fixed Epic Enemies tooltip (thanks Pancarte) Fixed outfits ignoring transmog restrictions Fixed vanity dye slider text values sometimes not moving around Fixed items transmogged into artifacts gaining the special tooltip color (this will require an EE Core update to fully work) On the technical side of things: Cleaned up MessageBox v1050 - 26/06/22 \u00b6 A small assortment of huge vanity improvements! Vanity: Added a button to delete custom dyes Switching characters no longer closes the UI The current tab is remembered when switching items through the context menu Added a toggle to prevent the sliders from being set to the item's current color (makes it easier to reuse a dye on multiple items) Added fields to enter colors in hexadecimal Added buttons to copy/paste colors Added buttons to import/export dyes to/from the clipboard Sliders can now detect the default color of an item that hasn't been dyed before Added a checkbox to auto-transmog equipped items to your old item's appearance while the UI is not open (so you can switch out items in the UI without needing to toggle it off) Fixed the Vanity option appearing on non-equipped items Other: Added keybinds for the debug teleport (no longer uses the ping key) Custom keybinds no longer fire while in dialogue On the technical side of things: Added support for dev-only keybinds Moved Flash table to Client Added a Color table Created a github repository: https://github.com/PinewoodPip/EpipEncounters/commits/main v1049 - 23/06/22 \u00b6 Added an option to enable improvements to the combat log. Messages can be filtered by type, and certain messages will be merged into one line if they occur one after another, such as surface damage and healing. This option will only work when playing in english , unless someone is willing to help me make string patterns for other languages. Right-click the combat log to set your filters. You can also clear the log from that menu. When damage messages are merged into one line, they will display the amount of hits that were merged at the end. The exception to this is damage that occurs within 25ms of eachother, such as weapon attacks with coatings. These are counted as a single hit. Messages parsed by the new combat log system will now have a consistent base color, gray, instead of randomly using white. Some messages have been slightly reworded for consistency Added options in the cheat menu to add/remove tags. You can use this to clear a character's main character status by removing the AVATAR tag. Added a button in the debug sections of the options menu to warp to AMER_Test AMER_Test got Pinewood'd a bit Weapon tooltips now show +elemental damage modifiers Updated Derpy's treasure table displays Removed the option to disable custom context menus Fixed keyword source tooltips being off-by-one Hotbar action button tooltips now show their keybind (without shortening) Removed the automatic unbinding for GM keybinds, since they are no longer used for the hotbar Added chat commands: /rp displays a message over your character's head /emote performs an animation /help lists help for all commands Added a new tab in the controls menu where you can bind hotbar action hotkeys as well as standalone hotkeys for Meditate and Source Infuse. You must rebind your hotbar hotkeys Two keybinds previously used by the hotbar are now reserved as special keys that can be bound in the new custom keybinds UI. The purpose of them is to allow extra mouse buttons and other special bindings to be used with the new system until it is improved. Fixed numerous problems while playing with controllers Added a setting to make the Escape key close the Amer UIs entirely rather than popping page Fixed a hotbar refresh issue when pushing slots around Fixed hotbar action buttons no longer properly showing active/inactive state Removed the option to disable wrapping statuses (it has not actually worked for a long time) as well as the vanity menu Vanity: Added custom RGB dyes to the dyes tab Added all built-in ItemColor entries as selectable dyes Saving now also happens when you add/delete an outfit or a dye You can no longer transmog GB5 items Fixed spears not being available in the transmog menu Fixed the vanity option not appearing for non-shield offhands Added a button to delete outfits Fixed positioning of the vanity UI while playing on resolutions other than 1080p, or when dragging the character sheet Fixed saving outfits with weapons not working Removed the dye context menu for real The UI now shows a message if you select an empty slot, instead of opening a message box Slight changes to positioning of elements Improved performance The character sheet unallocated points notifications are now hidden while in the UI Other: Fixed a bug with hotbar action buttons resetting Added a \"Healing done\" stat to the stats tab The \"Damage dealt\" stat now also considers your owned summons On the technical side of things: Reworked how the selected item is tracked in the Vanity UI Reworked all tabs of Vanity to be separate, independent features Added initial groundwork for supporting controllers in Amer's UIs Added APIs for chatLog , optionsInput _Feature:DebugLog() is now polymorphic like the regular print function Added the Input UI, with possibilities for tracking text keys from the keyboard, and intercepting interface events Added FlexStats for sight and hearing, ranging from -128 to +128 (except for sight which goes to +2048) Added support for saving settings on the server Removed unused ItemColor stats Removed unused PersistentVars table Hooks can now be set to only return the first non-nil value (and stop propagation after that) Cleaned up the client bootstrap script Added an !animtest command on server, auto-playing all female human animations on the host character. There's no stopping it once started, so be careful! Added a !soundtest command on the client, which tests all UI sounds. Might've been added before this version, I don't recall exactly when it was implemented. Added some sick ASCII signatures to the bootstrap scripts, as well as a readme v1048 - 14/05/22 \u00b6 Added a warning upon loading a save with mods known to be problematic Graying out hotbar slots while casting skills should now work similarly to before Added Derpy's scripted encounters to the Treasure Table Display Added an option to disable area transition labels or change their duration. It now also hides immediately if you hover over a character/item to bring up its healthbar Possibly fixed a significant stuttering issue with the hotbar Added a button to revert a transmog'd item's appearance (not retroactive; will only work on newly transmogged items) Changing tabs in the Vanity UI now plays a sound Rounded the numbers in the Treasure Table Display Added a dyes tab to the vanity menu RGB sliders are not finished yet (you can use them in developer mode, but they will not be saved) On the technical side: Fixed a net error message upon loading into the main menu Fixed a startup error related to the Osiris table Added UIObject flag helper methods to the UI table (though Norbyte confirmed these will be usable like other enums in the future) Added ways to set and delete tuples to the Osiris table with :Set() and :Delete(); :Get() queries the DB (previous usage still works). Osiris table's DB queries now return the list of tuples as the last return value, always Added a separate UI for querying time from flash Fixed time functions not accounting for daylight savings (iggy oversight) Added annotations for the _Feature table/class Added a Text library with a handy format function Improvements to events and hooks: libraries can now hold their events and hooks as tables in Event and Hooks fields respectively, from which you can easily see all listener types available and register listeners. Doing it this way enables auto-completion and intellisense/EmmyLua annotations for listener parameters, which was not possible before. Old libraries will slowly be updated to use this, and the old method of registering listeners will stay. The standalone hotbar mod will be updated tomorrow (15th May). v1047 - 20/04/22 \u00b6 Added an option to show artifact/protean chances on enemy health bars when the \"Show Sneak Cones\" (shift by default) key is held. Also works on containers, without needing the key to be held. Fixed an issue with some setup event being unreliable (likely the source of many hotbar problems) Fixed some events being fired once per user Fixed equip animations in the character sheet Client timers are now truly client-side As a result hotkey'd skills on the hotbar should now have a lot less delay Fixed hotbar not being greyed out for dead characters Fixed \"None\"-type weapons not being considered melee, causing incarnate bull rush to appear grayed out in the hotbar Fixed another large performance issue with the stats tab v1046 - 14/04/22 \u00b6 Added a new journal UI, replaces the quest log for changelogs. Access it from the hotbar Fixed Inconspicuous not being hidden in character creation Hotbar config (hotkeys) now also saves when you save the game, not just when the game is paused Incompatible giftbags can no longer be enabled (you should still be able to disable them, if you had them) Added a way to mark templates as favorites in the vanity UI, moving them to a special category Vanity UI now shows categories in a consistent order Small change to stats tab to make stats editable post-SessionLoaded Character sheet now goes below the hotbar again Increased the hotbar's \"refresh rate\", fixing an issue with slots being clickable when they shouldn't Fixed the hotbar drawer locking up your scroll wheel Renamed the transmog context menu option to \"Vanity\", made it only usable on equipped items Added support for Rendal's NPC Armors to the vanity UI Reduced logging when developer mode is off You can no longer open the vanity menu while in combat Your currently equipped template in the vanity menu is now indicated by an icon instead of a suffix Fixed Immersive Meditation ignoring the setting Fixed a performance issue with the stats tab v1045 - 1/4/22 Anniversary patch :flashed: \u00b6 As of today, Epip is now one year old! My attention span for projects tends to be very low (as evidenced by my other EE stuff), but Epip looks to be an exception to that and it's incredible what it has become - all its UI changes were nearly unimaginable just a year ago. Thank you all for the support throughout the months, even at times when the patches were a buggy mess. Just like the initial release of the mod on April 1st, this anniversary patch is very real, and best experienced on this day of the month. Changelog: Pressing escape while in the EE UIs now backs out of them rather than bring up the pause menu The stats tab now shows damage dealt and received in the current fight (or previous fight, when out of combat) Added a new bug to the character sheet Performance improvements to the hotbar Gold/Splinter counter in the stats tab should now be more reliable Minor technical changes to make the mod compatible with Descent Added a scrollbar to the hotbar buttons drawer The hotbar now goes below the inventory and character sheet Hotbar cooldown animations should now be smoother Fixed bugs with unbinding actions in the hotbar, as well as clearing unmemorized slots Fixed muted characters not having their slots greyed out in hotbar You can now activate your Epip Encounters license ingame from the options menu Tooltips can now be scrolled on one axis with the mouse wheel The punisher now drops MicroBoss\u2122 loot to make him feel more optional Added a cinematic camera option, on by default Reworked the vanity feature: it now opens a custom tab in your character sheet. Browsing templates is a lot more convenient this way. Saved outfits are now categorized by race & gender (doesn't stop you from applying them to anyone though) It wouldn't be an Epip patch if something didn't ship unfinished, which is why I must announce that the promised feature to mark templates as favorite did not make it in. On the technical side of things: Added an alias for the Ext table to make it easier to type: SEX = Ext -- Short for \"Script EXtender\" SEX.Print(\"Welcome to Norbyte's SEX v56 !\") Fixed more inconsistencies with copy/paste in the message boxes Added an option to log AI scoring to the console: the top 3 actions will be shown anytime decisions are made. Work-in-progress as some of the AI features in the extender are currently bugged. Tooltips for Ascension stats in the stats tab are now created dynamically, so there's no need to edit them if you've edited the description/name Added a Server table on the client, from which listeners for any Osiris symbol can be created, eliminating the need for boilerplate code on the server side if you need to listen for Osiris stuff. Added an Osiris table on server to make user queries and DB queries a bit less aids to use in lua: -- DBs with only one tuple return their contents directly, rather than as a list local _, value = Osiris.DB_PIP_EpicStats_DamageDealt(char.MyGuid, nil) -- User queries can also return variables directly from their output DBs, even for queries with multiple outputs local value = Osiris.QRY_AMER_KeywordStat_VitalityVoid_GetRadius(char.MyGuid, 1) On the future side of things: Development has slowed down throughout March due to work and studies, but I'm not planning on stopping work on Epip anytime soon, and there are lots of exciting features in the planning stages. There is no time estimate for any of them, they're just things I know I will try out eventually . I know creating expectations never ends up well, but for the anniversary I felt it would be nice to write down the ideas I'm planning for the near future: Character sheet overhaul: the attribute/ability/talent tabs will become easily moddable, for modifying or adding new entries to them. This will pave the way for custom attributes and abilities. The UI currently used for the custom vanity tab will be made generic, so anyone can add their own tabs. Proper controller support for EE UIs: a large undertaking, but something that looks to be very possible and would be a massive quality of life improvement. Custom journal UI: will replace the current changelog functionality. The plan is to use the GM mode's journal UI as a base, since it's a slick, full-screen UI with support for nested categories. The functionality will be made generic, you'd be able to use it for more than just changelogs. A way to create UIs just from lua: work on this already started back in early January; it's used for the [REDACTED] in Fort Joy, but it's quite incomplete. The plan is to allow for creation of UIs with backgrounds, text, and all the Larian form elements (buttons, dropdowns, sliders etc.), all without touching any swf. More documentation for the source code, namely the remaining UI scripts and the base metatables Thanks for reading and I hope you have an epic 1st of April. 19/2/22 Huge Hotbar rewrite \u00b6 Rewrote the hotbar UI. This involves mostly technical changes, in preparations for a standalone release. Your hotkey keybindings will be reset with this update! Please bind them again. Visible changes: Fixed the top of the buttons area blocking clicks onto the world and other UIs Any skill or item can now be dragged from the hotbar to the customizable buttons to bind it there (useful for old mods that use skills/items to bring up menus) The \"use last slot\" action has been removed due to this. Removed the \"view changelog\" action The slot rendering is now entirely scripted (no help from the engine) which works around a crash and removes the need for an initialization procedure (that annoying \"switch to the first row\" message) Saving your current amount of bars and order should be a lot more reliable (now happens upon pausing the game, instead of a timer) Action buttons can now be highlighted or disabled; ex. the pyramids one is disabled if the party has no pyramids Added an action to open the pyramids UI Fixed the source skill border clipping into other rows Added compatibility for Weapon Expansion: adds an action for toggling the menu, and repositions the original button when you have 2 rows of action buttons Actions in the drawer are now ordered in a consistent manner Added a context menu when you right click a row; from there, you can: \"Push\" groups of slots to the left/right (useful for inserting skills inbetween slots) Clear rows, or unmemorized skills Save and load \"loadouts\" of rows. Loadouts can be applied even if your character doesn't currently know all the skills from it. Other changes: Simple tooltips (the ones that go in that very small black box) now appear much faster, rather than being delayed Added numerous calls to Game.Character and Game.Item , mostly related to functionality needed for the hotbar. 5/2/22 Docs inauguration patch :flashed: \u00b6 Added new stats to the stats tab (more coming later): Party gold, splinters Celestial restoration Vitality Void damage, radius Prosperity threshold Rewrote the ingame options menu; the mod's settings now gets its own tab instead of being stuffed into Gameplay You can now switch to and from Tactician difficulty at any time from settings Improved context menu scrolling Touchups to MessageBox, Examine Cleaned up Utilities.lua, removed old unused methods Removed support for the archaic config file structure (from before the ingame settings menu; very old) Created documentation for Game , OptionsSettings, MessageBox, StatsTab, Examine, and CharacterSheet 26/1/22: birthday patch :flashed: \u00b6 Fixed \u201cTeleport to\u201d not working on anything other than characters; it now works with items and triggers as well Fixed shields not showing all transmog options Fixed more inconsistency issues with context menus on world characters Transmog menu now works properly for characters that have had their race/gender changed Added an option to show B/H next to player portraits while unsheathed Fixed tooltips of damaging statuses for real Added an option to force story patching on every load Physical/pierce resistances in character sheet now get colored blue/red like how the normal resistances would Holding shift now fades out statuses on the enemy health bar Temporary solution for scrolling context menus that would leave the screen, with the mouse wheel Added something awesome to Fort Joy Technical stuff so it doesn\u2019t look like I\u2019m doing nothing: \u00b6 Added utility methods for initializing \u201cFeatures\u201d You can now specify required filesystem overrides and mods for features, with them automatically disabling themselves if these are missing Removed GetCharacterDodge function Rewrote character sheet resistances script Rewrote script for enemy health bar Moved Majora\u2019s compatibility to its own script Added Game.Character library for character-related stuff Moved a lot of old calls to Client Started work on a library that allows the creation of UIs purely in lua (no swf/actionscript editing) 14/1/22: \u00b6 Re-enabled custom icons on the UIs that previously used them, as the extender issues with them have been fixed. Added a transmog context menu, can be enabled in settings. Appears on equipment with visuals, including weapons. Submenus display categorized root templates, filtered down to only the ones compatible with your current race/gender/alive/undead. Supports Majora\u2019s Fashion Sins. Can save/load outfits, along with their dyes. Saved outfits are in EPIP_VanityOutfits.json Warning: artifacts and armor set items will not currently work properly when transmogrified. Also, Majora\u2019s tabs tend to overflow the screen. Fixed status tooltips in v56 Fixed extract runes context menu option consuming gold instead of splinters Numerous miscellaneous internal changes 27/12/21: \u00b6 Updated to v56 of the extender. Current issues (with the extender): Anything related to status tooltip editing does not work as Game.Tooltip is borked UIs with custom icons (hotbar, toolip) stop displaying vanilla icons after the first session. Custom icons are disabled for now so as to keep both the hotbar and console usable Removed the old console cheats Full rewrite of the stats tab; it should be a lot more reliable now (especially in multiplayer) and survives lua resets Stats and categories are now defined in Epip.Features.StatsTab. Fixed context menu not working on chained characters, and added it to summon portraits (maybe) fixed summon portrait display issues Custom talents now display in the examine menu Organizational changes to tooltip adjustments script torturerSkillOverrides was moved to Data.Game.TORTURER_SKILL_OVERRIDES statusToSkill was moved to Data.Game.DAMAGING_STATUS_SKILLS v1043 (19/12/21) \u00b6 Added critical chance to the examine menu, below damage Added an option to set the default position of the Examine menu (middle, left, or right of the screen) Fixed health bar appearing in character creation Added a new context menu option to dismantle all equipment within a container. Only shows up when there's equipment within a container. Dismantling through the context menu now requires shift-clicking for any equipped item Fixed right-clicking containers bringing up debugging cheats for the character you previously had selected Organizational changes to various UI scripts and older features, as preparations for the grand debut of the Epip modding docs Reuploaded on 22/12/21 with the following fixes: More organizational changes (moving Data.UI to Client.UI.Data) Fixed immunities in examine showing up in the wrong place Undid some recent changes that lead to playerInfo summon display breaking Reuploaded on 23/12/21 to remove some testing text in character creation, as well as to (maybe?) fix an issue with combat HUD disappearing in new games. v1042 (14/12/21) \u00b6 Added an option to hide hotbar hotkeys text Added an \"Immersive Meditation\" setting which disables hotbar and minimap UIs while in Amer UIs Added shortened names for the remaining numpad keys (multiply, add, minus, etc.) Added an auto-identify setting, with 2 modes: always, and only with enough Loremaster. This will instantly identify items when they are generated Item tooltips no longer overflow through the top of the screen, making it easier to see the damage stats on items with 3 filled sockets Dismantling from the context menu now requires shift-clicking for items with runes inside (as a way to mark them as 'important' and avoid misclicks related to a certain new feature) Added a context menu option to items to dye them (requires the dyes to be in the party's inventory) Added a context menu to player portraits to hide statuses and summons (not saved between reloads for now) Added a context menu option to extract runes from items Added a debug menu with cheats for characters, available in the extender's developer mode Accessed by right-clicking a character in the world, or a player portrait in the left portraits UI Allows you to add all sorts of stats, spells, SpecialLogic, spawn items, treasure tables, toggle godmode, and more The new context menu tech is quite extensive, and can be toggled off in the settings in case any serious issues arise Finesse recovery now works for pay X skills, and sucker punch You can add more exceptions to DB_PIP_WeaponBasedFinesse_Whitelist((STRING)_Skill) Fixed overhead dialogue durations being wrong when they were changed away from the default value Overhead sizes are now always default in Amer UIs Fixed origins gaining epic enemies perks for real this time Fixed description of Clouded Memory Fixed map visibility setting not working after exiting respec Fixed being able to toggle minimap within character creation Fixed weapon range deltamod tooltip showing up on unidentified items Fixed wrong health bar B/H display on dead characters The dismantle context menu option should no longer get permanently stuck in case of unidentified shenanigans Added a 20% tax to dismantling items from context menus, used to amortize the development costs of the new menus as well as to fund future development of the mod just kidding v1041 (23/10/21) \u00b6 Added a slider for status overhead duration Fixed damage overheads for items not working with the new size settings Fixed the talents tab being selected after exiting mirror Fixed character sheet not updating the first time it is opened after a respec Fixed decimal stat adjustments being lost while merging them into one tooltip Fixed character creation talent points display when changing presets Fixed 1st hotbar not being clickable after a lua reset Fixed hotbar cooldown/active overlays when joining mid-session This should also have fixed the issue with loading a save during a summon turn Origins should no longer get Epic Enemies buffs Possibly fixed unidentified items showing the weapon range deltamods in the tooltip v1040 (19/10/21) \u00b6 Added some client APIs for the message box UI and overhead texts (Client.UI.MessageBox and Client.UI.Overheads) Added settings for overhead sizes Added a setting to bring back the vanilla combat log button (on by default) Fixed talents not being hidden properly in the character creation UI (which includes the mirror, it's the same UI) Fixed EE stats tab not working for new companions until a reload Fixed sliders in the options menu being saved with +1 step than what you've set them to v1039 (17/10/21) \u00b6 Fixed SI tooltip highlighting not working for a few schools Fixed wrong earth damage color in shift-tooltips v1038 (16/10/21) \u00b6 Added a hotbar hotkey to use the skill/item on the very last slot of your hotbar (right-most in 5th row) Can use this to make a Source Vamp hotkey, for example Weapon range deltamods now show up like regular deltamods on the tooltip, and the weapon range display is split up to show both base and extra range Holding the show cones button (shift by default) will display skill damage as their multipliers When infusing or when the shift key is held, unmet SI requirements will be displayed in red text Possibly fixed the \"auto-unlock inventories\" feature Artifact items now show quality Added an option to log all UI ExternalInterface calls and invokes to the console, visible in the settings menu if the extender developer mode is enabled Started slowly organizing code into sensical libraries; anything in the extended Game table should be reliable and will likely not change names Let me know if something that used to work before broke all of a sudden Fixed an error in the console when hovering over armor whose subtype could not be determined (ex. the starting tattered equipment) Character Creation UI now implements machine learning and blockchain technology to notify you of possible typos in your character names Added a WIP custom talents feature. See EpipTalents.lua for usage example. You can also hide any non-racial talent. Shortcomings: They will only display on kb+m. No controller UI support yet. They do not show up in the examine UI yet. Requirements are not rechecked while moving ability/attribute points around in the mirror; upon exiting, you will still lose any talents you cannot sustain Can't bind them to deltamods Rarely, the mirror UI might show you having fewer talent points than you do - this should fix itself if you exit the mirror and go back in (if someone has a save where this happens consistently, let me know) As a result of the talent UI changes, the bug with unequipping walk-it-off should be fixed v1037 (2/10/21) \u00b6 Fixed right-most zeros getting culled in stat adjustment tooltips Added a new setting to disable fog of war (server-wide, host-only, non-destructive; can be reverted) Minor visual bug: re-enabling FoW will cause the world to go black until you unpause v1036 (1/10/21) \u00b6 Changed the Damage tooltip in character sheet to be less confusing Removed the obsolete \"From LW: -0%\" tooltip text from character sheet Removed the word \"Set:\" from deltamods Added an option to auto-unlock inventories in multiplayer upon loading a save. This setting is per player. Fixed negative stat adjustments not being grouped together in tooltips Equipment now shows a \"Quality\" rating in tooltips, which denotes how good its damage/armor roll was. An item with 100% Quality has the best roll (only possible for Divines) Trickster's Repertoire now grants invisibility+sneaking until the start of your first turn, and only causes you to sneak starting from your second round. Additionally, at the start of your turns, you always unsneak. Changed wording for the Hothead tooltip Fixed error spam in console upon reload, and reorganized some code Added a lifesteal stat to the stats tab (will update upon changing Necromancy points, or in combat) Finished support for preset descriptions in character creation, override CharacterCreation.characterCreationPresetDescriptions in CharacterCreationUI.lua to set them v1035 (12/09/21) \u00b6 Replaced the config json file with an ingame settings menu, available from the game's normal \"Gameplay settings\" tab Unidentified artifacts now show their rarity as artifact, and use the custom color Proteans and Artifact runes now also use the Artifact color, and slots that they cannot be put on have a warning message Fixed Trickster's Repertoire breaking sneaking from other effects that cause you to sneak Fixed hotbar initialization message (again) v1032 (05/09/21) \u00b6 Small patch with some QoL for dyes and a fix for a Finesse issue. Dyeing equipped items will now re-quip them automatically Changed the finesse recovery for weapon-based skills to fix an issue with delayed procs if multiple things used its logic Removed the option to show enemy lvl in healthbar (still buggy!) v1030 (30/08/21) \u00b6 Monthly patch to appease our ever-so-hungry Derpy overlord. Hotbar slot keys now work as expected - ex. pressing \"4\" will use the fourth skill on the bottom bar, regardless of the row it's set to Hotbar actions now show their keybinding, if they have one Vanilla actions (ex. open journal) will always show the vanilla keybind instead of the custom one (it will still work, though) Re-enabled the keyboard hotkeys for hotbar actions by default. If you had these disabled previously (or if you're using the mod for the first time), its keys will be unbound upon loading in Changed the default hotbar bindings to swap ping with combat log Added a hotbar action for Portable Respec Mirror, if its mod is loaded Resting from the hotbar now uses the item rather than resting directly (should work with other bedroll mods now) Added a toggle for the minimap onto the hotbar You can no longer rearrange hotbar actions while the hotbar is locked (except within the skills panel) Added a faint blinking animation to the health bar when B/H have 1 turn or less remaining Added an option to show level next to character name in the top healthbar (on by default) You can now unbind hotbar action buttons with middle-click Added handling for when hotbar actions are removed from a save (ex. disabling a mod that adds them) Brittle status now shows its calculated damage like DoTs Masterworked items now show a warning in the tooltip Changed Splintered Arrow icon Fixed Escapist being a huntsman skill Fix protruding hotbar texture on the bottom bar Fixed Trickster's Repertoire removing AP in consecutive turns Trickster's Repertoire no longer activates while playing dead Fixed artifact names not using the new color (oops) Moved the casting notification slightly up so multiline ones don't overlap the health bar Fixed dragging items onto the world not working if the hotbar was enabled Fixed the add/remove rows button being available on summons after opening the pause menu You can no longer use hotbar action hotkeys in dialogues (or other occasions where the UI is entirely hidden), when there is a UI element focused, or when the game is paused Fixed name of hotbar slot 6 binding in the input menu Fixed Slowed 3 AP penalty stacking v1029 (06/08/21) \u00b6 Moved the casting notifications to where your health bar is, and added a toggle for them in the settings (defaults to enabled) Toggle party link hotbar hotkey is now instant (no casting animation) Added a one-row layout to the hotbar actions bar, which is automatically used when you only have one row of skill slots active You can control the behaviour with the new hotbarHotkeysLayout setting: \"auto\" is the behaviour described above, \"single\" makes it always use the 1-row layout, \"dual\" forces it to always be two rows (like how it was before) Keyboard hotkeys remain functional at all times, even if the buttons are hidden Fixed \"c\" displaying on the hotbar button you're dragging DoT statuses now show their calculated damage The display fluctuates for a bit after a skill cast, might redo this entirely later to not rely on the engine damage formula Centurion Battlestomp can now only be cast if the target is at <10m, and does not consume the ranged charge Tried banishing the \"Enemy Turn\" message again v1027, v1028 (30/07/21 and 31/07/21) \u00b6 This patch contains numerous fixes and the first part of the rework of hotbar hotkeys. Happy birthday Derpy! Replaced the tutorials tab in the journal with a patch notes tab See EpipPatchNotes.lua for an example on how to use this in your own mod. Artifact tooltips now show \"Artifact\" as rarity rather than Unique Hotbar Updates Added customizable hotbar action hotkeys/buttons. Drag and drop to rearrange/assign them, right click to bring up a list of all actions. Mods can add their own actions very easily; see HotbarActions.lua for an example. To use them with keyboard keys, assign the \"Hotbar Hotkey #\" keys from the game's controls menu. Rebinding them will be easier in the future. You must also enable them within the config file. This rework is a work-in-progress, both in terms of functionality and art; in the future there will also be a 1-row layout. The multihotbar is now enabled by default. Set \"disableHotbar\" to true in the config file to disable it. (the old setting now does nothing) Deprecated the Infusion and Meditate hotkeys; please use the hotbar version of them from now on. Summons can no longer add hotbar rows All the custom elements should now hide during dialogues Fixed jankiness when using low resolutions Fixes Fixed player status bar sometimes clipping through portraits and appearing to the left of them Fixed stat adjustments tooltip not working properly on resists Fixed stat adjustments tooltip eating up all other boosts Fixed boss frame in the enemy health bar UI. It should work consistently now Leper rune now should properly grant the talent when it's socketed into an equipped item Fixed being able to infuse out-of-turn with the hotkey (rest in peace gigabrain infused reaction builds) Possibly disabled turn notifications on the hotbar health bar Known issues \"Actions\" drawer (attack/sneak/sheathe) does not work well along with the default keyboard hotkey, and the menu is not repositioned Buttons on the hotbar don't yet light up like they do in vanilla Order of actions in drawer is random Some hotbar buttons do not have state animations yet The title in the patch notes menu will not be the right color the first time after a reload Earlier changelogs are available on the old google doc. Man, v1026 was quite the breakthrough!","title":"Patch Notes"},{"location":"patchnotes/#changelog","text":"Older versions of the mod can be found here .","title":"Changelog"},{"location":"patchnotes/#v1063-190922","text":"Download here . If \"Unfocus after sending messages\" is enabled, holding shift while sending a chat message will keep the chat focused Fixed settings not saving if you didn't visit the camera settings tab On the technical side of things: Added operator overload annotations for RGBColor , Vector Vector.Create() accepts an existing array as a parameter (only one) Added TSK-related methods to Text This includes a localization system for strings in scripts; you can generate templates for localizing with Text.GenerateLocalizationTemplate() and they will be loaded from Mods/MyMod_MyGuid/Localization/Epip/MyTargetLanguage/ModTable.json , where ModTable is the mod table whose strings you've localized using the template Support for this within Epip will be added throughout future updates; currently only some camera settings support this You can generate fresh GUIDs or TSK handles with !guid and !tskhandle commands (on client context); they'll be copied to the clipboard","title":"v1063 - 19/09/22"},{"location":"patchnotes/#v1062-160922","text":"Surface tooltips with an owner now show a hint regarding how the damage scales \"Active Defense\" statuses (ex. Empyrean Tears) now show remaining charges EE rune materials now show how to use them to craft runes Added a setting to configure the delay of simple tooltips appearing This affects tooltips of items in the world, as well as label tooltips in UIs (these 2 types are individually configurable) Added a settings tab for camera settings You can change the maximum zoom out distance, as well as the view angles Items in the quest reward screen now show a hint regarding modifier generation Added new Greatforge graphics for Engrave - special thanks to Cathe and Elric! Fixed a vanilla bug with the character sheet that caused the second ring slot to not play equip animations Additionally, the graphics involved should now be better centered Re-added the option to auto-unlock inventories Changing the lock status should also be synched better now - the vanilla game seems to struggle with this leading to the changes often not being properly reflected in other player's UIs Fixed weapon range deltamods only considering the first deltamod of that kind found This same fix is applied for weapon elemental damage mods as well On the technical side of things: Replaced Client.GetCharacter() implementation with a new one from v57 that doesn't rely on any UIs. Let me know if something character-involved breaks as a result (though I haven't experienced any difference). Added a Camera library Added an Entity library, with shorthands for GetGameObject() and functions to get all characters/items on a level Added limited alpha support to RGBColor (I don't think alpha is used anywhere in scripting though) Item.GetIcon() is now fully reimplemented following engine code Stats library now also holds dynamically generated data of runes, except framed ones Tooltip library now supports item tooltips and simple tooltips (the usual showTooltip call), and offers additional contextual data (ex. skill ID for skill tooltips) Started work on a new UI-independent settings library with per-profile settings support; not yet used","title":"v1062 - 16/09/22"},{"location":"patchnotes/#v1061-40922","text":"Added new settings for world item tooltips: Emphasizing containers, consumables and/or equipment by changing their color This setting will not work for items that would result in a crime upon interaction; they will remain red. Enabling world tooltips for all items (similar to the \"Let there be tooltips\" mod) Filtering out clutter (particularly the one added by the setting above): chairs, doors, non-interactable items Option to open containers upon clicking their tooltip, rather than picking them up Added an option to exit the chat UI after sending a message (so you don't need to press escape manually) Added an option to disable notifications for sharing civils (\"X shares Loremaster/LC with Z\") Searching saves is now case-insensitive Added a ping counter to the debug display Since the server only responds to net messages once per game tick, the counter will basically always show around 33ms in singleplayer Fixed \"Show empty containers/bodies\" not actually working on items Fixed another case of an infinite loop of switching characters Fixed the \"toggle world tooltips\" keybind not working (+ crashing the game) Fixed some character sheet tooltips appearing in the vanity UI On the technical side of things: Osiris library now converts boolean values to integer in calls Added HasFlag() , IsContainer() to Item library Added initial groundwork for an inventory expansion","title":"v1061 - 4/09/22"},{"location":"patchnotes/#v1060-30922","text":"Added a better frame for the hotbar health bar, and shadows for the AP bar (thanks Elric) Added a keybind to bring up the examine UI (the real one) Added all engine actions (the ones you see in the controller UI) to the hotbar actions drawer (the vanilla one, bound to X ), except for flee Reordered some keybindings Added \"Let there be tooltips\" to the list of EE-incompatible mods Fixed character-specific context menus appearing on items Fixed the save/load overlay not disappearing in multiplayer when the UI is closed Fixed a possible edge case with walking over corpses in combat that would result in the corpse not being lootable after combat Fixed the dragging area for the debug display being too large Fixed an issue with character control switching rapidly Fixed hotbar tooltips not showing keybinds Removed the \"Special Binding 1 & 2\" keys since they are no longer used On the technical side of things: Added data for all InputEvents to Input as well as possibly the world's biggest alias Added an IO table Began modernizing the context menu APIs Added a Pointer library, currently deals only with Ext.UI.GetPickingState() -related matters Added table.lua and math.lua containing the extensions to the respective built-in tables RGBColor creation now clamps the color values Implemented __eq, __add and __sub for RGBColor Various fixes for outdated/clashing IDE class names Fixed an infinite loop when using the default buttons for MessageBox Added a table for combatTurn UI Unfortunately this UI does not appear to hold any character handles, making it not very useful.","title":"v1060 - 3/09/22"},{"location":"patchnotes/#v1059-290822","text":"Fixed an issue with using items in hotbar groups after reloading Fixed item amounts displaying incorrectly in hotbar groups Fixed an issue with the unlearn skills prompt appearing while the UI is closed On the technical side of things: Added \"Actions\" (ground attack, sheathe/unsheathe, etc.) to the Stats library","title":"v1059 - 29/08/22"},{"location":"patchnotes/#v1058-290822","text":"Versions from this one onwards require extender v57. New features: Consumables like food and mushrooms now show their effects by default; there's no need to eat them once for them to appear in the tooltip Added a setting to enable infinite carry weight You can now right-click skills in the skillbook while out of combat to unlearn them Added a keybind to toggle world item tooltips (so you don't need to hold the alt key) Surface tooltips now show their owner (who the surface damage scales from and who owns its applied statuses) Added a setting to disable the \"Item Received\" notifications Added a setting to allow viewing the character sheet while in the quest rewards UI; this lets you compare your equipped items with the rewards. Vanity: transmog and dyes no longer require items to be re-equipped, making it overall faster to try on different looks Added an option to hide empty corpses/containers from the world item tooltips (the ones that appear from the alt key) Added a setting to allow you to walk onto corpses while in combat without looting them. You may still loot them while holding shift. This setting is enabled by default. The fix to character control being lost upon creating new summons now also applies to having your summons be killed Added an option to play a sound effect when a chat message is received, so they're easier to notice Empowering items now properly scales their armor values, but this will only take effect after a reload Fixed the vanilla bug that prevented you from using items in certain conditions if you had +AP Cost effects Added a keybind to scroll the fancy item/skill tooltips ACTIVE_DEFENSE statuses (ex. Empyrean Tears) now show max charges in the tooltip Holding shift while moving in combat now shows approximate decimal AP costs Status tooltips now show if they were applied by an equipped item Fixed the tooltip color for effects that alter AP costs. They now display in green if they reduce AP costs, and red if they increase them. The custom input menu has been reworked to use new extender tech; all keys supported by the game are now bindable, including modifier keys like alt/ctrl. Your previous bindings will be wiped upon updating. Added new modifier keys to cycle bars on the hotbar: ctrl cycles 3rd bar (from bottom), alt cycles 4th one, gui (Windows key) cycles 5th one Added an \"Engrave\" option to the Greatforge which lets you rename items. This is purely visual. It does not currently have a custom graphic. It will appear as another \"Drill Sockets\" in the Greatforge wheel. Minor visual adjustments to QuickExamine The Epip settings menu is slightly more organized now Added more mods to the incompatible mods warning: DU, Greed, Multihotbars Hotbar: Slots can no longer be used while holding modifier keys. This means you can use shift/ctrl/alt + number keys as a custom keybind without it interfering with the hotbar. Fixed loadouts not saving empty gaps inbetween slots You can't cycle hidden bars anymore Added custom slot groups. Right-click a row on the hotbar to create one. These are shared across all your characters. Right-click them to delete them. Known issues: Items there do not display tooltips yet Fixes: Fixed tooltips for Vanity tabs Fixed negative status effects displaying wrong ever since GB5 Epip's artifact tooltips (in Quick Examine, stats tab, etc.) now have a period at the end of them Hotkey to exit Meditate is now escape, instead of escape / right-click. Fixed action names on the hotbar buttons Fixed some character sheet tooltips appearing while in the Vanity menu Stuff for developer mode: Added a keybind to copy identifiers (GUID for chars/items, stat ID for skills) of the object over your mouse Added a settings menu to change Data.txt values ingame. Most of them apply instantly / upon character stat recalculation, but some may require a session reload. Talents show their IDs in tooltips The cheats context menu now lets you add talents Added an option to enable a widget that shows FPS, TPS, and relevant mod versions Added a keybind to open a debug menu from which you can toggle debug mode on features, disable them (or their logging), and run tests (a new feature of the Feature table) On the technical side of things: Osiris library now supports built-in symbols (calls and queries) and extender objects are converted to their GUID when being passed Added a Vector library (with some cool arithmetic operator overloads) Added a new tooltip library (WIP), advantage include preventing tooltips and manipulating surface tooltips, viewing source UI of a tooltip SubscribableEvent nodes can now be removed based on a predicate function, and preventable events are supported Fixed some log spam related to the hotbar Added groundwork for the Epip Housing(TM) feature Slight modernization to Net library: the payload is now passed as the first parameter, and IDE hints are available by defining the net msg as a class with the payload's table fields Timer lib is now available on the server, and a tick-based timer option has been added, as well as option to repeat / pause them Added a better coroutine table with sleeping (either for X seconds, or until a condition is met) Added a new Epip.RegisterFeature() call which can keep track of the source mod of a feature Added a new Input library using v57 RawInput Added more hooks to CharacterSheet UI in preparations for custom talents 2.0 (and other stats) Added ExtraData tables to Stats library Added PartyInventory hooks Removed numerous archaic/unused scripts, like the custom talents ones GenericUI: Added more bg options for TiledBackground Added new elements: Slider, Grid Events now have proper IDE support, and no more issues with inheritance Element creation now has proper IDE support, if you instantiate elements using their class name Added more position-related calls Element visuals now use string IDs, and unused visuals are set off-stage (less possibility for jank) Fixed button size issues Removed minimum size for black background Fixed stack overflow issue with lists Added support for skill tooltips Fixed issues with MouseUp on the slot element Changed mouse events to use the roll ones Added proper support for prefabs, with the following implemented: Spinner Text (offers simpler initialization of Text elements) HotbarSlot (with many improvements to bring it closer to hotbar behavior) FormHorizontalList LabelledCheckbox LabelledDropdown LabelledTextField","title":"v1058 - 29/08/22"},{"location":"patchnotes/#v1057-260722","text":"Fixed the annoying issue of control being switched to new summons in combat while it's still your turn Crafting UI now remembers your last tab (equipment/consumables etc.) Added a setting to set the default tab for the crafting UI The hotbar now shows a warning for unmemorized skills, as well as skills from items that have been unequipped Fixed some changelogs ingame not showing up Added an option to enable some improvements to the save/load menu: alphabetical sorting and search. The search bar supports lua patterns and is case-sensitive On the technical side of things: The hotbar updates periodically again to fix some issues, and should no longer break completely when a single slot/action fails to render","title":"v1057 - 26/07/22"},{"location":"patchnotes/#v1056-220722","text":"Stats Tab: Added Voracity stats Added Artifacts Quick Examine now shows Artifacts for your allies as well (useful in multiplayer) Vanity: added support for \"Visitors from Cyseal\" mod, though the mod currently appears to have some issue with replacing some item icons Fixed a freeze with Immersive Meditation Fixed another grey out issue with the hotbar (skills with weapon damage but no weapon requirement) Fixed the category weight sliders in Epic Enemies not being saved Fixed the \"Show Minimap\" option appearing twice in the options menu Fixed some issues with controllers Skills show their IDs in tooltips in developer mode On the technical side of things: Added StopPropagation() to the new event table Added a wrapper for checking developer mode, with an option to use an additional check; WIP and testing features will be locked behind it, meaning the rest of the features (like the cheats menu) can be used without problems Added a few new utility methods Started work on further giga brain hotbar improvements","title":"v1056 - 22/07/22"},{"location":"patchnotes/#v1055-200722","text":"Added an option to reduce the opacity of the player status bars while in combat Vanity UI now closes when you go into combat Status tooltips now show source (if it's a character) Re-added the hotbar actions drawer (the one with force-attack / sheathe / sneak) Added a Vanity action to the hotbar Added new Combat Log filters: critical hits and dodge Status tooltips now show ID and Type while in developer mode Added embodiments to the stats tab Read books and used keys now show a label in their tooltip (not retroactive) Fixed Max SP check being inaccurate on the enemy health bar Added new divider sprites for the player health bar Player health bar now shows maximum SP, and the SP counters are centered Fix item use cost not being considered while greying out slots on the hotbar Fixed consumable items not greying out properly in the hotbar Fixed hotbar issues with Luminary, Musketeer mods Temorarily removed the option to auto-unlock party inventories due to crashes in v56 from sync rewrites On the technical side of things: Removed more log spam from Hotbar/Input Moved a bunch of tables around, removed archaic scripts/global functions Added some Larian colors to the Color table Added an icons enum to Hotbar More work on the new UI system: event listeners, Slot element Added GetExtType() for checking the type of an extender object Added GameState table Started transitioning to using a better event system, using a modification of the v56 SubscribableEvent table Updated IDE helper files","title":"v1055 - 20/07/22"},{"location":"patchnotes/#v1054-130722","text":"Added a \"Quick Examine\" UI. Currently it only shows the Epic Enemies perks characters that have them. It is invoked by a keybind while hovering over a character; default is v . You may use the lock button to prevent its selected character from changing whenever you hover over a new one; if you do that, you will need to press the keybinding manually to change targets. You can drag the UI around by holding down left click on the upper part (the one with the character name) Artifact powers in Epic Enemies now have descriptions Hotbar now greys out unusable item skills (ex. arrows) Switching characters or clicking slots on the hotbar now attempts to fix desync issues (the one where your clicks go to the wrong rows) Fixed a freeze when using a controller Temporarily removed the Awesome Soccer minigame On the technical side of things: Added a new lua-based UI system; currently supports backgrounds, text, buttons, state buttons, the common list types (vertical, horizontal, scrolling), dividers, and icons","title":"v1054 - 13/07/22"},{"location":"patchnotes/#v1053-070722","text":"Added an option to show aggro effects on the top health bar: taunt source/target as well as AI preference tags Centered the AP orbs on the bottom health bar, and added special dividers every 4 AP Pipmode no longer gives infinite AP to non-player characters Added a cheat to apply statuses Reworded +elemental damage tooltips on weapons Fixed offhand items not auto-transmogging properly Fixed some summons still getting Epic Enemies perks, as well as party followers Fixed skills that require shield not being greyed out while muted Hotbar: Loadouts are now sorted alphabetically Added a setting for disabling slots while casting Fixed occasional flashing for slots on cooldown Fixed hotkeys being blocked if any controlled char is in dialogue On the technical side of things: Added better annotations for UI/Feature tables (works with inheritance now) Added wrapper calls to get/set stats regardless of whether they're actual stat objects or the special types (DeltaMod, TreasureTable, etc.) Moved RemoveTrailingZeros() to Text Reduced some extender log spam from stats Fixed warning spam when enemies were preparing skills","title":"v1053 - 07/07/22"},{"location":"patchnotes/#v1052-050722","text":"Epic Enemies: Reworked the Epic Enemies feature. It is now configured through the regular settings menu, not the EE one. If you're continuing an old save, the options in your EE menu will remain, but they will no longer do anything. The amount of effects enemies gain is now customizable The weighted chance of each perk appearing can be customized individually - it's also possible to adjust the chances for whole groups of effects at once (ex. all Centurion effects) All artifacts can now be made available to enemies Effects with conditional activations are supported, and can grant a variety of other perks (statuses, stats, summons, etc.) though there are no new effects that use this yet - new content will be added soon Hotbar: The \"active skill\" animation on the hotbar should be more reliable now (and no longer appears if you click spells in the spellbook) Fixed shield skills not greying out when disarmed On the technical side of things: Removed the infamous empty net script Cleaned up script loading on the server Generated new IDE helpers for built-in v56 types OptionsSettings UI now has less thicc text labels so you can actually write stuff there without taking up the whole screen Known issues: Artifact effects in Epic Enemies have no descriptions (text keys are really unreliable apparently) Switching tabs in the Epic Enemies settings menu scrolls you to the top Epic Enemies no longer gives extra Predator range","title":"v1052 - 05/07/22"},{"location":"patchnotes/#v1051-280622","text":"Small bug fixes, and a moderate QoL addition for vanity dyes. Added Ctrl+C/V support to the dye tab text fields Fixed Epic Enemies tooltip (thanks Pancarte) Fixed outfits ignoring transmog restrictions Fixed vanity dye slider text values sometimes not moving around Fixed items transmogged into artifacts gaining the special tooltip color (this will require an EE Core update to fully work) On the technical side of things: Cleaned up MessageBox","title":"v1051 - 28/06/22"},{"location":"patchnotes/#v1050-260622","text":"A small assortment of huge vanity improvements! Vanity: Added a button to delete custom dyes Switching characters no longer closes the UI The current tab is remembered when switching items through the context menu Added a toggle to prevent the sliders from being set to the item's current color (makes it easier to reuse a dye on multiple items) Added fields to enter colors in hexadecimal Added buttons to copy/paste colors Added buttons to import/export dyes to/from the clipboard Sliders can now detect the default color of an item that hasn't been dyed before Added a checkbox to auto-transmog equipped items to your old item's appearance while the UI is not open (so you can switch out items in the UI without needing to toggle it off) Fixed the Vanity option appearing on non-equipped items Other: Added keybinds for the debug teleport (no longer uses the ping key) Custom keybinds no longer fire while in dialogue On the technical side of things: Added support for dev-only keybinds Moved Flash table to Client Added a Color table Created a github repository: https://github.com/PinewoodPip/EpipEncounters/commits/main","title":"v1050 - 26/06/22"},{"location":"patchnotes/#v1049-230622","text":"Added an option to enable improvements to the combat log. Messages can be filtered by type, and certain messages will be merged into one line if they occur one after another, such as surface damage and healing. This option will only work when playing in english , unless someone is willing to help me make string patterns for other languages. Right-click the combat log to set your filters. You can also clear the log from that menu. When damage messages are merged into one line, they will display the amount of hits that were merged at the end. The exception to this is damage that occurs within 25ms of eachother, such as weapon attacks with coatings. These are counted as a single hit. Messages parsed by the new combat log system will now have a consistent base color, gray, instead of randomly using white. Some messages have been slightly reworded for consistency Added options in the cheat menu to add/remove tags. You can use this to clear a character's main character status by removing the AVATAR tag. Added a button in the debug sections of the options menu to warp to AMER_Test AMER_Test got Pinewood'd a bit Weapon tooltips now show +elemental damage modifiers Updated Derpy's treasure table displays Removed the option to disable custom context menus Fixed keyword source tooltips being off-by-one Hotbar action button tooltips now show their keybind (without shortening) Removed the automatic unbinding for GM keybinds, since they are no longer used for the hotbar Added chat commands: /rp displays a message over your character's head /emote performs an animation /help lists help for all commands Added a new tab in the controls menu where you can bind hotbar action hotkeys as well as standalone hotkeys for Meditate and Source Infuse. You must rebind your hotbar hotkeys Two keybinds previously used by the hotbar are now reserved as special keys that can be bound in the new custom keybinds UI. The purpose of them is to allow extra mouse buttons and other special bindings to be used with the new system until it is improved. Fixed numerous problems while playing with controllers Added a setting to make the Escape key close the Amer UIs entirely rather than popping page Fixed a hotbar refresh issue when pushing slots around Fixed hotbar action buttons no longer properly showing active/inactive state Removed the option to disable wrapping statuses (it has not actually worked for a long time) as well as the vanity menu Vanity: Added custom RGB dyes to the dyes tab Added all built-in ItemColor entries as selectable dyes Saving now also happens when you add/delete an outfit or a dye You can no longer transmog GB5 items Fixed spears not being available in the transmog menu Fixed the vanity option not appearing for non-shield offhands Added a button to delete outfits Fixed positioning of the vanity UI while playing on resolutions other than 1080p, or when dragging the character sheet Fixed saving outfits with weapons not working Removed the dye context menu for real The UI now shows a message if you select an empty slot, instead of opening a message box Slight changes to positioning of elements Improved performance The character sheet unallocated points notifications are now hidden while in the UI Other: Fixed a bug with hotbar action buttons resetting Added a \"Healing done\" stat to the stats tab The \"Damage dealt\" stat now also considers your owned summons On the technical side of things: Reworked how the selected item is tracked in the Vanity UI Reworked all tabs of Vanity to be separate, independent features Added initial groundwork for supporting controllers in Amer's UIs Added APIs for chatLog , optionsInput _Feature:DebugLog() is now polymorphic like the regular print function Added the Input UI, with possibilities for tracking text keys from the keyboard, and intercepting interface events Added FlexStats for sight and hearing, ranging from -128 to +128 (except for sight which goes to +2048) Added support for saving settings on the server Removed unused ItemColor stats Removed unused PersistentVars table Hooks can now be set to only return the first non-nil value (and stop propagation after that) Cleaned up the client bootstrap script Added an !animtest command on server, auto-playing all female human animations on the host character. There's no stopping it once started, so be careful! Added a !soundtest command on the client, which tests all UI sounds. Might've been added before this version, I don't recall exactly when it was implemented. Added some sick ASCII signatures to the bootstrap scripts, as well as a readme","title":"v1049 - 23/06/22"},{"location":"patchnotes/#v1048-140522","text":"Added a warning upon loading a save with mods known to be problematic Graying out hotbar slots while casting skills should now work similarly to before Added Derpy's scripted encounters to the Treasure Table Display Added an option to disable area transition labels or change their duration. It now also hides immediately if you hover over a character/item to bring up its healthbar Possibly fixed a significant stuttering issue with the hotbar Added a button to revert a transmog'd item's appearance (not retroactive; will only work on newly transmogged items) Changing tabs in the Vanity UI now plays a sound Rounded the numbers in the Treasure Table Display Added a dyes tab to the vanity menu RGB sliders are not finished yet (you can use them in developer mode, but they will not be saved) On the technical side: Fixed a net error message upon loading into the main menu Fixed a startup error related to the Osiris table Added UIObject flag helper methods to the UI table (though Norbyte confirmed these will be usable like other enums in the future) Added ways to set and delete tuples to the Osiris table with :Set() and :Delete(); :Get() queries the DB (previous usage still works). Osiris table's DB queries now return the list of tuples as the last return value, always Added a separate UI for querying time from flash Fixed time functions not accounting for daylight savings (iggy oversight) Added annotations for the _Feature table/class Added a Text library with a handy format function Improvements to events and hooks: libraries can now hold their events and hooks as tables in Event and Hooks fields respectively, from which you can easily see all listener types available and register listeners. Doing it this way enables auto-completion and intellisense/EmmyLua annotations for listener parameters, which was not possible before. Old libraries will slowly be updated to use this, and the old method of registering listeners will stay. The standalone hotbar mod will be updated tomorrow (15th May).","title":"v1048 - 14/05/22"},{"location":"patchnotes/#v1047-200422","text":"Added an option to show artifact/protean chances on enemy health bars when the \"Show Sneak Cones\" (shift by default) key is held. Also works on containers, without needing the key to be held. Fixed an issue with some setup event being unreliable (likely the source of many hotbar problems) Fixed some events being fired once per user Fixed equip animations in the character sheet Client timers are now truly client-side As a result hotkey'd skills on the hotbar should now have a lot less delay Fixed hotbar not being greyed out for dead characters Fixed \"None\"-type weapons not being considered melee, causing incarnate bull rush to appear grayed out in the hotbar Fixed another large performance issue with the stats tab","title":"v1047 - 20/04/22"},{"location":"patchnotes/#v1046-140422","text":"Added a new journal UI, replaces the quest log for changelogs. Access it from the hotbar Fixed Inconspicuous not being hidden in character creation Hotbar config (hotkeys) now also saves when you save the game, not just when the game is paused Incompatible giftbags can no longer be enabled (you should still be able to disable them, if you had them) Added a way to mark templates as favorites in the vanity UI, moving them to a special category Vanity UI now shows categories in a consistent order Small change to stats tab to make stats editable post-SessionLoaded Character sheet now goes below the hotbar again Increased the hotbar's \"refresh rate\", fixing an issue with slots being clickable when they shouldn't Fixed the hotbar drawer locking up your scroll wheel Renamed the transmog context menu option to \"Vanity\", made it only usable on equipped items Added support for Rendal's NPC Armors to the vanity UI Reduced logging when developer mode is off You can no longer open the vanity menu while in combat Your currently equipped template in the vanity menu is now indicated by an icon instead of a suffix Fixed Immersive Meditation ignoring the setting Fixed a performance issue with the stats tab","title":"v1046 - 14/04/22"},{"location":"patchnotes/#v1045-1422-anniversary-patch-flashed","text":"As of today, Epip is now one year old! My attention span for projects tends to be very low (as evidenced by my other EE stuff), but Epip looks to be an exception to that and it's incredible what it has become - all its UI changes were nearly unimaginable just a year ago. Thank you all for the support throughout the months, even at times when the patches were a buggy mess. Just like the initial release of the mod on April 1st, this anniversary patch is very real, and best experienced on this day of the month. Changelog: Pressing escape while in the EE UIs now backs out of them rather than bring up the pause menu The stats tab now shows damage dealt and received in the current fight (or previous fight, when out of combat) Added a new bug to the character sheet Performance improvements to the hotbar Gold/Splinter counter in the stats tab should now be more reliable Minor technical changes to make the mod compatible with Descent Added a scrollbar to the hotbar buttons drawer The hotbar now goes below the inventory and character sheet Hotbar cooldown animations should now be smoother Fixed bugs with unbinding actions in the hotbar, as well as clearing unmemorized slots Fixed muted characters not having their slots greyed out in hotbar You can now activate your Epip Encounters license ingame from the options menu Tooltips can now be scrolled on one axis with the mouse wheel The punisher now drops MicroBoss\u2122 loot to make him feel more optional Added a cinematic camera option, on by default Reworked the vanity feature: it now opens a custom tab in your character sheet. Browsing templates is a lot more convenient this way. Saved outfits are now categorized by race & gender (doesn't stop you from applying them to anyone though) It wouldn't be an Epip patch if something didn't ship unfinished, which is why I must announce that the promised feature to mark templates as favorite did not make it in. On the technical side of things: Added an alias for the Ext table to make it easier to type: SEX = Ext -- Short for \"Script EXtender\" SEX.Print(\"Welcome to Norbyte's SEX v56 !\") Fixed more inconsistencies with copy/paste in the message boxes Added an option to log AI scoring to the console: the top 3 actions will be shown anytime decisions are made. Work-in-progress as some of the AI features in the extender are currently bugged. Tooltips for Ascension stats in the stats tab are now created dynamically, so there's no need to edit them if you've edited the description/name Added a Server table on the client, from which listeners for any Osiris symbol can be created, eliminating the need for boilerplate code on the server side if you need to listen for Osiris stuff. Added an Osiris table on server to make user queries and DB queries a bit less aids to use in lua: -- DBs with only one tuple return their contents directly, rather than as a list local _, value = Osiris.DB_PIP_EpicStats_DamageDealt(char.MyGuid, nil) -- User queries can also return variables directly from their output DBs, even for queries with multiple outputs local value = Osiris.QRY_AMER_KeywordStat_VitalityVoid_GetRadius(char.MyGuid, 1) On the future side of things: Development has slowed down throughout March due to work and studies, but I'm not planning on stopping work on Epip anytime soon, and there are lots of exciting features in the planning stages. There is no time estimate for any of them, they're just things I know I will try out eventually . I know creating expectations never ends up well, but for the anniversary I felt it would be nice to write down the ideas I'm planning for the near future: Character sheet overhaul: the attribute/ability/talent tabs will become easily moddable, for modifying or adding new entries to them. This will pave the way for custom attributes and abilities. The UI currently used for the custom vanity tab will be made generic, so anyone can add their own tabs. Proper controller support for EE UIs: a large undertaking, but something that looks to be very possible and would be a massive quality of life improvement. Custom journal UI: will replace the current changelog functionality. The plan is to use the GM mode's journal UI as a base, since it's a slick, full-screen UI with support for nested categories. The functionality will be made generic, you'd be able to use it for more than just changelogs. A way to create UIs just from lua: work on this already started back in early January; it's used for the [REDACTED] in Fort Joy, but it's quite incomplete. The plan is to allow for creation of UIs with backgrounds, text, and all the Larian form elements (buttons, dropdowns, sliders etc.), all without touching any swf. More documentation for the source code, namely the remaining UI scripts and the base metatables Thanks for reading and I hope you have an epic 1st of April.","title":"v1045 - 1/4/22 Anniversary patch :flashed:"},{"location":"patchnotes/#19222-huge-hotbar-rewrite","text":"Rewrote the hotbar UI. This involves mostly technical changes, in preparations for a standalone release. Your hotkey keybindings will be reset with this update! Please bind them again. Visible changes: Fixed the top of the buttons area blocking clicks onto the world and other UIs Any skill or item can now be dragged from the hotbar to the customizable buttons to bind it there (useful for old mods that use skills/items to bring up menus) The \"use last slot\" action has been removed due to this. Removed the \"view changelog\" action The slot rendering is now entirely scripted (no help from the engine) which works around a crash and removes the need for an initialization procedure (that annoying \"switch to the first row\" message) Saving your current amount of bars and order should be a lot more reliable (now happens upon pausing the game, instead of a timer) Action buttons can now be highlighted or disabled; ex. the pyramids one is disabled if the party has no pyramids Added an action to open the pyramids UI Fixed the source skill border clipping into other rows Added compatibility for Weapon Expansion: adds an action for toggling the menu, and repositions the original button when you have 2 rows of action buttons Actions in the drawer are now ordered in a consistent manner Added a context menu when you right click a row; from there, you can: \"Push\" groups of slots to the left/right (useful for inserting skills inbetween slots) Clear rows, or unmemorized skills Save and load \"loadouts\" of rows. Loadouts can be applied even if your character doesn't currently know all the skills from it. Other changes: Simple tooltips (the ones that go in that very small black box) now appear much faster, rather than being delayed Added numerous calls to Game.Character and Game.Item , mostly related to functionality needed for the hotbar.","title":"19/2/22 Huge Hotbar rewrite"},{"location":"patchnotes/#5222-docs-inauguration-patch-flashed","text":"Added new stats to the stats tab (more coming later): Party gold, splinters Celestial restoration Vitality Void damage, radius Prosperity threshold Rewrote the ingame options menu; the mod's settings now gets its own tab instead of being stuffed into Gameplay You can now switch to and from Tactician difficulty at any time from settings Improved context menu scrolling Touchups to MessageBox, Examine Cleaned up Utilities.lua, removed old unused methods Removed support for the archaic config file structure (from before the ingame settings menu; very old) Created documentation for Game , OptionsSettings, MessageBox, StatsTab, Examine, and CharacterSheet","title":"5/2/22 Docs inauguration patch :flashed:"},{"location":"patchnotes/#26122-birthday-patch-flashed","text":"Fixed \u201cTeleport to\u201d not working on anything other than characters; it now works with items and triggers as well Fixed shields not showing all transmog options Fixed more inconsistency issues with context menus on world characters Transmog menu now works properly for characters that have had their race/gender changed Added an option to show B/H next to player portraits while unsheathed Fixed tooltips of damaging statuses for real Added an option to force story patching on every load Physical/pierce resistances in character sheet now get colored blue/red like how the normal resistances would Holding shift now fades out statuses on the enemy health bar Temporary solution for scrolling context menus that would leave the screen, with the mouse wheel Added something awesome to Fort Joy","title":"26/1/22: birthday patch :flashed:"},{"location":"patchnotes/#technical-stuff-so-it-doesnt-look-like-im-doing-nothing","text":"Added utility methods for initializing \u201cFeatures\u201d You can now specify required filesystem overrides and mods for features, with them automatically disabling themselves if these are missing Removed GetCharacterDodge function Rewrote character sheet resistances script Rewrote script for enemy health bar Moved Majora\u2019s compatibility to its own script Added Game.Character library for character-related stuff Moved a lot of old calls to Client Started work on a library that allows the creation of UIs purely in lua (no swf/actionscript editing)","title":"Technical stuff so it doesn\u2019t look like I\u2019m doing nothing:"},{"location":"patchnotes/#14122","text":"Re-enabled custom icons on the UIs that previously used them, as the extender issues with them have been fixed. Added a transmog context menu, can be enabled in settings. Appears on equipment with visuals, including weapons. Submenus display categorized root templates, filtered down to only the ones compatible with your current race/gender/alive/undead. Supports Majora\u2019s Fashion Sins. Can save/load outfits, along with their dyes. Saved outfits are in EPIP_VanityOutfits.json Warning: artifacts and armor set items will not currently work properly when transmogrified. Also, Majora\u2019s tabs tend to overflow the screen. Fixed status tooltips in v56 Fixed extract runes context menu option consuming gold instead of splinters Numerous miscellaneous internal changes","title":"14/1/22:"},{"location":"patchnotes/#271221","text":"Updated to v56 of the extender. Current issues (with the extender): Anything related to status tooltip editing does not work as Game.Tooltip is borked UIs with custom icons (hotbar, toolip) stop displaying vanilla icons after the first session. Custom icons are disabled for now so as to keep both the hotbar and console usable Removed the old console cheats Full rewrite of the stats tab; it should be a lot more reliable now (especially in multiplayer) and survives lua resets Stats and categories are now defined in Epip.Features.StatsTab. Fixed context menu not working on chained characters, and added it to summon portraits (maybe) fixed summon portrait display issues Custom talents now display in the examine menu Organizational changes to tooltip adjustments script torturerSkillOverrides was moved to Data.Game.TORTURER_SKILL_OVERRIDES statusToSkill was moved to Data.Game.DAMAGING_STATUS_SKILLS","title":"27/12/21:"},{"location":"patchnotes/#v1043-191221","text":"Added critical chance to the examine menu, below damage Added an option to set the default position of the Examine menu (middle, left, or right of the screen) Fixed health bar appearing in character creation Added a new context menu option to dismantle all equipment within a container. Only shows up when there's equipment within a container. Dismantling through the context menu now requires shift-clicking for any equipped item Fixed right-clicking containers bringing up debugging cheats for the character you previously had selected Organizational changes to various UI scripts and older features, as preparations for the grand debut of the Epip modding docs Reuploaded on 22/12/21 with the following fixes: More organizational changes (moving Data.UI to Client.UI.Data) Fixed immunities in examine showing up in the wrong place Undid some recent changes that lead to playerInfo summon display breaking Reuploaded on 23/12/21 to remove some testing text in character creation, as well as to (maybe?) fix an issue with combat HUD disappearing in new games.","title":"v1043 (19/12/21)"},{"location":"patchnotes/#v1042-141221","text":"Added an option to hide hotbar hotkeys text Added an \"Immersive Meditation\" setting which disables hotbar and minimap UIs while in Amer UIs Added shortened names for the remaining numpad keys (multiply, add, minus, etc.) Added an auto-identify setting, with 2 modes: always, and only with enough Loremaster. This will instantly identify items when they are generated Item tooltips no longer overflow through the top of the screen, making it easier to see the damage stats on items with 3 filled sockets Dismantling from the context menu now requires shift-clicking for items with runes inside (as a way to mark them as 'important' and avoid misclicks related to a certain new feature) Added a context menu option to items to dye them (requires the dyes to be in the party's inventory) Added a context menu to player portraits to hide statuses and summons (not saved between reloads for now) Added a context menu option to extract runes from items Added a debug menu with cheats for characters, available in the extender's developer mode Accessed by right-clicking a character in the world, or a player portrait in the left portraits UI Allows you to add all sorts of stats, spells, SpecialLogic, spawn items, treasure tables, toggle godmode, and more The new context menu tech is quite extensive, and can be toggled off in the settings in case any serious issues arise Finesse recovery now works for pay X skills, and sucker punch You can add more exceptions to DB_PIP_WeaponBasedFinesse_Whitelist((STRING)_Skill) Fixed overhead dialogue durations being wrong when they were changed away from the default value Overhead sizes are now always default in Amer UIs Fixed origins gaining epic enemies perks for real this time Fixed description of Clouded Memory Fixed map visibility setting not working after exiting respec Fixed being able to toggle minimap within character creation Fixed weapon range deltamod tooltip showing up on unidentified items Fixed wrong health bar B/H display on dead characters The dismantle context menu option should no longer get permanently stuck in case of unidentified shenanigans Added a 20% tax to dismantling items from context menus, used to amortize the development costs of the new menus as well as to fund future development of the mod just kidding","title":"v1042 (14/12/21)"},{"location":"patchnotes/#v1041-231021","text":"Added a slider for status overhead duration Fixed damage overheads for items not working with the new size settings Fixed the talents tab being selected after exiting mirror Fixed character sheet not updating the first time it is opened after a respec Fixed decimal stat adjustments being lost while merging them into one tooltip Fixed character creation talent points display when changing presets Fixed 1st hotbar not being clickable after a lua reset Fixed hotbar cooldown/active overlays when joining mid-session This should also have fixed the issue with loading a save during a summon turn Origins should no longer get Epic Enemies buffs Possibly fixed unidentified items showing the weapon range deltamods in the tooltip","title":"v1041 (23/10/21)"},{"location":"patchnotes/#v1040-191021","text":"Added some client APIs for the message box UI and overhead texts (Client.UI.MessageBox and Client.UI.Overheads) Added settings for overhead sizes Added a setting to bring back the vanilla combat log button (on by default) Fixed talents not being hidden properly in the character creation UI (which includes the mirror, it's the same UI) Fixed EE stats tab not working for new companions until a reload Fixed sliders in the options menu being saved with +1 step than what you've set them to","title":"v1040 (19/10/21)"},{"location":"patchnotes/#v1039-171021","text":"Fixed SI tooltip highlighting not working for a few schools Fixed wrong earth damage color in shift-tooltips","title":"v1039 (17/10/21)"},{"location":"patchnotes/#v1038-161021","text":"Added a hotbar hotkey to use the skill/item on the very last slot of your hotbar (right-most in 5th row) Can use this to make a Source Vamp hotkey, for example Weapon range deltamods now show up like regular deltamods on the tooltip, and the weapon range display is split up to show both base and extra range Holding the show cones button (shift by default) will display skill damage as their multipliers When infusing or when the shift key is held, unmet SI requirements will be displayed in red text Possibly fixed the \"auto-unlock inventories\" feature Artifact items now show quality Added an option to log all UI ExternalInterface calls and invokes to the console, visible in the settings menu if the extender developer mode is enabled Started slowly organizing code into sensical libraries; anything in the extended Game table should be reliable and will likely not change names Let me know if something that used to work before broke all of a sudden Fixed an error in the console when hovering over armor whose subtype could not be determined (ex. the starting tattered equipment) Character Creation UI now implements machine learning and blockchain technology to notify you of possible typos in your character names Added a WIP custom talents feature. See EpipTalents.lua for usage example. You can also hide any non-racial talent. Shortcomings: They will only display on kb+m. No controller UI support yet. They do not show up in the examine UI yet. Requirements are not rechecked while moving ability/attribute points around in the mirror; upon exiting, you will still lose any talents you cannot sustain Can't bind them to deltamods Rarely, the mirror UI might show you having fewer talent points than you do - this should fix itself if you exit the mirror and go back in (if someone has a save where this happens consistently, let me know) As a result of the talent UI changes, the bug with unequipping walk-it-off should be fixed","title":"v1038 (16/10/21)"},{"location":"patchnotes/#v1037-21021","text":"Fixed right-most zeros getting culled in stat adjustment tooltips Added a new setting to disable fog of war (server-wide, host-only, non-destructive; can be reverted) Minor visual bug: re-enabling FoW will cause the world to go black until you unpause","title":"v1037 (2/10/21)"},{"location":"patchnotes/#v1036-11021","text":"Changed the Damage tooltip in character sheet to be less confusing Removed the obsolete \"From LW: -0%\" tooltip text from character sheet Removed the word \"Set:\" from deltamods Added an option to auto-unlock inventories in multiplayer upon loading a save. This setting is per player. Fixed negative stat adjustments not being grouped together in tooltips Equipment now shows a \"Quality\" rating in tooltips, which denotes how good its damage/armor roll was. An item with 100% Quality has the best roll (only possible for Divines) Trickster's Repertoire now grants invisibility+sneaking until the start of your first turn, and only causes you to sneak starting from your second round. Additionally, at the start of your turns, you always unsneak. Changed wording for the Hothead tooltip Fixed error spam in console upon reload, and reorganized some code Added a lifesteal stat to the stats tab (will update upon changing Necromancy points, or in combat) Finished support for preset descriptions in character creation, override CharacterCreation.characterCreationPresetDescriptions in CharacterCreationUI.lua to set them","title":"v1036 (1/10/21)"},{"location":"patchnotes/#v1035-120921","text":"Replaced the config json file with an ingame settings menu, available from the game's normal \"Gameplay settings\" tab Unidentified artifacts now show their rarity as artifact, and use the custom color Proteans and Artifact runes now also use the Artifact color, and slots that they cannot be put on have a warning message Fixed Trickster's Repertoire breaking sneaking from other effects that cause you to sneak Fixed hotbar initialization message (again)","title":"v1035 (12/09/21)"},{"location":"patchnotes/#v1032-050921","text":"Small patch with some QoL for dyes and a fix for a Finesse issue. Dyeing equipped items will now re-quip them automatically Changed the finesse recovery for weapon-based skills to fix an issue with delayed procs if multiple things used its logic Removed the option to show enemy lvl in healthbar (still buggy!)","title":"v1032 (05/09/21)"},{"location":"patchnotes/#v1030-300821","text":"Monthly patch to appease our ever-so-hungry Derpy overlord. Hotbar slot keys now work as expected - ex. pressing \"4\" will use the fourth skill on the bottom bar, regardless of the row it's set to Hotbar actions now show their keybinding, if they have one Vanilla actions (ex. open journal) will always show the vanilla keybind instead of the custom one (it will still work, though) Re-enabled the keyboard hotkeys for hotbar actions by default. If you had these disabled previously (or if you're using the mod for the first time), its keys will be unbound upon loading in Changed the default hotbar bindings to swap ping with combat log Added a hotbar action for Portable Respec Mirror, if its mod is loaded Resting from the hotbar now uses the item rather than resting directly (should work with other bedroll mods now) Added a toggle for the minimap onto the hotbar You can no longer rearrange hotbar actions while the hotbar is locked (except within the skills panel) Added a faint blinking animation to the health bar when B/H have 1 turn or less remaining Added an option to show level next to character name in the top healthbar (on by default) You can now unbind hotbar action buttons with middle-click Added handling for when hotbar actions are removed from a save (ex. disabling a mod that adds them) Brittle status now shows its calculated damage like DoTs Masterworked items now show a warning in the tooltip Changed Splintered Arrow icon Fixed Escapist being a huntsman skill Fix protruding hotbar texture on the bottom bar Fixed Trickster's Repertoire removing AP in consecutive turns Trickster's Repertoire no longer activates while playing dead Fixed artifact names not using the new color (oops) Moved the casting notification slightly up so multiline ones don't overlap the health bar Fixed dragging items onto the world not working if the hotbar was enabled Fixed the add/remove rows button being available on summons after opening the pause menu You can no longer use hotbar action hotkeys in dialogues (or other occasions where the UI is entirely hidden), when there is a UI element focused, or when the game is paused Fixed name of hotbar slot 6 binding in the input menu Fixed Slowed 3 AP penalty stacking","title":"v1030 (30/08/21)"},{"location":"patchnotes/#v1029-060821","text":"Moved the casting notifications to where your health bar is, and added a toggle for them in the settings (defaults to enabled) Toggle party link hotbar hotkey is now instant (no casting animation) Added a one-row layout to the hotbar actions bar, which is automatically used when you only have one row of skill slots active You can control the behaviour with the new hotbarHotkeysLayout setting: \"auto\" is the behaviour described above, \"single\" makes it always use the 1-row layout, \"dual\" forces it to always be two rows (like how it was before) Keyboard hotkeys remain functional at all times, even if the buttons are hidden Fixed \"c\" displaying on the hotbar button you're dragging DoT statuses now show their calculated damage The display fluctuates for a bit after a skill cast, might redo this entirely later to not rely on the engine damage formula Centurion Battlestomp can now only be cast if the target is at <10m, and does not consume the ranged charge Tried banishing the \"Enemy Turn\" message again","title":"v1029 (06/08/21)"},{"location":"patchnotes/#v1027-v1028-300721-and-310721","text":"This patch contains numerous fixes and the first part of the rework of hotbar hotkeys. Happy birthday Derpy! Replaced the tutorials tab in the journal with a patch notes tab See EpipPatchNotes.lua for an example on how to use this in your own mod. Artifact tooltips now show \"Artifact\" as rarity rather than Unique Hotbar Updates Added customizable hotbar action hotkeys/buttons. Drag and drop to rearrange/assign them, right click to bring up a list of all actions. Mods can add their own actions very easily; see HotbarActions.lua for an example. To use them with keyboard keys, assign the \"Hotbar Hotkey #\" keys from the game's controls menu. Rebinding them will be easier in the future. You must also enable them within the config file. This rework is a work-in-progress, both in terms of functionality and art; in the future there will also be a 1-row layout. The multihotbar is now enabled by default. Set \"disableHotbar\" to true in the config file to disable it. (the old setting now does nothing) Deprecated the Infusion and Meditate hotkeys; please use the hotbar version of them from now on. Summons can no longer add hotbar rows All the custom elements should now hide during dialogues Fixed jankiness when using low resolutions Fixes Fixed player status bar sometimes clipping through portraits and appearing to the left of them Fixed stat adjustments tooltip not working properly on resists Fixed stat adjustments tooltip eating up all other boosts Fixed boss frame in the enemy health bar UI. It should work consistently now Leper rune now should properly grant the talent when it's socketed into an equipped item Fixed being able to infuse out-of-turn with the hotkey (rest in peace gigabrain infused reaction builds) Possibly disabled turn notifications on the hotbar health bar Known issues \"Actions\" drawer (attack/sneak/sheathe) does not work well along with the default keyboard hotkey, and the menu is not repositioned Buttons on the hotbar don't yet light up like they do in vanilla Order of actions in drawer is random Some hotbar buttons do not have state animations yet The title in the patch notes menu will not be the right color the first time after a reload Earlier changelogs are available on the old google doc. Man, v1026 was quite the breakthrough!","title":"v1027, v1028 (30/07/21 and 31/07/21)"},{"location":"Client/","text":"Client \u00b6 The Client table contains client-specific calls as well as tables with APIs for UIs. It is only available on the Client context. The \"Client character\" here refers to the currently-controlled character on the client. Fields \u00b6 ---@class Client ---@field UI ClientUI ---@field Input ClientInput ---@field IS_HOST boolean Internal; do not set! Functions \u00b6 ---Get the Source Infusion level the client character is currently preparing. ---@return number Infusion level function Client.GetPreparedInfusionLevel() -- Client-only, EE-related ---Returns true if the client character is preparing a Source Infusion. ---@return boolean function Client.IsPreparingInfusion() -- Client-only, EE-related ---Returns true if the client is the host of the current session. ---Relies on GameMenu. ---@return boolean function Client.IsHost() -- Client-only ---Returns the currently-controlled character on the client. ---Checks StatusConsole, then CharacterCreation as a fallback. ---@return EclCharacter function Client.GetCharacter() -- Client-only --- Copies text to the clipboard. ---Some characters, like newlines, will be trimmed out as per the vanilla scripting on the swf. ---Relies on MessageBox. ---@param text string function Client.CopyToClipboard(text) -- Client-only","title":"Client"},{"location":"Client/#client","text":"The Client table contains client-specific calls as well as tables with APIs for UIs. It is only available on the Client context. The \"Client character\" here refers to the currently-controlled character on the client.","title":"Client"},{"location":"Client/#fields","text":"---@class Client ---@field UI ClientUI ---@field Input ClientInput ---@field IS_HOST boolean Internal; do not set!","title":"Fields"},{"location":"Client/#functions","text":"---Get the Source Infusion level the client character is currently preparing. ---@return number Infusion level function Client.GetPreparedInfusionLevel() -- Client-only, EE-related ---Returns true if the client character is preparing a Source Infusion. ---@return boolean function Client.IsPreparingInfusion() -- Client-only, EE-related ---Returns true if the client is the host of the current session. ---Relies on GameMenu. ---@return boolean function Client.IsHost() -- Client-only ---Returns the currently-controlled character on the client. ---Checks StatusConsole, then CharacterCreation as a fallback. ---@return EclCharacter function Client.GetCharacter() -- Client-only --- Copies text to the clipboard. ---Some characters, like newlines, will be trimmed out as per the vanilla scripting on the swf. ---Relies on MessageBox. ---@param text string function Client.CopyToClipboard(text) -- Client-only","title":"Functions"},{"location":"Client/input/","text":"Input \u00b6 Client.Input contains input-related queries. Functions \u00b6 ---Returns true if the game is unpaused and there are no focused elements in Flash. ---@return boolean function Input.IsAcceptingInput() -- Client-only ---Returns true if the key bound to the event `id` is being held. ---Note that not all InputEvents support being held. ---@param id number Input event id. ---@return boolean function Input.KeyHeld(id) -- Client-only ---Returns whether a modifier key is being held. ---Set modifier keys with `Input.SetModifierKey`. ---Default is ToggleSneakCones. ---@param num number? Which modifier key to check. ---@return boolean function Input.IsHoldingModifierKey(num) -- Client-only ---Sets the InputEvent for a modifier key. ---You can declare as many modifier keys as you want, ---and query them with `Input.IsHoldingModifierKey()`. ---@param event number The InputEvent. ---@param num number Which modifier key to set. function Input.SetModifierKey(event, num) -- Client-only","title":"Input"},{"location":"Client/input/#input","text":"Client.Input contains input-related queries.","title":"Input"},{"location":"Client/input/#functions","text":"---Returns true if the game is unpaused and there are no focused elements in Flash. ---@return boolean function Input.IsAcceptingInput() -- Client-only ---Returns true if the key bound to the event `id` is being held. ---Note that not all InputEvents support being held. ---@param id number Input event id. ---@return boolean function Input.KeyHeld(id) -- Client-only ---Returns whether a modifier key is being held. ---Set modifier keys with `Input.SetModifierKey`. ---Default is ToggleSneakCones. ---@param num number? Which modifier key to check. ---@return boolean function Input.IsHoldingModifierKey(num) -- Client-only ---Sets the InputEvent for a modifier key. ---You can declare as many modifier keys as you want, ---and query them with `Input.IsHoldingModifierKey()`. ---@param event number The InputEvent. ---@param num number Which modifier key to set. function Input.SetModifierKey(event, num) -- Client-only","title":"Functions"},{"location":"Client/UI/CharacterSheet/","text":"CharacterSheet \u00b6 Events \u00b6 ---Hook to manipulate a secondary stats update. ---@hook SecondaryStatUpdate ---@param stats SecondaryStatBase[] ---@param char EclCharacter Functions \u00b6 ---Get the current character on the sheet. ---Defaults to client character if the sheet is uninitialized. ---@return EclCharacter function CharacterSheet.GetCharacter() -- Client-only ---@return SecondaryStatBase[] function CharacterSheet.DecodeSecondaryStats(ui) -- Client-only Fields \u00b6 ---@class CharacterSheetUI ---@field StatsTab CharacterSheetStatsTab ---@field SECONDARY_STAT_GROUPS table<string, number> IDs of secondarystat groups. StatsTab \u00b6 Client.UI.CharacterSheet.StatsTab handles the basic functionality of the custom stats tab. Collapsable categories and server-side querying of stats is implemented in Epip.Features.StatsTab . Events \u00b6 ---Fired when a stat is rendered. ---@event EntryAdded ---@param data StatsTabStat ---@param value number ---Fired before stats are (re-)rendered. ---@event PreRender ---Fired after a full render of the tab is complete. ---@event PostRender ---Fired when a stat element is created in Flash. ---@event EntryRendered ---@param element FlashMovieClip ---@param elementID string ---Fired when a stat is clicked. ---@event StatClicked ---@param elementID string ---Fired when a stat tooltip is being rendered. ---@event TooltipRendering ---@param statID string ---@param data StatsTabStat ---@param tooltip TooltipData The default tooltip, using Tooltip from the stat data, or Description as a fallback. ---Hook to change the calculated value of a stat. ---@hook GetStatValue ---@param value number ---@param data StatsTabStat ---@param char EclCharacter ---Hook to manipulate the string display of a stat's value. ---@hook FormatStatValue ---@param value number ---@param data StatsTabStat ---@param char EclCharacter ---Hook to manipulate the label display of a stat. ---@hook FormatLabel ---@param label string ---@param data StatsTabStat ---@param value number Functions \u00b6 ---Get the data table of a stat. ---@param id string ---@return StatsTabStat function StatsTab.GetStatData(id) -- Client-only ---Get the numerical value of a stat. Hookable. ---@param id string ---@param char EclCharacter ---@return number function StatsTab.GetStatValue(id, char) -- Client-only ---Get the text display for a stat's value. ---@param id string The stat ID. ---@param value number The value to format. ---@return string|number function StatsTab.FormatStatValue(id, value) -- Client-only ---Render a stat onto the tab. ---@param id string function StatsTab.RenderStat(id) -- Client-only ---Call to perform a full re-render of the tab. ---TODO some SetDirty call to prevent infinite loops with multiple modules calling this? function StatsTab.RenderStats() -- Client-only ---Register a FormatStatValue hook for a specific stat. ---@param stat string ---@param handler function function StatsTab.RegisterStatValueFormatHook(stat, handler) -- Client-only ---Register a GetStatValue hook for a specific stat. ---@param stat string ---@param handler function function StatsTab.RegisterStatValueHook(stat, handler) -- Client-only Fields \u00b6 ---@class CharacterSheetUIStatsTab ---@field Stats table<string, StatsTabStat> ---@field StatsOrder string[] Order in which stats are rendered. ---@field TOOLTIP_TALENT_ID number Enum of the talent ID we hijack the tooltip of. ---@field TOOLTIP_TALENT_NAME string String ID of the talent we hijack the tooltip of. ---@field DEFAULT_STAT_VALUE number ---@field ignoreUpdate boolean Internal; do not set ---@field nextNumericalID number Internal; do not set","title":"CharacterSheet"},{"location":"Client/UI/CharacterSheet/#charactersheet","text":"","title":"CharacterSheet"},{"location":"Client/UI/CharacterSheet/#events","text":"---Hook to manipulate a secondary stats update. ---@hook SecondaryStatUpdate ---@param stats SecondaryStatBase[] ---@param char EclCharacter","title":"Events"},{"location":"Client/UI/CharacterSheet/#functions","text":"---Get the current character on the sheet. ---Defaults to client character if the sheet is uninitialized. ---@return EclCharacter function CharacterSheet.GetCharacter() -- Client-only ---@return SecondaryStatBase[] function CharacterSheet.DecodeSecondaryStats(ui) -- Client-only","title":"Functions"},{"location":"Client/UI/CharacterSheet/#fields","text":"---@class CharacterSheetUI ---@field StatsTab CharacterSheetStatsTab ---@field SECONDARY_STAT_GROUPS table<string, number> IDs of secondarystat groups.","title":"Fields"},{"location":"Client/UI/CharacterSheet/#statstab","text":"Client.UI.CharacterSheet.StatsTab handles the basic functionality of the custom stats tab. Collapsable categories and server-side querying of stats is implemented in Epip.Features.StatsTab .","title":"StatsTab"},{"location":"Client/UI/CharacterSheet/#events_1","text":"---Fired when a stat is rendered. ---@event EntryAdded ---@param data StatsTabStat ---@param value number ---Fired before stats are (re-)rendered. ---@event PreRender ---Fired after a full render of the tab is complete. ---@event PostRender ---Fired when a stat element is created in Flash. ---@event EntryRendered ---@param element FlashMovieClip ---@param elementID string ---Fired when a stat is clicked. ---@event StatClicked ---@param elementID string ---Fired when a stat tooltip is being rendered. ---@event TooltipRendering ---@param statID string ---@param data StatsTabStat ---@param tooltip TooltipData The default tooltip, using Tooltip from the stat data, or Description as a fallback. ---Hook to change the calculated value of a stat. ---@hook GetStatValue ---@param value number ---@param data StatsTabStat ---@param char EclCharacter ---Hook to manipulate the string display of a stat's value. ---@hook FormatStatValue ---@param value number ---@param data StatsTabStat ---@param char EclCharacter ---Hook to manipulate the label display of a stat. ---@hook FormatLabel ---@param label string ---@param data StatsTabStat ---@param value number","title":"Events"},{"location":"Client/UI/CharacterSheet/#functions_1","text":"---Get the data table of a stat. ---@param id string ---@return StatsTabStat function StatsTab.GetStatData(id) -- Client-only ---Get the numerical value of a stat. Hookable. ---@param id string ---@param char EclCharacter ---@return number function StatsTab.GetStatValue(id, char) -- Client-only ---Get the text display for a stat's value. ---@param id string The stat ID. ---@param value number The value to format. ---@return string|number function StatsTab.FormatStatValue(id, value) -- Client-only ---Render a stat onto the tab. ---@param id string function StatsTab.RenderStat(id) -- Client-only ---Call to perform a full re-render of the tab. ---TODO some SetDirty call to prevent infinite loops with multiple modules calling this? function StatsTab.RenderStats() -- Client-only ---Register a FormatStatValue hook for a specific stat. ---@param stat string ---@param handler function function StatsTab.RegisterStatValueFormatHook(stat, handler) -- Client-only ---Register a GetStatValue hook for a specific stat. ---@param stat string ---@param handler function function StatsTab.RegisterStatValueHook(stat, handler) -- Client-only","title":"Functions"},{"location":"Client/UI/CharacterSheet/#fields_1","text":"---@class CharacterSheetUIStatsTab ---@field Stats table<string, StatsTabStat> ---@field StatsOrder string[] Order in which stats are rendered. ---@field TOOLTIP_TALENT_ID number Enum of the talent ID we hijack the tooltip of. ---@field TOOLTIP_TALENT_NAME string String ID of the talent we hijack the tooltip of. ---@field DEFAULT_STAT_VALUE number ---@field ignoreUpdate boolean Internal; do not set ---@field nextNumericalID number Internal; do not set","title":"Fields"},{"location":"Client/UI/ChatLog/","text":"ChatLog \u00b6 The ChatLog UI displays and manages the chat log. Epip's script allows you to add custom tabs to it (like the Party/All Players tabs by default). Examples of its use are the chat commands features, which intercept sent messages to execute terminal-style commands. Events & Hooks \u00b6 ---Fired when the client sends a message in chat. TODO pass tab ---@event MessageSent ---@field RegisterListener fun(self, listener:fun(text:string, clientChar:EclCharacter)) ---@field Fire fun(self, text:string, clientChar:EclCharacter) ---Fired when a message is rendered onto the UI. ---@event MessageAdded ---@field RegisterListener fun(self, listener:fun(tab:integer|string, text:string)) ---@field Fire fun(self, tab:integer|string, text:string) ---Fired when the client attempts to send a message. ---@hook CanSendMessage ---@field RegisterHook fun(self, handler:fun(canSend:boolean, text:string, char:EclCharacter)) ---@field Return fun(self, canSend:boolean, text:string, char:EclCharacter) Methods \u00b6 ---Sends text onto the chatbox, using the vanilla colors and font sizes. ---@param tab integer|string Tab ID. See ChatLog.TABS enum. For custom tabs, use your string ID. ---@param userName string ---@param message string function Chat.AddFormattedMessage(tab, userName, message) ---Clear a chat tab's messages. ---Render raw text onto the chatbox. ---@param tab integer|string ---@param tab? integer|string Tab ID. See ChatLog.TABS enum. For custom tabs, use your string ID. Defaults to current tab. ---@param text string function Chat.AddMessage(tab, text) ---Adds a tab to the chat log. ---@param tabID string ---@param label string function Chat.AddTab(tabID, label) Objects \u00b6 ---@class ChatLogUI : UI","title":"ChatLog"},{"location":"Client/UI/ChatLog/#chatlog","text":"The ChatLog UI displays and manages the chat log. Epip's script allows you to add custom tabs to it (like the Party/All Players tabs by default). Examples of its use are the chat commands features, which intercept sent messages to execute terminal-style commands.","title":"ChatLog"},{"location":"Client/UI/ChatLog/#events-hooks","text":"---Fired when the client sends a message in chat. TODO pass tab ---@event MessageSent ---@field RegisterListener fun(self, listener:fun(text:string, clientChar:EclCharacter)) ---@field Fire fun(self, text:string, clientChar:EclCharacter) ---Fired when a message is rendered onto the UI. ---@event MessageAdded ---@field RegisterListener fun(self, listener:fun(tab:integer|string, text:string)) ---@field Fire fun(self, tab:integer|string, text:string) ---Fired when the client attempts to send a message. ---@hook CanSendMessage ---@field RegisterHook fun(self, handler:fun(canSend:boolean, text:string, char:EclCharacter)) ---@field Return fun(self, canSend:boolean, text:string, char:EclCharacter)","title":"Events &amp; Hooks"},{"location":"Client/UI/ChatLog/#methods","text":"---Sends text onto the chatbox, using the vanilla colors and font sizes. ---@param tab integer|string Tab ID. See ChatLog.TABS enum. For custom tabs, use your string ID. ---@param userName string ---@param message string function Chat.AddFormattedMessage(tab, userName, message) ---Clear a chat tab's messages. ---Render raw text onto the chatbox. ---@param tab integer|string ---@param tab? integer|string Tab ID. See ChatLog.TABS enum. For custom tabs, use your string ID. Defaults to current tab. ---@param text string function Chat.AddMessage(tab, text) ---Adds a tab to the chat log. ---@param tabID string ---@param label string function Chat.AddTab(tabID, label)","title":"Methods"},{"location":"Client/UI/ChatLog/#objects","text":"---@class ChatLogUI : UI","title":"Objects"},{"location":"Client/UI/Examine/","text":"Examine \u00b6 Hooks for the Examine UI. Fields \u00b6 ---@class ExamineUI ---@field CATEGORIES table<string, number> ---@field ENTRY_TYPES table<string, number> ---@field ICONS table<string, number> IDs for embedded icons. Events \u00b6 Subscribe with Client.UI.Examine:RegisterListener(event: string, handler: function) . ---Fired when the UI is opened. ---@event ExamineOpened ---@param categories ExamineData ---Hook to manipulate the update data. ---@hook Update ---@param data ExamineData Functions \u00b6 ---Get a category of entries by its id. ---@param id number function ExamineData:GetCategory(id) -- Client-only ---Inserts an element into a category at the specified index, appending by default. ---@param category id ---@param element table ---@param index? number function ExamineData:InsertElement(category, element, index) -- Client-only ---Returns the first element, its index and category, using the engine statID. ---@param category? number If nil, all categories are searched. ---@param statID number function ExamineData:GetElement(category, statID) -- Client-only ---Get the character currently being examined. ---@return EclCharacter function Examine.GetCharacter() -- Client-only","title":"Examine"},{"location":"Client/UI/Examine/#examine","text":"Hooks for the Examine UI.","title":"Examine"},{"location":"Client/UI/Examine/#fields","text":"---@class ExamineUI ---@field CATEGORIES table<string, number> ---@field ENTRY_TYPES table<string, number> ---@field ICONS table<string, number> IDs for embedded icons.","title":"Fields"},{"location":"Client/UI/Examine/#events","text":"Subscribe with Client.UI.Examine:RegisterListener(event: string, handler: function) . ---Fired when the UI is opened. ---@event ExamineOpened ---@param categories ExamineData ---Hook to manipulate the update data. ---@hook Update ---@param data ExamineData","title":"Events"},{"location":"Client/UI/Examine/#functions","text":"---Get a category of entries by its id. ---@param id number function ExamineData:GetCategory(id) -- Client-only ---Inserts an element into a category at the specified index, appending by default. ---@param category id ---@param element table ---@param index? number function ExamineData:InsertElement(category, element, index) -- Client-only ---Returns the first element, its index and category, using the engine statID. ---@param category? number If nil, all categories are searched. ---@param statID number function ExamineData:GetElement(category, statID) -- Client-only ---Get the character currently being examined. ---@return EclCharacter function Examine.GetCharacter() -- Client-only","title":"Functions"},{"location":"Client/UI/GiftBagContent/","text":"GiftBagContent \u00b6 The GiftBagContent UI is the ingame giftbags menu. Events & Hooks \u00b6 ---Fired after the UI's content is updated, upon opening the UI. ---@event ContentUpdated ---@field RegisterListener fun(self, listener:fun(content:GiftBagContentUIEntry[])) ---@field Fire fun(self, content:GiftBagContentUIEntry[]) ---Fired when the content of the UI needs to be updated. ---@hook GetContent ---@field RegisterHook fun(self, handler:fun(content:GiftBagContentUIEntry[])) ---@field Return fun(self, content:GiftBagContentUIEntry[]) Methods \u00b6 ---Returns a giftbag mod by its numerical ID. ---@param id number ---@return GUID function GB.GetModGUID(id) ---Renders the contents of the UI, based on the data arrays in flash. function GB.RenderContent() Objects \u00b6 ---@class GiftBagContentUI : Feature ---Represents a mod entry in the UI. ---@class GiftBagContentUIEntry ---@field ID number ID in UI. ---@field Name string ---@field Description string ---@field Enabled boolean ---@field Locked boolean Locked giftbags cannot be toggled. ---@field Mod string GUID of giftbag mod.","title":"GiftBagContent"},{"location":"Client/UI/GiftBagContent/#giftbagcontent","text":"The GiftBagContent UI is the ingame giftbags menu.","title":"GiftBagContent"},{"location":"Client/UI/GiftBagContent/#events-hooks","text":"---Fired after the UI's content is updated, upon opening the UI. ---@event ContentUpdated ---@field RegisterListener fun(self, listener:fun(content:GiftBagContentUIEntry[])) ---@field Fire fun(self, content:GiftBagContentUIEntry[]) ---Fired when the content of the UI needs to be updated. ---@hook GetContent ---@field RegisterHook fun(self, handler:fun(content:GiftBagContentUIEntry[])) ---@field Return fun(self, content:GiftBagContentUIEntry[])","title":"Events &amp; Hooks"},{"location":"Client/UI/GiftBagContent/#methods","text":"---Returns a giftbag mod by its numerical ID. ---@param id number ---@return GUID function GB.GetModGUID(id) ---Renders the contents of the UI, based on the data arrays in flash. function GB.RenderContent()","title":"Methods"},{"location":"Client/UI/GiftBagContent/#objects","text":"---@class GiftBagContentUI : Feature ---Represents a mod entry in the UI. ---@class GiftBagContentUIEntry ---@field ID number ID in UI. ---@field Name string ---@field Description string ---@field Enabled boolean ---@field Locked boolean Locked giftbags cannot be toggled. ---@field Mod string GUID of giftbag mod.","title":"Objects"},{"location":"Client/UI/MessageBox/","text":"MessageBox \u00b6 Client.UI.MessageBox is used to send custom prompts (like with OpenMessageBox in Osiris). Events \u00b6 Subscribe with Client.UI.MessageBox:RegisterListener(event: string, handler: function) . You can subscribe to events coming from a specific message box with RegisterMessageListener() instead. ---Fired when a button is pressed on any custom message box. ---@event ButtonClicked ---@param id number Button ID. ---@param data MessageBoxData ---Fired when a message box with an input field is closed. ---@event InputSubmitted ---@param input string ---@param id number Button ID. ---@param data MessageBoxData Fields \u00b6 ---@class MessageBoxUI ---@field POPUP_TYPES table<string, number> ---@field currentCustomMessageBox MessageBoxData Internal; do not set! Functions \u00b6 ---Show a message box. ---@param data MessageBoxData function MessageBox.ShowMessageBox(data) -- Client-only ---Register an event listener for a message box with a specific ID. ---@param id string Message box ID. ---@param event string Event ID. See the regular events. ---@param handler function function MessageBox:RegisterMessageListener(id, event, handler) -- Client-only","title":"MessageBox"},{"location":"Client/UI/MessageBox/#messagebox","text":"Client.UI.MessageBox is used to send custom prompts (like with OpenMessageBox in Osiris).","title":"MessageBox"},{"location":"Client/UI/MessageBox/#events","text":"Subscribe with Client.UI.MessageBox:RegisterListener(event: string, handler: function) . You can subscribe to events coming from a specific message box with RegisterMessageListener() instead. ---Fired when a button is pressed on any custom message box. ---@event ButtonClicked ---@param id number Button ID. ---@param data MessageBoxData ---Fired when a message box with an input field is closed. ---@event InputSubmitted ---@param input string ---@param id number Button ID. ---@param data MessageBoxData","title":"Events"},{"location":"Client/UI/MessageBox/#fields","text":"---@class MessageBoxUI ---@field POPUP_TYPES table<string, number> ---@field currentCustomMessageBox MessageBoxData Internal; do not set!","title":"Fields"},{"location":"Client/UI/MessageBox/#functions","text":"---Show a message box. ---@param data MessageBoxData function MessageBox.ShowMessageBox(data) -- Client-only ---Register an event listener for a message box with a specific ID. ---@param id string Message box ID. ---@param event string Event ID. See the regular events. ---@param handler function function MessageBox:RegisterMessageListener(id, event, handler) -- Client-only","title":"Functions"},{"location":"Client/UI/OptionsInput/","text":"OptionsInput \u00b6 The OptionsInput UI script handles new functionality for the input settings menu, which, curiously, is actually a separate UI from the settings menu, and just like it, it does not exist whilst not open. Epip extends it to provide custom keybinding configuration tabs, as well as to read the user's current keybindings as strings to display elsewhere. Events & Hooks \u00b6 ---@event ActionExecuted ---@field RegisterListener fun(self, listener:fun(action:string, binding:string)) ---@field Fire fun(self, action:string, binding:string) ---@hook ShouldRenderEntry ---@field RegisterHook fun(self, handler:fun(render:boolean, entry:OptionsInputKeybind)) ---@field Return fun(self, render:boolean, entry:OptionsInputKeybind) ---Saves the user's bindings to the disk. ---@hook CanExecuteAction ---@field RegisterHook fun(self, handler:fun(execute:boolean, action:string, data:OptionsInputKeybind)) ---@field Return fun(self, execute:boolean, action:string, data:OptionsInputKeybind) Methods \u00b6 function Options.SaveBindings() ---Returns whether a keybind should show up in the UI. ---@param entry OptionsInputKeybind ---@return boolean function Options.ShouldRenderEntry(entry) ---Returns whether an action can be currently executed. ---@param actionID string ---@return boolean function Options.CanExecuteAction(actionID) ---Loads the user's bindings from the disk. function Options.LoadBindings() ---@param actionID string ---@param bindingIndex integer ---@param keybind string function Options.SetKeybind(actionID, bindingIndex, keybind) ---Updates the input map. Call this every time after modifying the user's keybindings. ---@return table<string, string[]> function Options.UpdateInputMap() ---@param index integer function _SavedKeybind:GetShortInputString(index) ---Get the saved keybinds for an action. ---@param action string ---@return OptionsInputSavedKeybind function Options.GetKeybinds(action) ---Get the data for a custom action. ---@return OptionsInputKeybind function Options.GetActionData(action) ---@param action OptionsInputKeybind function Options.RegisterAction(action) ---@param id string ---@param tab OptionsInputTab function Options.RegisterTab(id, tab) ---@param tabID string ---@param keybind OptionsInputKeybind function Options.AddEntry(tabID, keybind) ---@param tabID integer function Options.GetTabIndex(tabID) ---@return boolean function Options.IsBindingKey() ---@param key string function Options.SetPotentialBinding(key) Objects \u00b6 ---@class OptionsInputUI : Feature ---@field CUSTOM_TABS table<string, OptionsInputTab> ---@field TAB_ORDER string[] ---@field nextCustomTabID integer ---@field renderedCustomTabs table<integer, string> ---@field tabIndexes table<string, integer> ---@field nextEntryID integer ---@field entries table<integer, string> ---@field keyBeingBound? string ---@field indexBeingBound? integer ---@field potentialBinding? string ---@field BINDINGS table<string, OptionsInputSavedKeybind> ---@field ACTIONS table<string, OptionsInputKeybind> ---@field INPUT_MAP table<string, string[]> Maps keyboard inputs to a list of actions that are bound to it. ---@class OptionsInputTab ---@field ID string ---@field Name string ---@field Label string? ---@field Keybinds OptionsInputKeybind[] ---@class OptionsInputKeybind ---@field Name string ---@field ID string ---@field DefaultInput1 string? ---@field DefaultInput2 string? ---@field DeveloperOnly boolean? If true, the binding will not be visible in the UI outside of developer mode (and won't function either) ---@class OptionsInputSavedKeybind ---@field ID string ---@field Input1 OptionsInputBinding ---@field Input2 OptionsInputBinding","title":"OptionsInput"},{"location":"Client/UI/OptionsInput/#optionsinput","text":"The OptionsInput UI script handles new functionality for the input settings menu, which, curiously, is actually a separate UI from the settings menu, and just like it, it does not exist whilst not open. Epip extends it to provide custom keybinding configuration tabs, as well as to read the user's current keybindings as strings to display elsewhere.","title":"OptionsInput"},{"location":"Client/UI/OptionsInput/#events-hooks","text":"---@event ActionExecuted ---@field RegisterListener fun(self, listener:fun(action:string, binding:string)) ---@field Fire fun(self, action:string, binding:string) ---@hook ShouldRenderEntry ---@field RegisterHook fun(self, handler:fun(render:boolean, entry:OptionsInputKeybind)) ---@field Return fun(self, render:boolean, entry:OptionsInputKeybind) ---Saves the user's bindings to the disk. ---@hook CanExecuteAction ---@field RegisterHook fun(self, handler:fun(execute:boolean, action:string, data:OptionsInputKeybind)) ---@field Return fun(self, execute:boolean, action:string, data:OptionsInputKeybind)","title":"Events &amp; Hooks"},{"location":"Client/UI/OptionsInput/#methods","text":"function Options.SaveBindings() ---Returns whether a keybind should show up in the UI. ---@param entry OptionsInputKeybind ---@return boolean function Options.ShouldRenderEntry(entry) ---Returns whether an action can be currently executed. ---@param actionID string ---@return boolean function Options.CanExecuteAction(actionID) ---Loads the user's bindings from the disk. function Options.LoadBindings() ---@param actionID string ---@param bindingIndex integer ---@param keybind string function Options.SetKeybind(actionID, bindingIndex, keybind) ---Updates the input map. Call this every time after modifying the user's keybindings. ---@return table<string, string[]> function Options.UpdateInputMap() ---@param index integer function _SavedKeybind:GetShortInputString(index) ---Get the saved keybinds for an action. ---@param action string ---@return OptionsInputSavedKeybind function Options.GetKeybinds(action) ---Get the data for a custom action. ---@return OptionsInputKeybind function Options.GetActionData(action) ---@param action OptionsInputKeybind function Options.RegisterAction(action) ---@param id string ---@param tab OptionsInputTab function Options.RegisterTab(id, tab) ---@param tabID string ---@param keybind OptionsInputKeybind function Options.AddEntry(tabID, keybind) ---@param tabID integer function Options.GetTabIndex(tabID) ---@return boolean function Options.IsBindingKey() ---@param key string function Options.SetPotentialBinding(key)","title":"Methods"},{"location":"Client/UI/OptionsInput/#objects","text":"---@class OptionsInputUI : Feature ---@field CUSTOM_TABS table<string, OptionsInputTab> ---@field TAB_ORDER string[] ---@field nextCustomTabID integer ---@field renderedCustomTabs table<integer, string> ---@field tabIndexes table<string, integer> ---@field nextEntryID integer ---@field entries table<integer, string> ---@field keyBeingBound? string ---@field indexBeingBound? integer ---@field potentialBinding? string ---@field BINDINGS table<string, OptionsInputSavedKeybind> ---@field ACTIONS table<string, OptionsInputKeybind> ---@field INPUT_MAP table<string, string[]> Maps keyboard inputs to a list of actions that are bound to it. ---@class OptionsInputTab ---@field ID string ---@field Name string ---@field Label string? ---@field Keybinds OptionsInputKeybind[] ---@class OptionsInputKeybind ---@field Name string ---@field ID string ---@field DefaultInput1 string? ---@field DefaultInput2 string? ---@field DeveloperOnly boolean? If true, the binding will not be visible in the UI outside of developer mode (and won't function either) ---@class OptionsInputSavedKeybind ---@field ID string ---@field Input1 OptionsInputBinding ---@field Input2 OptionsInputBinding","title":"Objects"},{"location":"Client/UI/OptionsSettings/","text":"OptionsSettings \u00b6 Handles the settings menu. Extended to allow for custom setting tabs. Note that the input menu is a different UI - documentation for it pending. Adding settings \u00b6 To create a tab with settings for your mod, start by calling RegisterMod(mod: string, data: OptionsSettingsOptionSet) , before SessionLoading - preferably in the lua script's body. The data table should have your mod's name, header (displayed at the top) and side button label (displayed on the button that switches tabs). You may also pass Options in the table at this time, or register settings later through RegisterOptions . Client.UI.OptionsSettings.RegisterMod(\"EpipEncounters\", { SideButtonLabel = \"Epip Encounters\", TabHeader = \"<font color='7e72d6' size='23'>Epip Encounters</font>\", }) Options is a list of the options for the settings tab, in order that they will appear in. They are in the OptionsSettingsOption format - see fields . The following types of options exist: Checkbox : OptionsSettingsCheckbox struct Dropdown : OptionsSettingsDropdown struct Slider : OptionsSettingsSlider struct Button : OptionsSettingsButton struct Header : OptionsSettingsHeader struct, just a text label. Good for dividing sections of your setting menu. Example options, a dropdown and a slider: { ID = \"ExaminePosition\", Type = \"Dropdown\", Label = \"Examine Menu Position\", Tooltip = \"Controls the default position of the Examine menu when it is opened.\", DefaultValue = 1, Options = { \"Center\", \"Middle Right\", \"Middle Left\" } }, { ID = \"OverheadsSize\", Type = \"Slider\", Label = \"Overhead Text Size\", MinAmount = 10, MaxAmount = 45, DefaultValue = 19, Interval = 1, HideNumbers = false, Tooltip = \"Controls the size of regular text above characters talking.<br><br>Default is 19.\", }, Once you've got your mod and settings registered, they will appear in the settings menu. The user will be able to change them, and their values will be stored to the disk. To query the value of a setting, use GetOptionValue(mod: string, setting: string) . For checkboxes this returns boolean , for other elements it's number . Dropdowns use 1-based indexing! (1 = first option) . You can also set the stored value (or hook GetOptionValue ). If you do this, keep in mind that it will not be automatically saved to disk. if (Minimap.visible ~= Client.UI.OptionsSettings.GetOptionValue(\"EpipEncounters\", \"Minimap\")) then Client.UI.OptionsSettings.SetOptionValue(\"EpipEncounters\", \"Minimap\", Minimap.visible) Client.UI.OptionsSettings.SaveSettings() end You may use the IsElementEnabled hook to make elements in your menu non-interactable. You can use this to require a setting to first have another one enabled/disabled by the user. Events \u00b6 ---Fired when a custom option's value is set, either from loading or applying changes through the menu/SetOptionValue. ---@event OptionSet ---@param data OptionsSettingsOption ---@param value any ---Fired when an option element needs to be rendered in the UI. ---@event ElementRenderRequest ---@param type string ---@param data OptionsSettingsOption ---@param numID number The numeric ID this element should use. ---Fired when a settings tab is rendered. Values > 3 are custom tabs; their info should be queried from OptionsSettings.currentCustomTabs ---@event TabRendered ---@param tab number ---Fired when a custom checkbox is clicked while enabled. ---@event CheckboxClicked ---@param element OptionsSettingsOption ---@param active boolean ---Fired when a custom button is clicked while enabled. ---@event ButtonClicked ---@param element OptionsSettingsOption ---Fired when a custom slider's value is changed by the user. ---@event SliderChanged ---@param element OptionsSettingsOption ---@param value number ---Fired when a custom dropdown's option is changed by the user. ---@event DropdownChanged ---@param element OptionsSettingsOption ---@param optionIndex number 1-based index. ---Fired when a custom setting's value change is applied from the menu (through the \"Apply changes\" button). ---@event ChangeApplied ---@param option OptionsSettingsOption ---@param value any ---Hook to manipulate if an element should be interactable in the UI. Can be used, for example, to make a setting require another to be toggled on first. ---@hook IsElementEnabled ---@param enabled boolean Defaults to true. ---@param data OptionsSettingsOption ---Hook to manipulate a custom option's value. Can be used, for example, to disable a setting based on another's value. ---@hook GetOptionValue ---@param value any Defaults to the stored value. ---@param data OptionsSettingsOption ---Fired while `baseUpdate_Array` is being parsed in Flash. Hook to manipulate the parsed array. ---@hook BaseUpdate ---@param elements table[] TODO document fields ---Hook to manipulate the label of tab buttons for mods. ---@hook GetSideButtonLabel ---@param label string Defaults to OptionsSettingsOption.SideButtonLabel or OptionsSettingsOption.Mod ---Hook to manipulate the header of mod setting menus. ---@hook GetTabHeader ---@param label string Defaults to OptionsSettingsOption.TabHeader or OptionsSettingsOption.Mod Fields \u00b6 ---@class OptionsSettingsUI ---@field Options table<string, OptionsSettingsOptionSet> ---@field OptionValues table<string, table> ---@field PendingValueChanges table<string, table> ---@field TABS table<string, number> ---@field SAVE_FILENAME string ---@field currentTab number ---@field currentElements table<number, OptionsSettingsOption> ---@field currentCustomTabs table<number, string> Binds a side button's numerical ID to the mod it's for. Methods \u00b6 ---Registers a mod for use with the options menu. ---@param mod string ---@param data OptionsSettingsOptionSet function OptionsSettings.RegisterMod(mod, data) -- Client-only ---Adds options to a mod's option menu. ---@param mod string ---@param data OptionsSettingsOption[] function OptionsSettings.RegisterOptions(mod, data) -- Client-only ---Adds an option to a mod's options menu. ---@param mod string ---@param data OptionsSettingsOption function OptionsSettings.RegisterOption(mod, data) -- Client-only ---Returns whether a custom option's element is interactable. Hookable. ---@param id string ---@return boolean function OptionsSettings.IsElementEnabled(id) -- Client-only ---Set the state of an option in the UI. Does not change the stored value of custom options. ---@param id string|number ---@param state any ---@param elementType OptionsSettingsOptionType? Needs to be provided for vanilla options. TODO get automatically function OptionsSettings.SetElementState(id, state, elementType) -- Client-only ---Set an element to be enabled/disabled (interactable or not). TODO other types ---@param id string|number ---@param enabled boolean ---@param elementType OptionsSettingsOptionType function OptionsSettings.SetElementEnabled(id, enabled, elementType) -- Client-only ---Get the numerical id of a custom option element in the UI. ---@param id string ---@return number function OptionsSettings.GetElementNumID(id) -- Client-only ---Get the data for an option. ---@param id string ---@return OptionsSettingsOption function OptionsSettings.GetOptionData(id) -- Client-only ---Get the value of a custom option. ---@param mod string ---@param id string ---@return any Type varies based on element type. Boolean for checkboxes, number for other vanilla elements. function OptionsSettings.GetOptionValue(mod, id) -- Client-only ---Set a custom option's value. Immediately synchronized to server, if need be. ---@param mod string ---@param option string ---@param value any function OptionsSettings.SetOptionValue(mod, option, value) -- Client-only ---Render a slider. ---@param data OptionsSettingsSlider ---@param numID number function OptionsSettings.RenderSlider(data, numID) -- Client-only ---Render a button. ---@param data OptionsSettingsButton ---@param numID number function OptionsSettings.RenderButton(data, numID) -- Client-only ---Render a header. ---@param data OptionsSettingsHeader ---@param numID number function OptionsSettings.RenderHeader(data, numID) -- Client-only ---Render a checkbox option. ---@param data OptionsSettingsCheckbox ---@param numID number function OptionsSettings.RenderCheckbox(data, numID) -- Client-only ---Render a dropdown option. ---@param data OptionsSettingsDropdown ---@param numID number function OptionsSettings.RenderDropdown(data, numID) -- Client-only ---Returns the MovieClip for an element. ---@param id string|number String or number ID of the element. ---@return FlashMovieClip function OptionsSettings.GetOptionElement(id) -- Client-only ---Add an entry to a dropdown element. ---@param id stirng|number ---@param option string Label. function OptionsSettings.RenderDropdownEntry(id, option) -- Client-only ---@param option OptionsSettingsOption ---@param value any function OptionsSettings.SynchToServer(option, value) -- Client-only","title":"OptionsSettings"},{"location":"Client/UI/OptionsSettings/#optionssettings","text":"Handles the settings menu. Extended to allow for custom setting tabs. Note that the input menu is a different UI - documentation for it pending.","title":"OptionsSettings"},{"location":"Client/UI/OptionsSettings/#adding-settings","text":"To create a tab with settings for your mod, start by calling RegisterMod(mod: string, data: OptionsSettingsOptionSet) , before SessionLoading - preferably in the lua script's body. The data table should have your mod's name, header (displayed at the top) and side button label (displayed on the button that switches tabs). You may also pass Options in the table at this time, or register settings later through RegisterOptions . Client.UI.OptionsSettings.RegisterMod(\"EpipEncounters\", { SideButtonLabel = \"Epip Encounters\", TabHeader = \"<font color='7e72d6' size='23'>Epip Encounters</font>\", }) Options is a list of the options for the settings tab, in order that they will appear in. They are in the OptionsSettingsOption format - see fields . The following types of options exist: Checkbox : OptionsSettingsCheckbox struct Dropdown : OptionsSettingsDropdown struct Slider : OptionsSettingsSlider struct Button : OptionsSettingsButton struct Header : OptionsSettingsHeader struct, just a text label. Good for dividing sections of your setting menu. Example options, a dropdown and a slider: { ID = \"ExaminePosition\", Type = \"Dropdown\", Label = \"Examine Menu Position\", Tooltip = \"Controls the default position of the Examine menu when it is opened.\", DefaultValue = 1, Options = { \"Center\", \"Middle Right\", \"Middle Left\" } }, { ID = \"OverheadsSize\", Type = \"Slider\", Label = \"Overhead Text Size\", MinAmount = 10, MaxAmount = 45, DefaultValue = 19, Interval = 1, HideNumbers = false, Tooltip = \"Controls the size of regular text above characters talking.<br><br>Default is 19.\", }, Once you've got your mod and settings registered, they will appear in the settings menu. The user will be able to change them, and their values will be stored to the disk. To query the value of a setting, use GetOptionValue(mod: string, setting: string) . For checkboxes this returns boolean , for other elements it's number . Dropdowns use 1-based indexing! (1 = first option) . You can also set the stored value (or hook GetOptionValue ). If you do this, keep in mind that it will not be automatically saved to disk. if (Minimap.visible ~= Client.UI.OptionsSettings.GetOptionValue(\"EpipEncounters\", \"Minimap\")) then Client.UI.OptionsSettings.SetOptionValue(\"EpipEncounters\", \"Minimap\", Minimap.visible) Client.UI.OptionsSettings.SaveSettings() end You may use the IsElementEnabled hook to make elements in your menu non-interactable. You can use this to require a setting to first have another one enabled/disabled by the user.","title":"Adding settings"},{"location":"Client/UI/OptionsSettings/#events","text":"---Fired when a custom option's value is set, either from loading or applying changes through the menu/SetOptionValue. ---@event OptionSet ---@param data OptionsSettingsOption ---@param value any ---Fired when an option element needs to be rendered in the UI. ---@event ElementRenderRequest ---@param type string ---@param data OptionsSettingsOption ---@param numID number The numeric ID this element should use. ---Fired when a settings tab is rendered. Values > 3 are custom tabs; their info should be queried from OptionsSettings.currentCustomTabs ---@event TabRendered ---@param tab number ---Fired when a custom checkbox is clicked while enabled. ---@event CheckboxClicked ---@param element OptionsSettingsOption ---@param active boolean ---Fired when a custom button is clicked while enabled. ---@event ButtonClicked ---@param element OptionsSettingsOption ---Fired when a custom slider's value is changed by the user. ---@event SliderChanged ---@param element OptionsSettingsOption ---@param value number ---Fired when a custom dropdown's option is changed by the user. ---@event DropdownChanged ---@param element OptionsSettingsOption ---@param optionIndex number 1-based index. ---Fired when a custom setting's value change is applied from the menu (through the \"Apply changes\" button). ---@event ChangeApplied ---@param option OptionsSettingsOption ---@param value any ---Hook to manipulate if an element should be interactable in the UI. Can be used, for example, to make a setting require another to be toggled on first. ---@hook IsElementEnabled ---@param enabled boolean Defaults to true. ---@param data OptionsSettingsOption ---Hook to manipulate a custom option's value. Can be used, for example, to disable a setting based on another's value. ---@hook GetOptionValue ---@param value any Defaults to the stored value. ---@param data OptionsSettingsOption ---Fired while `baseUpdate_Array` is being parsed in Flash. Hook to manipulate the parsed array. ---@hook BaseUpdate ---@param elements table[] TODO document fields ---Hook to manipulate the label of tab buttons for mods. ---@hook GetSideButtonLabel ---@param label string Defaults to OptionsSettingsOption.SideButtonLabel or OptionsSettingsOption.Mod ---Hook to manipulate the header of mod setting menus. ---@hook GetTabHeader ---@param label string Defaults to OptionsSettingsOption.TabHeader or OptionsSettingsOption.Mod","title":"Events"},{"location":"Client/UI/OptionsSettings/#fields","text":"---@class OptionsSettingsUI ---@field Options table<string, OptionsSettingsOptionSet> ---@field OptionValues table<string, table> ---@field PendingValueChanges table<string, table> ---@field TABS table<string, number> ---@field SAVE_FILENAME string ---@field currentTab number ---@field currentElements table<number, OptionsSettingsOption> ---@field currentCustomTabs table<number, string> Binds a side button's numerical ID to the mod it's for.","title":"Fields"},{"location":"Client/UI/OptionsSettings/#methods","text":"---Registers a mod for use with the options menu. ---@param mod string ---@param data OptionsSettingsOptionSet function OptionsSettings.RegisterMod(mod, data) -- Client-only ---Adds options to a mod's option menu. ---@param mod string ---@param data OptionsSettingsOption[] function OptionsSettings.RegisterOptions(mod, data) -- Client-only ---Adds an option to a mod's options menu. ---@param mod string ---@param data OptionsSettingsOption function OptionsSettings.RegisterOption(mod, data) -- Client-only ---Returns whether a custom option's element is interactable. Hookable. ---@param id string ---@return boolean function OptionsSettings.IsElementEnabled(id) -- Client-only ---Set the state of an option in the UI. Does not change the stored value of custom options. ---@param id string|number ---@param state any ---@param elementType OptionsSettingsOptionType? Needs to be provided for vanilla options. TODO get automatically function OptionsSettings.SetElementState(id, state, elementType) -- Client-only ---Set an element to be enabled/disabled (interactable or not). TODO other types ---@param id string|number ---@param enabled boolean ---@param elementType OptionsSettingsOptionType function OptionsSettings.SetElementEnabled(id, enabled, elementType) -- Client-only ---Get the numerical id of a custom option element in the UI. ---@param id string ---@return number function OptionsSettings.GetElementNumID(id) -- Client-only ---Get the data for an option. ---@param id string ---@return OptionsSettingsOption function OptionsSettings.GetOptionData(id) -- Client-only ---Get the value of a custom option. ---@param mod string ---@param id string ---@return any Type varies based on element type. Boolean for checkboxes, number for other vanilla elements. function OptionsSettings.GetOptionValue(mod, id) -- Client-only ---Set a custom option's value. Immediately synchronized to server, if need be. ---@param mod string ---@param option string ---@param value any function OptionsSettings.SetOptionValue(mod, option, value) -- Client-only ---Render a slider. ---@param data OptionsSettingsSlider ---@param numID number function OptionsSettings.RenderSlider(data, numID) -- Client-only ---Render a button. ---@param data OptionsSettingsButton ---@param numID number function OptionsSettings.RenderButton(data, numID) -- Client-only ---Render a header. ---@param data OptionsSettingsHeader ---@param numID number function OptionsSettings.RenderHeader(data, numID) -- Client-only ---Render a checkbox option. ---@param data OptionsSettingsCheckbox ---@param numID number function OptionsSettings.RenderCheckbox(data, numID) -- Client-only ---Render a dropdown option. ---@param data OptionsSettingsDropdown ---@param numID number function OptionsSettings.RenderDropdown(data, numID) -- Client-only ---Returns the MovieClip for an element. ---@param id string|number String or number ID of the element. ---@return FlashMovieClip function OptionsSettings.GetOptionElement(id) -- Client-only ---Add an entry to a dropdown element. ---@param id stirng|number ---@param option string Label. function OptionsSettings.RenderDropdownEntry(id, option) -- Client-only ---@param option OptionsSettingsOption ---@param value any function OptionsSettings.SynchToServer(option, value) -- Client-only","title":"Methods"},{"location":"Documentation/Client/Pointer/","text":"Pointer \u00b6 The Pointer library contains methods related to the pointer for the game world; used to interact with game objects and move around. It's primarily a wrapper around Ext.UI.GetPickingState() . In addition to methods to quickly fetch its entities, it offers events for when they change (when the user starts/stops hovering over a new entity). Classes \u00b6 ---@class PointerLib_PickingState ---@field WorldPosition Vector3D? ---@field WalkablePosition Vector3D ---@field HoverCharacter EntityHandle? ---@field HoverCharacter2 EntityHandle? Used for corpses. ---@field HoverCharacterPosition Vector3D? Corresponds to HoverCharacter's position. ---@field HoverItem EntityHandle? ---@field HoverItemPosition Vector3D? ---@field PlaceableEntity EntityHandle? ---@field PlaceablePosition Vector3D? Events \u00b6 ---@event HoverCharacterChanged ---@field Character EclCharacter? ---Fired when the corpse character over the pointer changes. ---@event HoverCharacter2Changed ---@field Character EclCharacter? ---@event HoverItemChanged ---@field Item EclItem? ---@event HoverEntityChanged ---@field Entity Entity? Methods \u00b6 ---@param playerIndex integer? Defaults to 1. ---@param includeDead boolean? Defaults to false. ---@return EclCharacter? function Pointer.GetCurrentCharacter(playerIndex, includeDead) ---@param playerIndex integer? Defaults to 1. ---@return EclItem? function Pointer.GetCurrentItem(playerIndex) ---@param playerIndex integer? Defaults to 1. ---@return Entity? function Pointer.GetCurrentEntity(playerIndex) ---@param playerIndex integer? Defaults to 1. ---@return Vector3D function Pointer.GetWalkablePosition(playerIndex)","title":"Pointer"},{"location":"Documentation/Client/Pointer/#pointer","text":"The Pointer library contains methods related to the pointer for the game world; used to interact with game objects and move around. It's primarily a wrapper around Ext.UI.GetPickingState() . In addition to methods to quickly fetch its entities, it offers events for when they change (when the user starts/stops hovering over a new entity).","title":"Pointer"},{"location":"Documentation/Client/Pointer/#classes","text":"---@class PointerLib_PickingState ---@field WorldPosition Vector3D? ---@field WalkablePosition Vector3D ---@field HoverCharacter EntityHandle? ---@field HoverCharacter2 EntityHandle? Used for corpses. ---@field HoverCharacterPosition Vector3D? Corresponds to HoverCharacter's position. ---@field HoverItem EntityHandle? ---@field HoverItemPosition Vector3D? ---@field PlaceableEntity EntityHandle? ---@field PlaceablePosition Vector3D?","title":"Classes"},{"location":"Documentation/Client/Pointer/#events","text":"---@event HoverCharacterChanged ---@field Character EclCharacter? ---Fired when the corpse character over the pointer changes. ---@event HoverCharacter2Changed ---@field Character EclCharacter? ---@event HoverItemChanged ---@field Item EclItem? ---@event HoverEntityChanged ---@field Entity Entity?","title":"Events"},{"location":"Documentation/Client/Pointer/#methods","text":"---@param playerIndex integer? Defaults to 1. ---@param includeDead boolean? Defaults to false. ---@return EclCharacter? function Pointer.GetCurrentCharacter(playerIndex, includeDead) ---@param playerIndex integer? Defaults to 1. ---@return EclItem? function Pointer.GetCurrentItem(playerIndex) ---@param playerIndex integer? Defaults to 1. ---@return Entity? function Pointer.GetCurrentEntity(playerIndex) ---@param playerIndex integer? Defaults to 1. ---@return Vector3D function Pointer.GetWalkablePosition(playerIndex)","title":"Methods"},{"location":"Documentation/Utilities/Artifact/","text":"Artifact \u00b6 This library is relevant for Epic Encounters only. The Artifact library contains data and methods related to Epic Encounters Artifacts . The ArtifactLib_ArtifactDefiniton class holds information for each of the artifacts, including slot, item/rune templates, as well as the related keyword activators and mutators (defined manually). The data is not generated automatically. You must add your own artifacts by calling RegisterArtifact() with the data table filled out. Ideally, this should be done on both contexts, so client scripting can also query the information. Classes \u00b6 ---@class ArtifactLib_ArtifactDefinition ---@field ID string ---@field Slot StatsItemSlot ---@field ItemTemplate GUID ---@field RuneTemplate GUID ---@field DescriptionHandle TranslatedStringHandle ---@field KeywordActivators Keyword[] ---@field KeywordMutators Keyword[] ---@field GetName fun(self):string ---@field GetDescription fun(self):string ---@field GetPowerTooltip fun(self):TooltipElement[] ---Returns the artifact's name. ---@return string function _ArtifactDef:GetName() ---Returns the artifact power's description. ---@return string function _ArtifactDef:GetDescription() ---Returns a full tooltip showing the artifact's name and power. ---@return string function _ArtifactDef:GetPowerTooltip() Methods \u00b6 ---Returns the definition for an artifact. ---@param artifactID string ---@return ArtifactLib_ArtifactDefinition? function Artifact.GetData(artifactID) ---Registers the data for an artifact. ---@param data ArtifactLib_ArtifactDefinition ---@return ArtifactLib_ArtifactDefinition function Artifact.RegisterArtifact(data) ---Returns whether char has the artifact power active. ---@param char EclCharacter ---@param artifact ArtifactLib_ArtifactDefinition|string ---@return boolean function Artifact.IsEquipped(char, artifact) ---Returns a list of artifact powers active on char. ---@param char EclCharacter ---@return ArtifactLib_ArtifactDefinition[] function Artifact.GetEquippedPowers(char) ---Returns whether char has the artifact power active. ---@param char EsvCharacter ---@param artifact ArtifactLib_ArtifactDefinition|string ---@return boolean function Artifact.IsEquipped(char, artifact) ---Returns a list of artifact powers active on char. ---@param char EsvCharacter ---@return ArtifactLib_ArtifactDefinition[] function Artifact.GetEquippedPowers(char) Usage examples \u00b6 This library is used in the Quick Examine UI to display tooltips for artifacts. It is additionally used in the stats tab to check the equipped artifacts of a character.","title":"Artifact"},{"location":"Documentation/Utilities/Artifact/#artifact","text":"This library is relevant for Epic Encounters only. The Artifact library contains data and methods related to Epic Encounters Artifacts . The ArtifactLib_ArtifactDefiniton class holds information for each of the artifacts, including slot, item/rune templates, as well as the related keyword activators and mutators (defined manually). The data is not generated automatically. You must add your own artifacts by calling RegisterArtifact() with the data table filled out. Ideally, this should be done on both contexts, so client scripting can also query the information.","title":"Artifact"},{"location":"Documentation/Utilities/Artifact/#classes","text":"---@class ArtifactLib_ArtifactDefinition ---@field ID string ---@field Slot StatsItemSlot ---@field ItemTemplate GUID ---@field RuneTemplate GUID ---@field DescriptionHandle TranslatedStringHandle ---@field KeywordActivators Keyword[] ---@field KeywordMutators Keyword[] ---@field GetName fun(self):string ---@field GetDescription fun(self):string ---@field GetPowerTooltip fun(self):TooltipElement[] ---Returns the artifact's name. ---@return string function _ArtifactDef:GetName() ---Returns the artifact power's description. ---@return string function _ArtifactDef:GetDescription() ---Returns a full tooltip showing the artifact's name and power. ---@return string function _ArtifactDef:GetPowerTooltip()","title":"Classes"},{"location":"Documentation/Utilities/Artifact/#methods","text":"---Returns the definition for an artifact. ---@param artifactID string ---@return ArtifactLib_ArtifactDefinition? function Artifact.GetData(artifactID) ---Registers the data for an artifact. ---@param data ArtifactLib_ArtifactDefinition ---@return ArtifactLib_ArtifactDefinition function Artifact.RegisterArtifact(data) ---Returns whether char has the artifact power active. ---@param char EclCharacter ---@param artifact ArtifactLib_ArtifactDefinition|string ---@return boolean function Artifact.IsEquipped(char, artifact) ---Returns a list of artifact powers active on char. ---@param char EclCharacter ---@return ArtifactLib_ArtifactDefinition[] function Artifact.GetEquippedPowers(char) ---Returns whether char has the artifact power active. ---@param char EsvCharacter ---@param artifact ArtifactLib_ArtifactDefinition|string ---@return boolean function Artifact.IsEquipped(char, artifact) ---Returns a list of artifact powers active on char. ---@param char EsvCharacter ---@return ArtifactLib_ArtifactDefinition[] function Artifact.GetEquippedPowers(char)","title":"Methods"},{"location":"Documentation/Utilities/Artifact/#usage-examples","text":"This library is used in the Quick Examine UI to display tooltips for artifacts. It is additionally used in the stats tab to check the equipped artifacts of a character.","title":"Usage examples"},{"location":"Documentation/Utilities/Character/","text":"Character \u00b6 The Character library contains utility methods relating to characters. The vast majority of them are available on both contexts. Events \u00b6 ---Wrapper for Ext.Events.CreateEquipmentVisualsRequest. ---@hook CreateEquipmentVisuals ---@field Character EclCharacter ---@field Item EclItem ---@field Request EclEquipmentVisualSystemSetParam Hookable. ---@field RawEvent EclLuaCreateEquipmentVisualsRequestEvent Methods \u00b6 ---Returns the current stacks on char, as well as lifetime. Queries the related status effects. ---@param char Character ---@param type StackType ---@return number,number Stack count, duration left (as seconds) function Character.GetStacks(char, type) -- EE ---Returns whether char has a skill memorized. Returns true for innate skills. ---@param char Character ---@param skillID string ---@return boolean function Character.IsSkillMemorized(char, skillID) ---Returns the combat ID and team ID of char, if any. ---@param char Character ---@return integer?, integer? -- The combat ID and team ID. Nil if the character is not in combat. This is different from the osi query, which returns a reserved value. function Character.GetCombatID(char) ---Returns whether char has their weapon(s) unsheathed. ---@param char Character ---@return boolean function Character.IsUnsheathed(char) ---Returns whether char has an owner. ---@param char Character ---@return boolean function Character.HasOwner(char) ---Returns the character's owner, if it is a summon or party follower(?). ---@param char Character ---@return Character? function Character.GetOwner(char) ---Returns whether a skill is innate to a character. ---Returns false if the character doesn't have the skill in any way. ---@param char Character ---@param skillID string ---@return boolean function Character.IsSkillInnate(char, skillID) ---@param char Character ---@return table<ItemSlot, EclItem> function Character.GetEquippedItems(char) ---@param char Character ---@param statName string function Character.GetDynamicStat(char, statName) ---Returns the maximum carry weight of char. ---@param char Character ---@return integer In \"grams\" function Character.GetMaxCarryWeight(char) ---@param char Character ---@return integer, integer --Current, maximum function Character.GetActionPoints(char) ---@param identifier GUID|PrefixedGUID|NetId|EntityHandle ---@param isFlashHandle boolean? If true, the identifier will be passed through DoubleToHandle() first. ---@return Character function Character.Get(identifier, isFlashHandle) ---@param char Character ---@return boolean function Character.IsPreferredByAI(char) ---Returns whether char is unpreferred by AI. ---@param char Character ---@return boolean function Character.IsUnpreferredByAI(char) ---Returns whether char is ignored by AI. ---@param char Character ---@return boolean function Character.IsIgnoredByAI(char) ---Get the infusion level that char is currently preparing (how many times they've cast Source Infuse). ---@param char Character ---@return number Infusion count. function Character.GetPreparedInfusionLevel(char) -- EE ---Returns true if char is preparing a Source Infusion. ---@param char Character ---@return boolean function Character.IsPreparingInfusion(char) -- EE ---Get the stack amount this character needs to apply a T3 to someone else. ---**This only takes into account the bonus from infusing!** ---@param char Character ---@return number Stacks needed function Character.GetStacksNeededToInflictTier3(char) -- EE ---Returns true if char is a summon. ---@param char Character ---@return boolean function Character.IsSummon(char) ---Returns true if the character is dead. ---@param char Character ---@return boolean function Character.IsDead(char) ---Returns the gender of char. ---@param char Character ---@return Gender function Character.GetGender(char) ---Returns true if char is male. ---@param char Character ---@return boolean function Character.IsMale(char) ---Returns true if char is undead. ---@param char Character ---@return boolean function Character.IsUndead(char) ---Returns the current race of char. ---@param char Character ---@return Race function Character.GetRace(char) ---Returns the original race of a player char, before any transforms. ---@param char Character Must be tagged with \"REALLY_{Race}\" ---@return Race function Character.GetRealRace(char) ---Returns whether the character is in a combat. ---@param char EclCharacter ---@return boolean function Character.IsInCombat(char) ---Returns the calculated movement stat of a character. ---@param char Character ---@return number -- In centimeters. function Character.GetMovement(char) ---Returns whether char can enter preparation state for a skill. ---@param char Character ---@param skillID string ---@param itemSource Item? ---@return boolean function Character.CanUseSkill(char, skillID, itemSource) ---Returns whether char has a melee weapon equipped in either slot. ---@param char Character ---@return boolean function Character.HasMeleeWeapon(char) ---Returns whether char has a bow or crossbow equipped. ---@param char Character ---@return boolean function Character.HasRangedWeapon(char) ---Returns the current and maximum source points of char. ---@param char Character ---@return integer, integer Current and maximum points. function Character.GetSourcePoints(char) ---Returns whether char has a shield equipped. ---@param char Character ---@return boolean function Character.HasShield(char) ---Returns whether char has a dagger equipped in either slot. ---@param char Character ---@return boolean function Character.HasDagger(char) ---Returns whether char is muted. ---@param char Character ---@return boolean function Character.IsMuted(char) ---Returns whether char is disarmed. ---@param char Character ---@return boolean function Character.IsDisarmed(char) ---Gets the highest stat score of all characters in char's party. ---@param char Character ---@param ability string Needs to be a property indexable in char.Stats ---@return integer function Character.GetHighestPartyAbility(char, ability) ---Returns a list of party members of char's party. Char must be a player. ---Depends on PlayerInfo. ---@param char EclCharacter ---@return EclCharacter[] Includes the char passed per param. function Character.GetPartyMembers(char) ---Returns a list of statuses the character has from its equipped items. ---@param char Character ---@return CharacterLib_StatusFromItem[] function Character.GetStatusesFromItems(char) ---Returns a list of party members of char's party. Char must be a player. ---@param char EsvCharacter ---@return EsvCharacter[] Includes the char passed per param. function Character.GetPartyMembers(char)","title":"Character"},{"location":"Documentation/Utilities/Character/#character","text":"The Character library contains utility methods relating to characters. The vast majority of them are available on both contexts.","title":"Character"},{"location":"Documentation/Utilities/Character/#events","text":"---Wrapper for Ext.Events.CreateEquipmentVisualsRequest. ---@hook CreateEquipmentVisuals ---@field Character EclCharacter ---@field Item EclItem ---@field Request EclEquipmentVisualSystemSetParam Hookable. ---@field RawEvent EclLuaCreateEquipmentVisualsRequestEvent","title":"Events"},{"location":"Documentation/Utilities/Character/#methods","text":"---Returns the current stacks on char, as well as lifetime. Queries the related status effects. ---@param char Character ---@param type StackType ---@return number,number Stack count, duration left (as seconds) function Character.GetStacks(char, type) -- EE ---Returns whether char has a skill memorized. Returns true for innate skills. ---@param char Character ---@param skillID string ---@return boolean function Character.IsSkillMemorized(char, skillID) ---Returns the combat ID and team ID of char, if any. ---@param char Character ---@return integer?, integer? -- The combat ID and team ID. Nil if the character is not in combat. This is different from the osi query, which returns a reserved value. function Character.GetCombatID(char) ---Returns whether char has their weapon(s) unsheathed. ---@param char Character ---@return boolean function Character.IsUnsheathed(char) ---Returns whether char has an owner. ---@param char Character ---@return boolean function Character.HasOwner(char) ---Returns the character's owner, if it is a summon or party follower(?). ---@param char Character ---@return Character? function Character.GetOwner(char) ---Returns whether a skill is innate to a character. ---Returns false if the character doesn't have the skill in any way. ---@param char Character ---@param skillID string ---@return boolean function Character.IsSkillInnate(char, skillID) ---@param char Character ---@return table<ItemSlot, EclItem> function Character.GetEquippedItems(char) ---@param char Character ---@param statName string function Character.GetDynamicStat(char, statName) ---Returns the maximum carry weight of char. ---@param char Character ---@return integer In \"grams\" function Character.GetMaxCarryWeight(char) ---@param char Character ---@return integer, integer --Current, maximum function Character.GetActionPoints(char) ---@param identifier GUID|PrefixedGUID|NetId|EntityHandle ---@param isFlashHandle boolean? If true, the identifier will be passed through DoubleToHandle() first. ---@return Character function Character.Get(identifier, isFlashHandle) ---@param char Character ---@return boolean function Character.IsPreferredByAI(char) ---Returns whether char is unpreferred by AI. ---@param char Character ---@return boolean function Character.IsUnpreferredByAI(char) ---Returns whether char is ignored by AI. ---@param char Character ---@return boolean function Character.IsIgnoredByAI(char) ---Get the infusion level that char is currently preparing (how many times they've cast Source Infuse). ---@param char Character ---@return number Infusion count. function Character.GetPreparedInfusionLevel(char) -- EE ---Returns true if char is preparing a Source Infusion. ---@param char Character ---@return boolean function Character.IsPreparingInfusion(char) -- EE ---Get the stack amount this character needs to apply a T3 to someone else. ---**This only takes into account the bonus from infusing!** ---@param char Character ---@return number Stacks needed function Character.GetStacksNeededToInflictTier3(char) -- EE ---Returns true if char is a summon. ---@param char Character ---@return boolean function Character.IsSummon(char) ---Returns true if the character is dead. ---@param char Character ---@return boolean function Character.IsDead(char) ---Returns the gender of char. ---@param char Character ---@return Gender function Character.GetGender(char) ---Returns true if char is male. ---@param char Character ---@return boolean function Character.IsMale(char) ---Returns true if char is undead. ---@param char Character ---@return boolean function Character.IsUndead(char) ---Returns the current race of char. ---@param char Character ---@return Race function Character.GetRace(char) ---Returns the original race of a player char, before any transforms. ---@param char Character Must be tagged with \"REALLY_{Race}\" ---@return Race function Character.GetRealRace(char) ---Returns whether the character is in a combat. ---@param char EclCharacter ---@return boolean function Character.IsInCombat(char) ---Returns the calculated movement stat of a character. ---@param char Character ---@return number -- In centimeters. function Character.GetMovement(char) ---Returns whether char can enter preparation state for a skill. ---@param char Character ---@param skillID string ---@param itemSource Item? ---@return boolean function Character.CanUseSkill(char, skillID, itemSource) ---Returns whether char has a melee weapon equipped in either slot. ---@param char Character ---@return boolean function Character.HasMeleeWeapon(char) ---Returns whether char has a bow or crossbow equipped. ---@param char Character ---@return boolean function Character.HasRangedWeapon(char) ---Returns the current and maximum source points of char. ---@param char Character ---@return integer, integer Current and maximum points. function Character.GetSourcePoints(char) ---Returns whether char has a shield equipped. ---@param char Character ---@return boolean function Character.HasShield(char) ---Returns whether char has a dagger equipped in either slot. ---@param char Character ---@return boolean function Character.HasDagger(char) ---Returns whether char is muted. ---@param char Character ---@return boolean function Character.IsMuted(char) ---Returns whether char is disarmed. ---@param char Character ---@return boolean function Character.IsDisarmed(char) ---Gets the highest stat score of all characters in char's party. ---@param char Character ---@param ability string Needs to be a property indexable in char.Stats ---@return integer function Character.GetHighestPartyAbility(char, ability) ---Returns a list of party members of char's party. Char must be a player. ---Depends on PlayerInfo. ---@param char EclCharacter ---@return EclCharacter[] Includes the char passed per param. function Character.GetPartyMembers(char) ---Returns a list of statuses the character has from its equipped items. ---@param char Character ---@return CharacterLib_StatusFromItem[] function Character.GetStatusesFromItems(char) ---Returns a list of party members of char's party. Char must be a player. ---@param char EsvCharacter ---@return EsvCharacter[] Includes the char passed per param. function Character.GetPartyMembers(char)","title":"Methods"},{"location":"Documentation/Utilities/Color/","text":"Color \u00b6 The Color table offers utilities for working with colors, either through RGB, decimal, or hex. The constructor methods create an RGBColor table. RGBColor \u00b6 ---Returns the decimal representation of the color. ---Actionscript expects colors to be represented in this way. ---@param addAlpha boolean? Defaults to false. ---@return integer function RGBColor:ToDecimal(addAlpha) ---Unpacks the color's RGB values, alpha included. ---@return integer ... function RGBColor:Unpack() ---Returns the hexadecimal representation of the color. ---@param prefix boolean? Prefix the string with #. Defaults to false. ---@param addAlpha boolean? Defaults to false. If enabled, resulting color will be in the format `#RRGGBBAA` ---@return string function RGBColor:ToHex(prefix, addAlpha) ---Returns the RGBA values as floats in the range[0.0 - 1.0] ---@return number, number, number, number function RGBColor:ToFloats() ---Returns a new instance of RGBColor with the same values. ---@return RGBColor function RGBColor:Clone() ---Creates a color from a decimal value. ---Does not support alpha. ---@param num integer ---@return RGBColor function RGBColor.CreateFromDecimal(num) ---Creates a color from RGBA values. ---Expected range is [0-255] and will be clamped. ---@param r integer? ---@param g integer? ---@param b integer? ---@param a integer? Defaults to 255. ---@return RGBColor function RGBColor.Create(r, g, b, a) ---Creates a color from a hexadecimal value. ---Does not support alpha. ---@param hex string ---@return RGBColor function RGBColor.CreateFromHex(hex) ---Returns whether 2 colors have the same RGBA values. ---@param color RGBColor ---@return boolean function RGBColor:Equals(color) Methods \u00b6 ---Alias for creating an RGBColor from RGBA values. ---@overload fun(color:RGBColor):RGBColor ---@param red integer? ---@param green integer? ---@param blue integer? ---@param alpha integer? ---@return RGBColor function Color.Create(red, green, blue, alpha) ---Creates a color from RGBA values. Expected range of values is [0-255]. ---@param red integer? ---@param green integer? ---@param blue integer? ---@param alpha integer? ---@return RGBColor function Color.CreateFromRGB(red, green, blue, alpha) ---Creates a color from a decimal value. ---Does not support alpha. ---@param num integer ---@return RGBColor function Color.CreateFromDecimal(num) ---Creates a color from an html-format hex color code. ---Does not support alpha. ---@param hex string ---@return RGBColor function Color.CreateFromHex(hex) ---Clones a color instance. ---@param color RGBColor ---@return RGBColor New instance with same values. function Color.Clone(color)","title":"Color"},{"location":"Documentation/Utilities/Color/#color","text":"The Color table offers utilities for working with colors, either through RGB, decimal, or hex. The constructor methods create an RGBColor table.","title":"Color"},{"location":"Documentation/Utilities/Color/#rgbcolor","text":"---Returns the decimal representation of the color. ---Actionscript expects colors to be represented in this way. ---@param addAlpha boolean? Defaults to false. ---@return integer function RGBColor:ToDecimal(addAlpha) ---Unpacks the color's RGB values, alpha included. ---@return integer ... function RGBColor:Unpack() ---Returns the hexadecimal representation of the color. ---@param prefix boolean? Prefix the string with #. Defaults to false. ---@param addAlpha boolean? Defaults to false. If enabled, resulting color will be in the format `#RRGGBBAA` ---@return string function RGBColor:ToHex(prefix, addAlpha) ---Returns the RGBA values as floats in the range[0.0 - 1.0] ---@return number, number, number, number function RGBColor:ToFloats() ---Returns a new instance of RGBColor with the same values. ---@return RGBColor function RGBColor:Clone() ---Creates a color from a decimal value. ---Does not support alpha. ---@param num integer ---@return RGBColor function RGBColor.CreateFromDecimal(num) ---Creates a color from RGBA values. ---Expected range is [0-255] and will be clamped. ---@param r integer? ---@param g integer? ---@param b integer? ---@param a integer? Defaults to 255. ---@return RGBColor function RGBColor.Create(r, g, b, a) ---Creates a color from a hexadecimal value. ---Does not support alpha. ---@param hex string ---@return RGBColor function RGBColor.CreateFromHex(hex) ---Returns whether 2 colors have the same RGBA values. ---@param color RGBColor ---@return boolean function RGBColor:Equals(color)","title":"RGBColor"},{"location":"Documentation/Utilities/Color/#methods","text":"---Alias for creating an RGBColor from RGBA values. ---@overload fun(color:RGBColor):RGBColor ---@param red integer? ---@param green integer? ---@param blue integer? ---@param alpha integer? ---@return RGBColor function Color.Create(red, green, blue, alpha) ---Creates a color from RGBA values. Expected range of values is [0-255]. ---@param red integer? ---@param green integer? ---@param blue integer? ---@param alpha integer? ---@return RGBColor function Color.CreateFromRGB(red, green, blue, alpha) ---Creates a color from a decimal value. ---Does not support alpha. ---@param num integer ---@return RGBColor function Color.CreateFromDecimal(num) ---Creates a color from an html-format hex color code. ---Does not support alpha. ---@param hex string ---@return RGBColor function Color.CreateFromHex(hex) ---Clones a color instance. ---@param color RGBColor ---@return RGBColor New instance with same values. function Color.Clone(color)","title":"Methods"},{"location":"Documentation/Utilities/Combat/","text":"Combat \u00b6 The Combat library contains methods for querying information about ongoing combats. Classes \u00b6 ---@class CombatLib_RoundInfo ---@field Participants (Character|Item)[] ---@class CombatLib_TurnOrder ---@field CurrentRound CombatLib_RoundInfo ---@field NextRound CombatLib_RoundInfo ---@field CombatID uint8 Methods \u00b6 ---@return EclTurnManager|EsvTurnManager function Combat.GetTurnManager() ---@param combatID integer ---@return EclTurnManagerCombat|EsvTurnManagerCombat function Combat.GetCombat(combatID) ---Returns the character participants of a combat. ---@return CombatLib_TurnOrder function Combat.GetTurnOrder(combatID)","title":"Combat"},{"location":"Documentation/Utilities/Combat/#combat","text":"The Combat library contains methods for querying information about ongoing combats.","title":"Combat"},{"location":"Documentation/Utilities/Combat/#classes","text":"---@class CombatLib_RoundInfo ---@field Participants (Character|Item)[] ---@class CombatLib_TurnOrder ---@field CurrentRound CombatLib_RoundInfo ---@field NextRound CombatLib_RoundInfo ---@field CombatID uint8","title":"Classes"},{"location":"Documentation/Utilities/Combat/#methods","text":"---@return EclTurnManager|EsvTurnManager function Combat.GetTurnManager() ---@param combatID integer ---@return EclTurnManagerCombat|EsvTurnManagerCombat function Combat.GetCombat(combatID) ---Returns the character participants of a combat. ---@return CombatLib_TurnOrder function Combat.GetTurnOrder(combatID)","title":"Methods"},{"location":"Documentation/Utilities/GameState/","text":"GameState \u00b6 The GameState library contains methods and events related to the global game state - that is, whether it's in a session, loading, paused, etc. Its events are helpful for initialization purposes. ClientReady , for example, fires when the client transitions from PrepareRunning to Running and is a great moment to initialize anything that could need the client character to be present and/or send messages to the server (both of which are not reliable to do before that point). Events \u00b6 ---@netmsg EPIPENCOUNTERS_GameStateLib_ClientReady : NetMessage, GameStateLib_Event_ClientReady ---@event GamePaused ---@event GameUnpaused ---Fires when the game transitions from PrepareRunning to Running (on the client) ---or when transitioning from Sync to Running (on the server) ---@event GameReady ---Fired every tick while the game is not paused. ---@event RunningTick ---@field DeltaTime integer Milliseconds elapsed since last tick (NOT the last running tick) ---@event StateChanged ---@field From GameState ---@field To GameState ---Fired when the client transitions from PrepareRunning to Running, ---as well as when lua is reset. ---@event ClientReady ---@field CharacterNetID NetId ---@field ProfileGUID GUID ---Returns whether the game state is currently in a session. ---@return boolean function GameState.IsInSession() function GameState.IsLoading() ---@return boolean function GameState.IsPaused() ---@return GameState function GameState.GetState() ---@return boolean function GameState.IsPaused() ---@return GameState function GameState.GetState() ---@return boolean function GameState.IsSessionLoaded()","title":"GameState"},{"location":"Documentation/Utilities/GameState/#gamestate","text":"The GameState library contains methods and events related to the global game state - that is, whether it's in a session, loading, paused, etc. Its events are helpful for initialization purposes. ClientReady , for example, fires when the client transitions from PrepareRunning to Running and is a great moment to initialize anything that could need the client character to be present and/or send messages to the server (both of which are not reliable to do before that point).","title":"GameState"},{"location":"Documentation/Utilities/GameState/#events","text":"---@netmsg EPIPENCOUNTERS_GameStateLib_ClientReady : NetMessage, GameStateLib_Event_ClientReady ---@event GamePaused ---@event GameUnpaused ---Fires when the game transitions from PrepareRunning to Running (on the client) ---or when transitioning from Sync to Running (on the server) ---@event GameReady ---Fired every tick while the game is not paused. ---@event RunningTick ---@field DeltaTime integer Milliseconds elapsed since last tick (NOT the last running tick) ---@event StateChanged ---@field From GameState ---@field To GameState ---Fired when the client transitions from PrepareRunning to Running, ---as well as when lua is reset. ---@event ClientReady ---@field CharacterNetID NetId ---@field ProfileGUID GUID ---Returns whether the game state is currently in a session. ---@return boolean function GameState.IsInSession() function GameState.IsLoading() ---@return boolean function GameState.IsPaused() ---@return GameState function GameState.GetState() ---@return boolean function GameState.IsPaused() ---@return GameState function GameState.GetState() ---@return boolean function GameState.IsSessionLoaded()","title":"Events"},{"location":"Documentation/Utilities/Item/","text":"Item \u00b6 The Item library contains methods relating to item game objects. Methods \u00b6 ---Returns true if the item is an Artifact by checking the AMER_UNI tag. ---@param item Item ---@return boolean function Item.IsArtifact(item) ---Returns whether the item is a rune. ---@param item Item ---@return boolean function Item.IsRune(item) ---Returns whether item is a melee weapon (satisfying a MeleeWeapon requirement) ---Returns true for None-type weaponry. ---@param item Item ---@return boolean function Item.IsMeleeWeapon(item) ---Returns the icon of the item. ---Fetching the icon is technically different per context; the server only cares about root template icon (except for the gold template). This function uses the client logic (which also checks icon override and icon from stats). ---@param item Item ---@return string function Item.GetIcon(item) ---Returns whether the item has a flag. ---@param item Item ---@param flag EclItemFlags|EsvItemFlags|EclItemFlags2|EsvItemFlags2 function Item.HasFlag(item, flag) ---Returns whether an item is a container. ---@param item Item ---@return boolean function Item.IsContainer(item) ---Returns whether the item has a OnUsePeaceAction of the passed type. ---@param item Item ---@param useActionID ActionDataType ---@return boolean function Item.HasUseAction(item, useActionID) ---Returns whether an item has any use actions. ---@param item Item ---@return boolean function Item.HasUseActions(item) ---Returns the current owner of the item. ---The owner will be nil if the character who owned the item died. ---@param item Item ---@return Character? function Item.GetOwner(item) ---Returns whether interacting with an item is legal. ---@param item Item ---@return boolean function Item.IsLegal(item) ---Returns true if the item is a weapon (shields don't count!) ---@param item Item ---@return boolean function Item.IsWeapon(item) ---Returns whether item is a shield (satisfying a ShieldWeapon requirement) ---@param item Item ---@return boolean function Item.IsShield(item) ---Returns whether item is a dagger (satisfying a DaggerWeapon requirement) ---@param item Item ---@return boolean function Item.IsDagger(item) ---Returns whether item is a ranged weapon; bow or crossbow only! ---@param item Item ---@return boolean function Item.IsRangedWeapon(item) ---@param item Item ---@return integer function Item.GetUseAPCost(item) ---@param char Character ---@param item Item ---@return boolean function Item.CanUse(char, item) ---Returns all items in the party inventory of char matching the predicate, or all if no predicate is passed. ---@param char Character ---@param predicate? fun(item:Item):boolean function Item.GetItemsInPartyInventory(char, predicate) --- Gets the amount of Loremaster necessary to identify an item. --- Ignores whether the item is already identified. ---@param item Item ---@return number function Item.GetIdentifyRequirement(item) ---@param identifier GUID|NetId|EntityHandle ---@param isFlashHandle boolean? ---@return Item function Item.Get(identifier, isFlashHandle) --- Returns true if the item is an armor piece or a weapon. ---@param item Item ---@return boolean function Item.IsEquipment(item) --- Returns true for dyeable items (equipment, except rings/amulet/belt). ---@param item Item ---@return boolean function Item.IsDyeable(item) --- Alias for Item.Stats.ItemSlot ---@param item Item ---@return ItemSlot function Item.GetItemSlot(item) --- Like ItemSlot, but distinguishes armor subtypes --- Get subtype of item (ex. \"Dagger\" or \"Platemail\"). --- Returns ItemSlot for items with no subtypes ---@param item Item ---@return EquipmentSubType function Item.GetEquipmentSubtype(item) --- Applies a dye to the item. ---@param item Item ---@param dye Dye ---@return boolean False if item is already dyed with the same dye, or if dye is ``nil``. function Item.ApplyDye(item, dye) --- Returns the ID and data for the most recently-applied dye deltamod on the item. ---@param item Item ---@return string,Dye The dye ID and data table. function Item.GetCurrentDye(item) ---Returns a list of the named boosts on the item. ---@param item Item ---@return string[] function Item.GetNamedBoosts(item) --- Returns true if item is equipped by char. Assumes the item cannot be equipped into an unintended slot. Rings and weapons are checked for both slots. ---@param char Character ---@param item Item ---@return boolean function Item.IsEquipped(char, item) ---Returns the slot that an item is equipped in, or nil if it is not. ---@param item Item ---@param char Character? Defaults to item's owner. ---@return EquipSlot? function Item.GetEquippedSlot(item, char) --- Count the items in an entity's inventory that match a predicate function. --- Predicate is passed ``Item`` and should return true for items to be counted. ---@param entity Entity ---@param predicate fun(item: EsvItem) ---@return number function Item.CountItemsInInventory(entity, predicate) --- Gets the stats object of the rune inserted at rune index ``index`` on item. ---@param item Item ---@param index number ---@return StatItem function Item.GetRune(item, index) --- Returns a list of runes on the item. ---@param item Item ---@return table<number, StatItem> Empty slots are nil. function Item.GetRunes(item) --- Returns true if item has any runes slotted. ---@param item Item ---@return boolean function Item.HasRunes(item) --- Returns a list of the items in the entity's inventory that match an optional predicate function. --- Predicate is passed the EclItem/EsvItem and should return true for items to be included. ---@param entity Entity ---@param predicate fun(item: Item) ---@return Item[] function Item.GetItemsInInventory(entity, predicate) ---Sets a custom icon for an item. ---Not persistent! ---@param item Item ---@param icon string function Item.SetIconOverride(item, icon) ---Count the amount of template instances (prefix + guid) in the client party's inventory. ---@param template string ---@return number function Item.GetPartyTemplateCount(template)","title":"Item"},{"location":"Documentation/Utilities/Item/#item","text":"The Item library contains methods relating to item game objects.","title":"Item"},{"location":"Documentation/Utilities/Item/#methods","text":"---Returns true if the item is an Artifact by checking the AMER_UNI tag. ---@param item Item ---@return boolean function Item.IsArtifact(item) ---Returns whether the item is a rune. ---@param item Item ---@return boolean function Item.IsRune(item) ---Returns whether item is a melee weapon (satisfying a MeleeWeapon requirement) ---Returns true for None-type weaponry. ---@param item Item ---@return boolean function Item.IsMeleeWeapon(item) ---Returns the icon of the item. ---Fetching the icon is technically different per context; the server only cares about root template icon (except for the gold template). This function uses the client logic (which also checks icon override and icon from stats). ---@param item Item ---@return string function Item.GetIcon(item) ---Returns whether the item has a flag. ---@param item Item ---@param flag EclItemFlags|EsvItemFlags|EclItemFlags2|EsvItemFlags2 function Item.HasFlag(item, flag) ---Returns whether an item is a container. ---@param item Item ---@return boolean function Item.IsContainer(item) ---Returns whether the item has a OnUsePeaceAction of the passed type. ---@param item Item ---@param useActionID ActionDataType ---@return boolean function Item.HasUseAction(item, useActionID) ---Returns whether an item has any use actions. ---@param item Item ---@return boolean function Item.HasUseActions(item) ---Returns the current owner of the item. ---The owner will be nil if the character who owned the item died. ---@param item Item ---@return Character? function Item.GetOwner(item) ---Returns whether interacting with an item is legal. ---@param item Item ---@return boolean function Item.IsLegal(item) ---Returns true if the item is a weapon (shields don't count!) ---@param item Item ---@return boolean function Item.IsWeapon(item) ---Returns whether item is a shield (satisfying a ShieldWeapon requirement) ---@param item Item ---@return boolean function Item.IsShield(item) ---Returns whether item is a dagger (satisfying a DaggerWeapon requirement) ---@param item Item ---@return boolean function Item.IsDagger(item) ---Returns whether item is a ranged weapon; bow or crossbow only! ---@param item Item ---@return boolean function Item.IsRangedWeapon(item) ---@param item Item ---@return integer function Item.GetUseAPCost(item) ---@param char Character ---@param item Item ---@return boolean function Item.CanUse(char, item) ---Returns all items in the party inventory of char matching the predicate, or all if no predicate is passed. ---@param char Character ---@param predicate? fun(item:Item):boolean function Item.GetItemsInPartyInventory(char, predicate) --- Gets the amount of Loremaster necessary to identify an item. --- Ignores whether the item is already identified. ---@param item Item ---@return number function Item.GetIdentifyRequirement(item) ---@param identifier GUID|NetId|EntityHandle ---@param isFlashHandle boolean? ---@return Item function Item.Get(identifier, isFlashHandle) --- Returns true if the item is an armor piece or a weapon. ---@param item Item ---@return boolean function Item.IsEquipment(item) --- Returns true for dyeable items (equipment, except rings/amulet/belt). ---@param item Item ---@return boolean function Item.IsDyeable(item) --- Alias for Item.Stats.ItemSlot ---@param item Item ---@return ItemSlot function Item.GetItemSlot(item) --- Like ItemSlot, but distinguishes armor subtypes --- Get subtype of item (ex. \"Dagger\" or \"Platemail\"). --- Returns ItemSlot for items with no subtypes ---@param item Item ---@return EquipmentSubType function Item.GetEquipmentSubtype(item) --- Applies a dye to the item. ---@param item Item ---@param dye Dye ---@return boolean False if item is already dyed with the same dye, or if dye is ``nil``. function Item.ApplyDye(item, dye) --- Returns the ID and data for the most recently-applied dye deltamod on the item. ---@param item Item ---@return string,Dye The dye ID and data table. function Item.GetCurrentDye(item) ---Returns a list of the named boosts on the item. ---@param item Item ---@return string[] function Item.GetNamedBoosts(item) --- Returns true if item is equipped by char. Assumes the item cannot be equipped into an unintended slot. Rings and weapons are checked for both slots. ---@param char Character ---@param item Item ---@return boolean function Item.IsEquipped(char, item) ---Returns the slot that an item is equipped in, or nil if it is not. ---@param item Item ---@param char Character? Defaults to item's owner. ---@return EquipSlot? function Item.GetEquippedSlot(item, char) --- Count the items in an entity's inventory that match a predicate function. --- Predicate is passed ``Item`` and should return true for items to be counted. ---@param entity Entity ---@param predicate fun(item: EsvItem) ---@return number function Item.CountItemsInInventory(entity, predicate) --- Gets the stats object of the rune inserted at rune index ``index`` on item. ---@param item Item ---@param index number ---@return StatItem function Item.GetRune(item, index) --- Returns a list of runes on the item. ---@param item Item ---@return table<number, StatItem> Empty slots are nil. function Item.GetRunes(item) --- Returns true if item has any runes slotted. ---@param item Item ---@return boolean function Item.HasRunes(item) --- Returns a list of the items in the entity's inventory that match an optional predicate function. --- Predicate is passed the EclItem/EsvItem and should return true for items to be included. ---@param entity Entity ---@param predicate fun(item: Item) ---@return Item[] function Item.GetItemsInInventory(entity, predicate) ---Sets a custom icon for an item. ---Not persistent! ---@param item Item ---@param icon string function Item.SetIconOverride(item, icon) ---Count the amount of template instances (prefix + guid) in the client party's inventory. ---@param template string ---@return number function Item.GetPartyTemplateCount(template)","title":"Methods"},{"location":"Documentation/Utilities/Mod/","text":"Mod \u00b6 The Mod library contains wrapper methods for querying mod-related information. The GUIDS table contains the GUIDs of various notable mods. Methods \u00b6 ---@param guid GUID function Mod.IsLoaded(guid) ---Returns a mod by its guid. ---@return Module function Mod.Get(guid) ---Returns a list of the currently loaded mods. ---@return Module[] function Mod.GetLoadOrder() ---@param guid GUID ---@return integer?, integer?, integer?, integer? --Major, minor, revision, build version. Fails if the mod is not loaded. function Mod.GetStoryVersion(guid)","title":"Mod"},{"location":"Documentation/Utilities/Mod/#mod","text":"The Mod library contains wrapper methods for querying mod-related information. The GUIDS table contains the GUIDs of various notable mods.","title":"Mod"},{"location":"Documentation/Utilities/Mod/#methods","text":"---@param guid GUID function Mod.IsLoaded(guid) ---Returns a mod by its guid. ---@return Module function Mod.Get(guid) ---Returns a list of the currently loaded mods. ---@return Module[] function Mod.GetLoadOrder() ---@param guid GUID ---@return integer?, integer?, integer?, integer? --Major, minor, revision, build version. Fails if the mod is not loaded. function Mod.GetStoryVersion(guid)","title":"Methods"},{"location":"Documentation/Utilities/Net/","text":"Net \u00b6 The Net library offers wrapper methods to make working with network messages easier. Its main feature is automatically stringifying messages, removing the need to do so explicitly when using tables. Additionally, Net.RegisterListener() provides a way to register net listeners with IDE hints for the function parameters. This is done by defining a class with the name of the net message, for example: ---@class EPIPENCOUNTERS_Vanity_ApplyAura : NetMessage, Net_SimpleMessage_NetID ---@field AuraID string ---@field BoneID string Net.RegisterListener(\"EPIPENCOUNTERS_Vanity_ApplyAura\", function(payload) -- The payload variable here will be of the type EPIPENCOUNTERS_Vanity_ApplyAura and offer auto-completion! end) Additionally, for purposes of semantic clarity, a NetMessage class exists for denoting net events. Several other net message classes are defined with commonly used fields like CharacterNetID . You may have your net message classes inherit from these to reduce annotation duplication and to clarify the class's purpose as a net message. Classes \u00b6 ---@class Net_SimpleMessage_Character ---@field CharacterNetID NetId ---@class Net_SimpleMessage_Item ---@field ItemNetID NetId ---@class Net_SimpleMessage_NetID ---@field NetID NetId ---@class Net_SimpleMessage_State ---@field State boolean Events \u00b6 ---@event MessageReceived<T> ---@field Channel string ---@field Message `T` ---@field UserID UserId Methods \u00b6 ---Sends a message to the server. ---@param channel `T` ---@param message T? function Net.PostToServer(channel, message) ---Sends a message to all peers. ---@param channel `T` ---@param message T? ---@param excludedChar GUID? function Net.Broadcast(channel, message, excludedChar) ---Sends a message to the user that currently controls char. Fails if char is a summon. ---@param char Character ---@param channel `T` ---@param message T? function Net.PostToCharacter(char, channel, message) ---Sends a message to a user. ---@param user UserId ---@param channel `T` ---@param message T ---@param excludedChar GUID? function Net.PostToUser(user, channel, message, excludedChar) ---Sends a message to the owner of char. Use if you suspect the char might be a summon. ---@param char Character ---@param channel string ---@param message any function Net.PostToOwner(char, channel, message) ---Wrapper for Ext.RegisterNetListener that parses json payloads and fires an event afterwards. ---@param channel `T` ---@param func fun(payload:`T`) function Net.RegisterListener(channel, func)","title":"Net"},{"location":"Documentation/Utilities/Net/#net","text":"The Net library offers wrapper methods to make working with network messages easier. Its main feature is automatically stringifying messages, removing the need to do so explicitly when using tables. Additionally, Net.RegisterListener() provides a way to register net listeners with IDE hints for the function parameters. This is done by defining a class with the name of the net message, for example: ---@class EPIPENCOUNTERS_Vanity_ApplyAura : NetMessage, Net_SimpleMessage_NetID ---@field AuraID string ---@field BoneID string Net.RegisterListener(\"EPIPENCOUNTERS_Vanity_ApplyAura\", function(payload) -- The payload variable here will be of the type EPIPENCOUNTERS_Vanity_ApplyAura and offer auto-completion! end) Additionally, for purposes of semantic clarity, a NetMessage class exists for denoting net events. Several other net message classes are defined with commonly used fields like CharacterNetID . You may have your net message classes inherit from these to reduce annotation duplication and to clarify the class's purpose as a net message.","title":"Net"},{"location":"Documentation/Utilities/Net/#classes","text":"---@class Net_SimpleMessage_Character ---@field CharacterNetID NetId ---@class Net_SimpleMessage_Item ---@field ItemNetID NetId ---@class Net_SimpleMessage_NetID ---@field NetID NetId ---@class Net_SimpleMessage_State ---@field State boolean","title":"Classes"},{"location":"Documentation/Utilities/Net/#events","text":"---@event MessageReceived<T> ---@field Channel string ---@field Message `T` ---@field UserID UserId","title":"Events"},{"location":"Documentation/Utilities/Net/#methods","text":"---Sends a message to the server. ---@param channel `T` ---@param message T? function Net.PostToServer(channel, message) ---Sends a message to all peers. ---@param channel `T` ---@param message T? ---@param excludedChar GUID? function Net.Broadcast(channel, message, excludedChar) ---Sends a message to the user that currently controls char. Fails if char is a summon. ---@param char Character ---@param channel `T` ---@param message T? function Net.PostToCharacter(char, channel, message) ---Sends a message to a user. ---@param user UserId ---@param channel `T` ---@param message T ---@param excludedChar GUID? function Net.PostToUser(user, channel, message, excludedChar) ---Sends a message to the owner of char. Use if you suspect the char might be a summon. ---@param char Character ---@param channel string ---@param message any function Net.PostToOwner(char, channel, message) ---Wrapper for Ext.RegisterNetListener that parses json payloads and fires an event afterwards. ---@param channel `T` ---@param func fun(payload:`T`) function Net.RegisterListener(channel, func)","title":"Methods"},{"location":"Documentation/Utilities/Text/","text":"Text \u00b6 The Text table offers utility methods for working with text and formatting tags. ---@param color uint64|RGBColor ---@param size number ---@param alpha number ---@param strength uint64 ---@param unknown uint64 function Text:SetStroke(color, size, alpha, strength, unknown) ---Returns a string representation of a number, rounded. ---@param value number ---@param decimals? integer Defaults to 0. ---@return string function Text.Round(value, decimals) ---Concatenates 2 strings and adds enough whitespace padding inbetween them to ensure a specific length. ---@param str1 string ---@param str2 string ---@param space integer ---@return string function Text.EqualizeSpace(str1, str2, space) ---Generate a random GUID. ---Source: https://gist.github.com/jrus/3197011 ---@param pattern pattern? Defaults to GUID4 pattern. ---@return GUID function Text.GenerateGUID(pattern) ---Generates a random handle in the format that Larian uses for TranslatedStringHandle. ---@return TranslatedStringHandle function Text.GenerateTranslatedStringHandle() ---Joins two strings together. ---@param str1 string ---@param str2 string ---@param separator string? Defaults to ` ` function Text.Join(str1, str2, separator) function Text.AppendLine(str1, str2) ---Returns a string with spaces inserted inbetween PascalCase words. ---@param str string ---@return string function Text.SeparatePascalCase(str) ---Removes trailing zeros from a number and returns it as string. ---@param num number ---@return string function Text.RemoveTrailingZeros(num) ---Escapes characters that have a special meaning in lua patterns. ---Source: https://github.com/lua-nucleo/lua-nucleo/blob/v0.1.0/lua-nucleo/string.lua#L245-L267 ---@param str string ---@return string function Text.EscapePatternCharacters(str) ---@param str string ---@param pattern pattern function Text.Contains(str, pattern) ---Split a string by delimiter. Source: https://stackoverflow.com/questions/1426954/split-string-in-lua ---@param inputstr string ---@param sep string ---@return string[] function Text.Split_2(str, sep) ---Capitalizes the first letter of the string. ---https://stackoverflow.com/a/2421746 ---@param str string ---@return string function Text.Capitalize(str) ---Format a string. ---@param str string | TextFormatData ---@param formatData TextFormatData ---@return string function Text.Format(str, formatData) ---Removes all <font> tags from a string. WIP! ---@param str string ---@return string function Text.StripFontTags(str) ---Shorthand for Ext.DumpExport() which does not require you to explicitly define the default options (Beautify, StringifyInternalTypes, etc.) ---@param obj any ---@param opts unknown? TODO specify type ---@return string function Text.Dump(obj, opts) ---Returns the string bound to a TranslatedStringHandle, or a key. ---@param handle TranslatedStringHandle|string Accepts handles or keys. ---@param fallBack string? ---@return string Defaults to the handle, of fallBack if specified. function Text.GetTranslatedString(handle, fallBack) ---Registers a translated string, optionally binding a key to it. ---@overload fun(data:TextLib_TranslatedString, replaceExisting:boolean?):string,TextLib_TranslatedString ---@param text string ---@param handle TranslatedStringHandle ---@param key string? ---@param modTable ModTableID? Used to keep track of where translated strings come from. Optional. ---@param replaceExisting boolean? Defaults to false. ---@return string, TextLib_TranslatedString -- First return value will be the text passed as parameter, or the text the handle already pointed to, if already registered/localized. function Text.RegisterTranslatedString(text, handle, key, modTable, replaceExisting) ---Generates a template file for localizing strings registered through this library. ---@param modTable string? Defaults to \"EpipEncounters\" ---@param existingTemplate TextLib_LocalizationTemplate? If present, translated strings from this template will be patched into the new one, if the reference text is still up-to-date. ---@return TextLib_LocalizationTemplate, integer?, integer? -- Second param is amount of new strings, third is amount of outdated strings. Second param onwards is only returned while patching. function Text.GenerateLocalizationTemplate(modTable, existingTemplate) ---Loads a localization file. Must be in the format generated by GenerateLocalizationTemplate() ---@param filePath string function Text.LoadLocalization(filePath)","title":"Text"},{"location":"Documentation/Utilities/Text/#text","text":"The Text table offers utility methods for working with text and formatting tags. ---@param color uint64|RGBColor ---@param size number ---@param alpha number ---@param strength uint64 ---@param unknown uint64 function Text:SetStroke(color, size, alpha, strength, unknown) ---Returns a string representation of a number, rounded. ---@param value number ---@param decimals? integer Defaults to 0. ---@return string function Text.Round(value, decimals) ---Concatenates 2 strings and adds enough whitespace padding inbetween them to ensure a specific length. ---@param str1 string ---@param str2 string ---@param space integer ---@return string function Text.EqualizeSpace(str1, str2, space) ---Generate a random GUID. ---Source: https://gist.github.com/jrus/3197011 ---@param pattern pattern? Defaults to GUID4 pattern. ---@return GUID function Text.GenerateGUID(pattern) ---Generates a random handle in the format that Larian uses for TranslatedStringHandle. ---@return TranslatedStringHandle function Text.GenerateTranslatedStringHandle() ---Joins two strings together. ---@param str1 string ---@param str2 string ---@param separator string? Defaults to ` ` function Text.Join(str1, str2, separator) function Text.AppendLine(str1, str2) ---Returns a string with spaces inserted inbetween PascalCase words. ---@param str string ---@return string function Text.SeparatePascalCase(str) ---Removes trailing zeros from a number and returns it as string. ---@param num number ---@return string function Text.RemoveTrailingZeros(num) ---Escapes characters that have a special meaning in lua patterns. ---Source: https://github.com/lua-nucleo/lua-nucleo/blob/v0.1.0/lua-nucleo/string.lua#L245-L267 ---@param str string ---@return string function Text.EscapePatternCharacters(str) ---@param str string ---@param pattern pattern function Text.Contains(str, pattern) ---Split a string by delimiter. Source: https://stackoverflow.com/questions/1426954/split-string-in-lua ---@param inputstr string ---@param sep string ---@return string[] function Text.Split_2(str, sep) ---Capitalizes the first letter of the string. ---https://stackoverflow.com/a/2421746 ---@param str string ---@return string function Text.Capitalize(str) ---Format a string. ---@param str string | TextFormatData ---@param formatData TextFormatData ---@return string function Text.Format(str, formatData) ---Removes all <font> tags from a string. WIP! ---@param str string ---@return string function Text.StripFontTags(str) ---Shorthand for Ext.DumpExport() which does not require you to explicitly define the default options (Beautify, StringifyInternalTypes, etc.) ---@param obj any ---@param opts unknown? TODO specify type ---@return string function Text.Dump(obj, opts) ---Returns the string bound to a TranslatedStringHandle, or a key. ---@param handle TranslatedStringHandle|string Accepts handles or keys. ---@param fallBack string? ---@return string Defaults to the handle, of fallBack if specified. function Text.GetTranslatedString(handle, fallBack) ---Registers a translated string, optionally binding a key to it. ---@overload fun(data:TextLib_TranslatedString, replaceExisting:boolean?):string,TextLib_TranslatedString ---@param text string ---@param handle TranslatedStringHandle ---@param key string? ---@param modTable ModTableID? Used to keep track of where translated strings come from. Optional. ---@param replaceExisting boolean? Defaults to false. ---@return string, TextLib_TranslatedString -- First return value will be the text passed as parameter, or the text the handle already pointed to, if already registered/localized. function Text.RegisterTranslatedString(text, handle, key, modTable, replaceExisting) ---Generates a template file for localizing strings registered through this library. ---@param modTable string? Defaults to \"EpipEncounters\" ---@param existingTemplate TextLib_LocalizationTemplate? If present, translated strings from this template will be patched into the new one, if the reference text is still up-to-date. ---@return TextLib_LocalizationTemplate, integer?, integer? -- Second param is amount of new strings, third is amount of outdated strings. Second param onwards is only returned while patching. function Text.GenerateLocalizationTemplate(modTable, existingTemplate) ---Loads a localization file. Must be in the format generated by GenerateLocalizationTemplate() ---@param filePath string function Text.LoadLocalization(filePath)","title":"Text"},{"location":"Documentation/Utilities/Timer/","text":"Timer \u00b6 The Timer library implements timers, for running scripting with a delay. Since listeners for the timers ending can be registered in-line, it's usually cleaner to use than the Osiris timers. Additionally, they are available on the client. Classes \u00b6 ---@class TimerLib_Entry ---@field ID string? ---@field DurationLeft number ---@field InitialDuration number ---@field RepeatCount integer How many times the timer has repeated. ---@field Paused boolean function _TimerEntry:Pause() function _TimerEntry:Resume() function _TimerEntry:Cancel() ---@param repeats integer function _TimerEntry:SetRepeatCount(repeats) ---@param deltaTime number ---@return boolean Whether the timer has finished one iteration due to this call. function _TimerEntry:TickDown(deltaTime) ---@return boolean function _TimerEntry:IsFinished() ---@param fun fun(ev:TimerLib_Event_TimerCompleted) function _TimerEntry:Subscribe(fun) ---@class TimerLib_TickTimerEntry function _TickTimer:TickDown(_) Events \u00b6 ---@event TimerCompleted ---@field Timer TimerLib_Entry Methods \u00b6 ---@overload fun(seconds:number, handler?:fun(ev:TimerLib_Event_TimerCompleted), id?:string):TimerLib_Entry|TimerLib_TickTimerEntry ---@param id string? ---@param seconds number ---@param handler fun(ev:TimerLib_Event_TimerCompleted) ---@param timerType \"Normal\"|\"Tick\" ---@return TimerLib_Entry|TimerLib_TickTimerEntry function Timer.Start(id, seconds, handler, timerType) ---@overload fun(seconds:number, handler?:fun(ev:TimerLib_Event_TimerCompleted), id?:string):TimerLib_TickTimerEntry ---@param id string? ---@param seconds number ---@param handler fun(ev:TimerLib_Event_TimerCompleted) ---@return TimerLib_TickTimerEntry function Timer.StartTickTimer(id, seconds, handler) ---Returns the timer with the passed string ID. ---@param stringID string ---@return TimerLib_Entry function Timer.GetTimer(stringID) ---@param timer TimerLib_Entry function Timer.Remove(timer)","title":"Timer"},{"location":"Documentation/Utilities/Timer/#timer","text":"The Timer library implements timers, for running scripting with a delay. Since listeners for the timers ending can be registered in-line, it's usually cleaner to use than the Osiris timers. Additionally, they are available on the client.","title":"Timer"},{"location":"Documentation/Utilities/Timer/#classes","text":"---@class TimerLib_Entry ---@field ID string? ---@field DurationLeft number ---@field InitialDuration number ---@field RepeatCount integer How many times the timer has repeated. ---@field Paused boolean function _TimerEntry:Pause() function _TimerEntry:Resume() function _TimerEntry:Cancel() ---@param repeats integer function _TimerEntry:SetRepeatCount(repeats) ---@param deltaTime number ---@return boolean Whether the timer has finished one iteration due to this call. function _TimerEntry:TickDown(deltaTime) ---@return boolean function _TimerEntry:IsFinished() ---@param fun fun(ev:TimerLib_Event_TimerCompleted) function _TimerEntry:Subscribe(fun) ---@class TimerLib_TickTimerEntry function _TickTimer:TickDown(_)","title":"Classes"},{"location":"Documentation/Utilities/Timer/#events","text":"---@event TimerCompleted ---@field Timer TimerLib_Entry","title":"Events"},{"location":"Documentation/Utilities/Timer/#methods","text":"---@overload fun(seconds:number, handler?:fun(ev:TimerLib_Event_TimerCompleted), id?:string):TimerLib_Entry|TimerLib_TickTimerEntry ---@param id string? ---@param seconds number ---@param handler fun(ev:TimerLib_Event_TimerCompleted) ---@param timerType \"Normal\"|\"Tick\" ---@return TimerLib_Entry|TimerLib_TickTimerEntry function Timer.Start(id, seconds, handler, timerType) ---@overload fun(seconds:number, handler?:fun(ev:TimerLib_Event_TimerCompleted), id?:string):TimerLib_TickTimerEntry ---@param id string? ---@param seconds number ---@param handler fun(ev:TimerLib_Event_TimerCompleted) ---@return TimerLib_TickTimerEntry function Timer.StartTickTimer(id, seconds, handler) ---Returns the timer with the passed string ID. ---@param stringID string ---@return TimerLib_Entry function Timer.GetTimer(stringID) ---@param timer TimerLib_Entry function Timer.Remove(timer)","title":"Methods"},{"location":"Documentation/Utilities/Vector/","text":"Vector \u00b6 The Vector library offers a vector data structure and methods to work with them. They are intended to be used as immutables. All methods and operators return a new instance of the output vector. Vector objects implement various operators; the binary ones only usable for vectors of the same arity: + : sum of components. - : subtraction of components. * : dot product. ^ : negation; inverts the sign of all components. Additionally, vector.Arity or vector.Length will return the amount of elements in the vector. In Epip, their primary use is semantic clarity for functions that require 2D coordinates as parameters. Vector Class \u00b6 ---@class Vector ---@field Arity integer Getter. Equivalent to #self. ---@field Length number Getter. Equivalent to Vector.GetLength() ---@field unpack fun(self:Vector):... Equivalent to table.unpack(self) Methods \u00b6 ---Creates a vector of variable length. ---@return Vector function Vector.Create(...) ---Performs a dot product between two vectors of the same dimensions. ---@param v1 Vector ---@param v2 Vector ---@return number function Vector.DotProduct(v1, v2) ---Performs a scalar product of a vector, multiplying each of its components. ---@param v Vector ---@param scalar number ---@return Vector function Vector.ScalarProduct(v, scalar) ---Sums the components of two vectors of the same dimensions. ---@param v1 Vector ---@param v2 Vector ---@return Vector function Vector.Sum(v1, v2) ---Subtracts the components of two vectors of the same dimension. ---@param v1 Vector ---@param v2 Vector ---@return Vector function Vector.Subtract(v1, v2) ---@param v Vector ---@return Vector function Vector.Negate(v) ---@param vector Vector ---@return Vector function Vector.Clone(vector) ---@param vector Vector ---@return Vector New instance; does not mutate. function Vector.GetNormalized(vector) ---@param vector Vector ---@return number function Vector.GetLength(vector)","title":"Vector"},{"location":"Documentation/Utilities/Vector/#vector","text":"The Vector library offers a vector data structure and methods to work with them. They are intended to be used as immutables. All methods and operators return a new instance of the output vector. Vector objects implement various operators; the binary ones only usable for vectors of the same arity: + : sum of components. - : subtraction of components. * : dot product. ^ : negation; inverts the sign of all components. Additionally, vector.Arity or vector.Length will return the amount of elements in the vector. In Epip, their primary use is semantic clarity for functions that require 2D coordinates as parameters.","title":"Vector"},{"location":"Documentation/Utilities/Vector/#vector-class","text":"---@class Vector ---@field Arity integer Getter. Equivalent to #self. ---@field Length number Getter. Equivalent to Vector.GetLength() ---@field unpack fun(self:Vector):... Equivalent to table.unpack(self)","title":"Vector Class"},{"location":"Documentation/Utilities/Vector/#methods","text":"---Creates a vector of variable length. ---@return Vector function Vector.Create(...) ---Performs a dot product between two vectors of the same dimensions. ---@param v1 Vector ---@param v2 Vector ---@return number function Vector.DotProduct(v1, v2) ---Performs a scalar product of a vector, multiplying each of its components. ---@param v Vector ---@param scalar number ---@return Vector function Vector.ScalarProduct(v, scalar) ---Sums the components of two vectors of the same dimensions. ---@param v1 Vector ---@param v2 Vector ---@return Vector function Vector.Sum(v1, v2) ---Subtracts the components of two vectors of the same dimension. ---@param v1 Vector ---@param v2 Vector ---@return Vector function Vector.Subtract(v1, v2) ---@param v Vector ---@return Vector function Vector.Negate(v) ---@param vector Vector ---@return Vector function Vector.Clone(vector) ---@param vector Vector ---@return Vector New instance; does not mutate. function Vector.GetNormalized(vector) ---@param vector Vector ---@return number function Vector.GetLength(vector)","title":"Methods"},{"location":"Epip/","text":"Epip \u00b6 The Epip table stores Features and metadata related to the mod. (documentation pending)","title":"Epip"},{"location":"Epip/#epip","text":"The Epip table stores Features and metadata related to the mod. (documentation pending)","title":"Epip"},{"location":"Epip/EpicEnemies/","text":"Epic Enemies \u00b6 Epic Enemies is a randomizer feature that gives enemies in combat random keyword effects, artifacts and other boons. It is accessed from its own settings tab in the settings menu. Creating Effects \u00b6 An Effect is a perk that an enemy can roll if Epic Enemies is enabled. Effects can belong to a category; each category gets their own settings sliders for all its effects in the UI. If you wish to add effects, you should register your own category for them with RegisterEffectCategory() . You may define the effects while defining the category (of type EpicEnemiesEffect ), and they will be automatically registered as well. Registering effects directly with RegisterEffect() does not bind them to any category by default, meaning they will not appear in the UI and will not be customizable - this is great if you wish to create auxiliary effects with 0 weight and script their applications yourself. Effects can be rolled on a character with InitializeCharacter() . By default, this happens when they enter combat, and numerous characters are excluded: players, summons, and already initialized characters. You may tag characters with PIP_EpicEnemies_Ineligible to exclude them as well. Effects from a character can be removed with CleanupCharacter() ; this will cause their stat boosts, Special Logic, and other perks from their effects to be cleaned up as well. By default, this only happens when lua is reset (for debugging). When InitializeCharacter() is called, effects are rolled randomly based on their weight and eligibility . You may hook IsEffectApplicable to control which effects a character can receive. The EpicEnemiesEffectTemplates feature script does so to prevent keyword mutators from being granted to characters that do not possess an activator effect. The EpicEnemiesEffectTemplates feature script also implements multiple types of effects that power generic functionality: SpecialLogic Artifacts Summons Statuses ExtendedStats FlexStats RequiredSkills This is done by extending the the EpicEnemiesEffect class into EpicEnemiesExtendedEffect - you need only to add its extra fields to your effect definitions, and the event listeners from that script will take care of making them work. Of course, you may also add functionality yourself the same way, as detailed in the next section. Scripting Effects \u00b6 Effects can be in 2 states: applied and activated. \"Applied\" means the character has the effect, but its benefits are dormant and not yet active. \"Activated\" effects grant their benefits (stats, Special Logic, etc.). The condition for effects is based on the ActivationCondition field. If unspecified, it defaults to the \"EffectApplied\" type, which causes the effect to be activated as soon as it is applied (during initialization). If you specify a custom ActivationCondition , you will have to activate the effect's perks manually. The EpicEnemiesEffectConditions feature script implements some custom ActivationConditions: TurnStart : effect activates at the start of X turn, optionally repeating (effects support multiple activations). HealthThreshold : effect activates when beneath a Vitality/Armor threshold. BatteredHarried : effect activates upon reaching X B/H. StatusGained : effect activates upon gaining a certain status. Activation attempts are done through the ActivateEffects() call, which takes an ActivationCondition type (the string ID) as well as some params (for example, activation attemps of BatteredHarried pass the B/H stack count). This call in turn invokes the CanActivateEffect hook where scripts must judge if the parameters of the activation attempt are correct to activate each of the effects with that ActivationCondition. Example of how TurnStart works: A PROC_AMER_Combat_TurnStarted listener calls ActivateEffects(char, \"TurnStart\", {Round = round}) The EpicEnemies main script invokes the CanActivateEffect hook for each effect with the corresponding ActivationCondition type, as well as the params from the ActivateEffects() call. A listener of said hook checks if the activation condition type is \"TurnStart\", and if it is, returns a boolean indicating if the params received match the conditions defined in the effect. For example, the following effect activates on turn 2, meaning the enemy only becomes hasted on turn 2, since the listeners that manage the TurnStart activation condition compare Round and Repeat with the parameters from the activation attempt. The effect is however always visible in the tooltip, along with its activation condition, so players can plan around it. { Name = \"TurnStart Activation Test\", ID = \"TestStatus2\", Description = \"Hasted on turn 2.\", Status = { StatusID = \"HASTED\", Duration = 2, }, ActivationCondition = { Type = \"TurnStart\", Round = 2, Repeat = false, }, }, Events/Hooks \u00b6 ---@hook GetActivationConditionDescription ---@field RegisterHook fun(self, handler:fun(text:string, condition:EpicEnemiesActivationCondition, char:EclCharacter)) ---@field Return fun(self, text:string, condition:EpicEnemiesActivationCondition, char:EclCharacter) ---@event EffectApplied ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effect:EpicEnemiesEffect)) ---@field Fire fun(self, char:EsvCharacter, effect:EpicEnemiesEffect) ---@event EffectRemoved ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effect:EpicEnemiesEffect)) ---@field Fire fun(self, char:EsvCharacter, effect:EpicEnemiesEffect) ---@hook IsEligible ---@field RegisterHook fun(self, handler:fun(eligible:boolean, char:EsvCharacter)) ---@field Return fun(self, eligible:boolean, char:EsvCharacter) ---@hook IsEffectApplicable ---@field RegisterHook fun(self, handler:fun(applicable:boolean, effect:EpicEnemiesEffect, char:EsvCharacter, activeEffects:EpicEnemiesEffect[])) ---@field Return fun(self, applicable:boolean, effect:EpicEnemiesEffect, char:EsvCharacter, activeEffects:EpicEnemiesEffect[]) ---@event EffectActivated ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effect:EpicEnemiesEffect)) ---@field Fire fun(self, char:EsvCharacter, effect:EpicEnemiesEffect) ---@event EffectDeactivated ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effect:EpicEnemiesEffect)) ---@field Fire fun(self, char:EsvCharacter, effect:EpicEnemiesEffect) ---@hook CanActivateEffect ---@field RegisterHook fun(self, handler:fun(activate:boolean, char:EsvCharacter, effect:EpicEnemiesEffect, params:any)) ---@field Return fun(self, activate:boolean, char:EsvCharacter, effect:EpicEnemiesEffect, params:any) ---@hook GetPointsForCharacter ---@field RegisterHook fun(self, handler:fun(points:integer, char:EsvCharacter)) ---@field Return fun(self, points:integer, char:EsvCharacter) ---@event CharacterInitialized ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effects:EpicEnemiesEffect[])) ---@field Fire fun(self, char:EsvCharacter, effects:EpicEnemiesEffect[]) ---@event CharacterCleanedUp ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter)) ---@field Fire fun(self, char:EsvCharacter) Methods \u00b6 function EpicEnemies.IsInitialized(char) ---@param char EsvCharacter function EpicEnemies.InitializeCharacter(char) ---Remove all effects from a character. ---@param char EsvCharacter function EpicEnemies.CleanupCharacter(char) ---Returns true if the character is eligible to receive Epic Enemies effects. ---@param char EsvCharacter function EpicEnemies.IsEligible(char) ---@param char EsvCharacter ---@param effect EpicEnemiesEffect function EpicEnemies.ApplyEffect(char, effect) ---@param char EsvCharacter ---@param effect EpicEnemiesEffect function EpicEnemies.ActivateEffect(char, effect) ---@param char EsvCharacter ---@param predicate fun(char:EsvCharacter, effect:EpicEnemiesEffect)? ---@return table<string, EpicEnemiesEffect> function EpicEnemies.GetAppliedEffects(char, predicate) ---@param char EsvCharacter ---@param effect EpicEnemiesCharacter ---@return boolean function EpicEnemies.EffectIsActive(char, effect) ---@param char EsvCharacter ---@param effect EpicEnemiesCharacter ---@return integer function EpicEnemies.GetEffectActivationCount(char, effect) ---@param char EsvCharacter ---@param effectType string ---@param params table? function EpicEnemies.ActivateEffects(char, effectType, params) ---@param char EsvCharacter ---@param effect EpicEnemiesEffect ---@param charges integer? Defaults to 1. function EpicEnemies.DeactivateEffect(char, effect, charges) ---Remove an effect from a character. ---@param char EsvCharacter ---@param effectID string function EpicEnemies.RemoveEffect(char, effectID) ---@param char EsvCharacter ---@param effectPool table<string, EpicEnemiesEffect> ---@param activeEffects? EpicEnemiesEffect[] function EpicEnemies.GetRandomEffect(char, effectPool, activeEffects) ---@param char EsvCharacter function EpicEnemies.GetPointsForCharacter(char) ---Get the cost of an effect. function _EpicEnemiesEffect:GetCost() function _EpicEnemiesEffect:GetWeight() ---@param char Character|GUID function EpicEnemies.IsInitialized(char) ---@param id string ---@return EpicEnemiesEffect function EpicEnemies.GetEffectData(id) ---@param category EpicEnemiesEffectsCategory function EpicEnemies.RegisterEffectCategory(category) ---@param id string ---@param effect EpicEnemiesEffect function EpicEnemies.RegisterEffect(id, effect) ---@param effect EpicEnemiesEffect function EpicEnemies.GenerateOptionData(effect) Objects \u00b6 ---@class EpicEnemiesActivationCondition ---@field Type string ---@field MaxActivations integer ---@class EpicEnemiesEffect ---@field ID string ---@field Name string ---@field Description string ---@field Cost integer ---@field Weight integer ---@field DefaultWeight integer ---@field DefaultCost integer ---@field ActivationCondition EpicEnemiesActivationCondition ---@field Category string? ---@field Visible boolean? Whether this effect appears in tooltips. Defaults to true. ---@class EpicEnemiesKeywordData ---@field Keyword Keyword ---@field BoonType KeywordBoonType ---@class EpicEnemiesEffectsCategory ---@field Name string ---@field ID string ---@field Effects string[]|EpicEnemiesEffect[] Can be an array of EpicEnemiesEffect while calling the register method. Will be turned into an ID array afterwards. The scripts that implement the basic effect functionality define the following objects: ---@class EpicEnemiesExtendedEffect : EpicEnemiesEffect ---@field SpecialLogic? string Special logic to grant when the effect is rolled. ---@field Artifact? string Artifact power to grant when the effect is rolled. ---@field Keyword? EpicEnemiesKeywordData Used for activation conditions; certain keyword mutators will not be granted if the target has no activators of the keyword. ---@field Summon? GUID Template to summon. ---@field Status? EpicEnemiesStatus[] ---@field ExtendedStats? EpicEnemiesExtendedStat[] ---@field FlexStats? EpicEnemiesFlexStat[] ---@field RequiredSkills? string[] The effect is ineligible if the character does not have any of the required skills. ---@class EpicEnemiesStatus ---@field StatusID string ---@field Duration integer ---@class EpicEnemiesFlexStat ---@field Type string ---@field Stat string ---@field Amount number ---@class EpicEnemiesExtendedStat ---@field StatID string The ID of the ExtendedStat. ---@field Amount number ---@field Property1 string? ---@field Property2 string? ---@field Property3 string? ---@class EpicEnemiesCondition_TurnStart : EpicEnemiesActivationCondition ---@field Round integer Which round to activate the effect on. ---@field Repeat boolean Whether to re-activate the effect on subsequent rounds as well. ---@field RepeatFrequency uint64? How many turns must pass between re-activations if Repeat is true. Defaults to 1. ---@class EpicEnemiesCondition_HealthThreshold : EpicEnemiesActivationCondition ---@field Vitality number From 0-1. Use 0 to ignore this health metric. ---@field PhysicalArmor number From 0-1. Use 0 to ignore this health metric. ---@field MagicArmor number From 0-1. Use 0 to ignore this health metric. ---@field RequireAll boolean If true, all thresholds must be met for the activation. ---@class EpicEnemiesCondition_BatteredHarried : EpicEnemiesActivationCondition ---@field StackType StackType ---@field Amount integer ---@class EpicEnemiesCondition_StatusGained : EpicEnemiesActivationCondition ---@field StatusID string","title":"EpicEnemies"},{"location":"Epip/EpicEnemies/#epic-enemies","text":"Epic Enemies is a randomizer feature that gives enemies in combat random keyword effects, artifacts and other boons. It is accessed from its own settings tab in the settings menu.","title":"Epic Enemies"},{"location":"Epip/EpicEnemies/#creating-effects","text":"An Effect is a perk that an enemy can roll if Epic Enemies is enabled. Effects can belong to a category; each category gets their own settings sliders for all its effects in the UI. If you wish to add effects, you should register your own category for them with RegisterEffectCategory() . You may define the effects while defining the category (of type EpicEnemiesEffect ), and they will be automatically registered as well. Registering effects directly with RegisterEffect() does not bind them to any category by default, meaning they will not appear in the UI and will not be customizable - this is great if you wish to create auxiliary effects with 0 weight and script their applications yourself. Effects can be rolled on a character with InitializeCharacter() . By default, this happens when they enter combat, and numerous characters are excluded: players, summons, and already initialized characters. You may tag characters with PIP_EpicEnemies_Ineligible to exclude them as well. Effects from a character can be removed with CleanupCharacter() ; this will cause their stat boosts, Special Logic, and other perks from their effects to be cleaned up as well. By default, this only happens when lua is reset (for debugging). When InitializeCharacter() is called, effects are rolled randomly based on their weight and eligibility . You may hook IsEffectApplicable to control which effects a character can receive. The EpicEnemiesEffectTemplates feature script does so to prevent keyword mutators from being granted to characters that do not possess an activator effect. The EpicEnemiesEffectTemplates feature script also implements multiple types of effects that power generic functionality: SpecialLogic Artifacts Summons Statuses ExtendedStats FlexStats RequiredSkills This is done by extending the the EpicEnemiesEffect class into EpicEnemiesExtendedEffect - you need only to add its extra fields to your effect definitions, and the event listeners from that script will take care of making them work. Of course, you may also add functionality yourself the same way, as detailed in the next section.","title":"Creating Effects"},{"location":"Epip/EpicEnemies/#scripting-effects","text":"Effects can be in 2 states: applied and activated. \"Applied\" means the character has the effect, but its benefits are dormant and not yet active. \"Activated\" effects grant their benefits (stats, Special Logic, etc.). The condition for effects is based on the ActivationCondition field. If unspecified, it defaults to the \"EffectApplied\" type, which causes the effect to be activated as soon as it is applied (during initialization). If you specify a custom ActivationCondition , you will have to activate the effect's perks manually. The EpicEnemiesEffectConditions feature script implements some custom ActivationConditions: TurnStart : effect activates at the start of X turn, optionally repeating (effects support multiple activations). HealthThreshold : effect activates when beneath a Vitality/Armor threshold. BatteredHarried : effect activates upon reaching X B/H. StatusGained : effect activates upon gaining a certain status. Activation attempts are done through the ActivateEffects() call, which takes an ActivationCondition type (the string ID) as well as some params (for example, activation attemps of BatteredHarried pass the B/H stack count). This call in turn invokes the CanActivateEffect hook where scripts must judge if the parameters of the activation attempt are correct to activate each of the effects with that ActivationCondition. Example of how TurnStart works: A PROC_AMER_Combat_TurnStarted listener calls ActivateEffects(char, \"TurnStart\", {Round = round}) The EpicEnemies main script invokes the CanActivateEffect hook for each effect with the corresponding ActivationCondition type, as well as the params from the ActivateEffects() call. A listener of said hook checks if the activation condition type is \"TurnStart\", and if it is, returns a boolean indicating if the params received match the conditions defined in the effect. For example, the following effect activates on turn 2, meaning the enemy only becomes hasted on turn 2, since the listeners that manage the TurnStart activation condition compare Round and Repeat with the parameters from the activation attempt. The effect is however always visible in the tooltip, along with its activation condition, so players can plan around it. { Name = \"TurnStart Activation Test\", ID = \"TestStatus2\", Description = \"Hasted on turn 2.\", Status = { StatusID = \"HASTED\", Duration = 2, }, ActivationCondition = { Type = \"TurnStart\", Round = 2, Repeat = false, }, },","title":"Scripting Effects"},{"location":"Epip/EpicEnemies/#eventshooks","text":"---@hook GetActivationConditionDescription ---@field RegisterHook fun(self, handler:fun(text:string, condition:EpicEnemiesActivationCondition, char:EclCharacter)) ---@field Return fun(self, text:string, condition:EpicEnemiesActivationCondition, char:EclCharacter) ---@event EffectApplied ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effect:EpicEnemiesEffect)) ---@field Fire fun(self, char:EsvCharacter, effect:EpicEnemiesEffect) ---@event EffectRemoved ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effect:EpicEnemiesEffect)) ---@field Fire fun(self, char:EsvCharacter, effect:EpicEnemiesEffect) ---@hook IsEligible ---@field RegisterHook fun(self, handler:fun(eligible:boolean, char:EsvCharacter)) ---@field Return fun(self, eligible:boolean, char:EsvCharacter) ---@hook IsEffectApplicable ---@field RegisterHook fun(self, handler:fun(applicable:boolean, effect:EpicEnemiesEffect, char:EsvCharacter, activeEffects:EpicEnemiesEffect[])) ---@field Return fun(self, applicable:boolean, effect:EpicEnemiesEffect, char:EsvCharacter, activeEffects:EpicEnemiesEffect[]) ---@event EffectActivated ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effect:EpicEnemiesEffect)) ---@field Fire fun(self, char:EsvCharacter, effect:EpicEnemiesEffect) ---@event EffectDeactivated ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effect:EpicEnemiesEffect)) ---@field Fire fun(self, char:EsvCharacter, effect:EpicEnemiesEffect) ---@hook CanActivateEffect ---@field RegisterHook fun(self, handler:fun(activate:boolean, char:EsvCharacter, effect:EpicEnemiesEffect, params:any)) ---@field Return fun(self, activate:boolean, char:EsvCharacter, effect:EpicEnemiesEffect, params:any) ---@hook GetPointsForCharacter ---@field RegisterHook fun(self, handler:fun(points:integer, char:EsvCharacter)) ---@field Return fun(self, points:integer, char:EsvCharacter) ---@event CharacterInitialized ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter, effects:EpicEnemiesEffect[])) ---@field Fire fun(self, char:EsvCharacter, effects:EpicEnemiesEffect[]) ---@event CharacterCleanedUp ---@field RegisterListener fun(self, listener:fun(char:EsvCharacter)) ---@field Fire fun(self, char:EsvCharacter)","title":"Events/Hooks"},{"location":"Epip/EpicEnemies/#methods","text":"function EpicEnemies.IsInitialized(char) ---@param char EsvCharacter function EpicEnemies.InitializeCharacter(char) ---Remove all effects from a character. ---@param char EsvCharacter function EpicEnemies.CleanupCharacter(char) ---Returns true if the character is eligible to receive Epic Enemies effects. ---@param char EsvCharacter function EpicEnemies.IsEligible(char) ---@param char EsvCharacter ---@param effect EpicEnemiesEffect function EpicEnemies.ApplyEffect(char, effect) ---@param char EsvCharacter ---@param effect EpicEnemiesEffect function EpicEnemies.ActivateEffect(char, effect) ---@param char EsvCharacter ---@param predicate fun(char:EsvCharacter, effect:EpicEnemiesEffect)? ---@return table<string, EpicEnemiesEffect> function EpicEnemies.GetAppliedEffects(char, predicate) ---@param char EsvCharacter ---@param effect EpicEnemiesCharacter ---@return boolean function EpicEnemies.EffectIsActive(char, effect) ---@param char EsvCharacter ---@param effect EpicEnemiesCharacter ---@return integer function EpicEnemies.GetEffectActivationCount(char, effect) ---@param char EsvCharacter ---@param effectType string ---@param params table? function EpicEnemies.ActivateEffects(char, effectType, params) ---@param char EsvCharacter ---@param effect EpicEnemiesEffect ---@param charges integer? Defaults to 1. function EpicEnemies.DeactivateEffect(char, effect, charges) ---Remove an effect from a character. ---@param char EsvCharacter ---@param effectID string function EpicEnemies.RemoveEffect(char, effectID) ---@param char EsvCharacter ---@param effectPool table<string, EpicEnemiesEffect> ---@param activeEffects? EpicEnemiesEffect[] function EpicEnemies.GetRandomEffect(char, effectPool, activeEffects) ---@param char EsvCharacter function EpicEnemies.GetPointsForCharacter(char) ---Get the cost of an effect. function _EpicEnemiesEffect:GetCost() function _EpicEnemiesEffect:GetWeight() ---@param char Character|GUID function EpicEnemies.IsInitialized(char) ---@param id string ---@return EpicEnemiesEffect function EpicEnemies.GetEffectData(id) ---@param category EpicEnemiesEffectsCategory function EpicEnemies.RegisterEffectCategory(category) ---@param id string ---@param effect EpicEnemiesEffect function EpicEnemies.RegisterEffect(id, effect) ---@param effect EpicEnemiesEffect function EpicEnemies.GenerateOptionData(effect)","title":"Methods"},{"location":"Epip/EpicEnemies/#objects","text":"---@class EpicEnemiesActivationCondition ---@field Type string ---@field MaxActivations integer ---@class EpicEnemiesEffect ---@field ID string ---@field Name string ---@field Description string ---@field Cost integer ---@field Weight integer ---@field DefaultWeight integer ---@field DefaultCost integer ---@field ActivationCondition EpicEnemiesActivationCondition ---@field Category string? ---@field Visible boolean? Whether this effect appears in tooltips. Defaults to true. ---@class EpicEnemiesKeywordData ---@field Keyword Keyword ---@field BoonType KeywordBoonType ---@class EpicEnemiesEffectsCategory ---@field Name string ---@field ID string ---@field Effects string[]|EpicEnemiesEffect[] Can be an array of EpicEnemiesEffect while calling the register method. Will be turned into an ID array afterwards. The scripts that implement the basic effect functionality define the following objects: ---@class EpicEnemiesExtendedEffect : EpicEnemiesEffect ---@field SpecialLogic? string Special logic to grant when the effect is rolled. ---@field Artifact? string Artifact power to grant when the effect is rolled. ---@field Keyword? EpicEnemiesKeywordData Used for activation conditions; certain keyword mutators will not be granted if the target has no activators of the keyword. ---@field Summon? GUID Template to summon. ---@field Status? EpicEnemiesStatus[] ---@field ExtendedStats? EpicEnemiesExtendedStat[] ---@field FlexStats? EpicEnemiesFlexStat[] ---@field RequiredSkills? string[] The effect is ineligible if the character does not have any of the required skills. ---@class EpicEnemiesStatus ---@field StatusID string ---@field Duration integer ---@class EpicEnemiesFlexStat ---@field Type string ---@field Stat string ---@field Amount number ---@class EpicEnemiesExtendedStat ---@field StatID string The ID of the ExtendedStat. ---@field Amount number ---@field Property1 string? ---@field Property2 string? ---@field Property3 string? ---@class EpicEnemiesCondition_TurnStart : EpicEnemiesActivationCondition ---@field Round integer Which round to activate the effect on. ---@field Repeat boolean Whether to re-activate the effect on subsequent rounds as well. ---@field RepeatFrequency uint64? How many turns must pass between re-activations if Repeat is true. Defaults to 1. ---@class EpicEnemiesCondition_HealthThreshold : EpicEnemiesActivationCondition ---@field Vitality number From 0-1. Use 0 to ignore this health metric. ---@field PhysicalArmor number From 0-1. Use 0 to ignore this health metric. ---@field MagicArmor number From 0-1. Use 0 to ignore this health metric. ---@field RequireAll boolean If true, all thresholds must be met for the activation. ---@class EpicEnemiesCondition_BatteredHarried : EpicEnemiesActivationCondition ---@field StackType StackType ---@field Amount integer ---@class EpicEnemiesCondition_StatusGained : EpicEnemiesActivationCondition ---@field StatusID string","title":"Objects"},{"location":"Epip/StatsTab/","text":"StatsTab \u00b6 Epip.Features.StatsTab implements collapsable categories for the Character Sheet stats tab, as well as Ascension node stats, server-side value calculations and synching, and all stats present in the mod by default. Is this decoupling overengineered? Possibly, but it's a good showcase of how easily extensible systems can be if you stuff them with events. TODO document the rest of the system - Only Shared.lua is here atm. Creating Stats \u00b6 There's 3 steps to creating a stat. Steps 1 and 2 have to be done on both contexts. Define the stat; it's name, tooltip, how it displays, etc. Put it into a category (or create one for it) Set/update it's value when requested, through RegisterStatValueHook You can define a stat with RegisterStat(id: string, data: EpipStat) . The structure of a stat is the following: ---@class EpipStat ---@field Name string ---@field Description string Fallback description in case a formatted Tooltip isn't set. ---@field Tooltip TooltipData ---@field Footnote string Italic text after description, in new paragraph. ---@field Suffix string Suffix for value display. ---@field Prefix string Prefix for value display. ---@field Boolean boolean Boolean stats show no value label. ---@field MaxCharges string If specified, this stat will display as \"{Value}/{Value of MaxCharges stat}\" ---@field IgnoreForHiding boolean If true, this stat will not be considered as added when determining if a Hidden category should display. StatsTab.RegisterStat(\"RegenLifeCalculated\", { Name = \"Missing Life Regen\", Description = \"Restores a percentage of your missing Vitality at the start of your turn.\", Footnote = \"Missing Regeneration is capped at 50%.\", Suffix = \"%\", }) Next, you need to append it into a category with AddStatToCategory(statID: string, categoryID: string, index?: integer) . You can omit index and it will be placed at the bottom. StatsTab.AddStatToCategory(\"RegenLifeCalculated\", \"Vitals\") Finally, you need to register a hook to update the stat's value. This can be done in 2 ways: on client or on server (do not do both). If the stat's value can be queried from the client context, you only need a simple hook on the client: StatsTab.RegisterStatValueHook(\"PartyFunds_Gold\", function(value, data, char) return Game.Items.GetPartyTemplateCount(\"LOOT_Gold_A_1c3c9c74-34a1-4685-989e-410dc080be6f\") end) For stats that require info from the server, there is a special system in place that synchronizes stat values with tags. To set a stat's value from the server context, you need to use a different event (note it's not a hook, you must call UpdateTaggedStat yourself). On the client, the stat's value will be queried automatically from such tag if it is set; the advantage here being that there is no need to request stats from the server every time the tab is opened. StatsTab.RegisterStatUpdateListener(\"Keyword_VitalityVoid_Power\", function(char, data) Osi.QRY_AMER_KeywordStat_VitalityVoid_GetPower(char.MyGuid, 1) local value = Osi.DB_AMER_KeywordStat_OUTPUT_Real:Get(nil)[1][1] * 100 EpipStats.UpdateTaggedStat(char, \"Keyword_VitalityVoid_Power\", value) end) Creating Ascension Node Stats \u00b6 Stats related to Ascension nodes are automatically updated if their ID follows a specific format. All you need to do is define one; no further event listeners required. It will also be automatically put into the relevant keyword's category. You can create such stat with StatsTab.AddNodeStat(clusterId: string, nodeIndex: number, nodeSubIndex: number, keyword: Keyword, keywordType: KeywordBoonType, statData: EpipStat) . StatData is the stat definition, like with a normal stat. The indexes are 0-based. ClusterId is the ID of the Aspect, ex. Force_TheFalcon . There's just one small catch: owned nodes are only tracked if there's a stat defined for them. When you add stats in an update, you should call StatsTab.RecalculateNodeStats() on the server during the patch routine. You can also call NRD_ModCall(\"EpipEncounters\", \"PerformFullStatsUpdate\"); from Osiris, but this will be removed in the future. Creating Categories \u00b6 A category holds stats, and can be collapsed in the menu. Stats only render if they're within a category that is open. They can be added with RegisterCategory(id: string, data: EpipStatCategory, index?: integer) . See the EpipStatCategory struct. StatsTab.RegisterCategory(\"Vitals\", { Header = \"<font size='21'>\u2014\u2014\u2014\u2014\u2014 Vitals \u2014\u2014\u2014\u2014\u2014</font>\", Name = \"Vitals\", Behaviour = \"GreyOut\", Stats = { \"RegenLifeCalculated\", \"RegenPhysicalArmorCalculated\", \"RegenMagicArmorCalculated\", \"LifeSteal\", }, }) Modifying Stats \u00b6 Stat definitions are stored in StatsTab.STATS . You may screw with them at any time. Categories are in CATEGORIES instead, and their rendering order is defined in CATEGORIES_ORDER . Methods \u00b6 ---Registers a stat bound to an Ascension node. ---@param clusterId string ---@param nodeIndex number ---@param nodeSubIndex number ---@param keyword Keyword ---@param keywordType KeywordBoonType ---@param statData EpipStat Stat metadata. function EpipStats.AddNodeStat(clusterId, nodeIndex, nodeSubIndex, keyword, keywordType, statData) --RequireBothContexts ---Register a stat. ---@param id string ---@param data EpipStat function EpipStats.RegisterStat(id, data) --RequireBothContexts ---Register a category. ---@param id string ---@param data EpipStatCategory ---@param index? integer Order in the stats tab relative to other categories. function EpipStats.RegisterCategory(id, data, index) --RequireBothContexts ---Add a stat to a category. ---@param statID string ---@param categoryID string ---@param index? integer function EpipStats.AddStatToCategory(statID, categoryID, index) --RequireBothContexts Objects \u00b6 ---@class EpipStats ---@field CATEGORIES table<string, EpipStatCategory> Category definitions. ---@field CATEGORIES_ORDER string[] ---@field STATS table<string, EpipStat> ---@field MISSING_REGEN_CAP number TODO move ---@field STAT_VALUE_TAG string Pattern for stat tags. ---@field STAT_VALUE_TAG_PREFIX string ---@field TOOLTIP_TALENT number TODO remove ---@field TOOLTIP_TALENT_NAME string TODO remove ---@class EpipStat ---@field Name string ---@field Description string Fallback description in case a formatted Tooltip isn't set. ---@field Tooltip TooltipData ---@field Footnote string Italic text after description, in new paragraph. ---@field Suffix string Suffix for value display. ---@field Prefix string Prefix for value display. ---@field Boolean boolean Boolean stats show no value label. ---@field MaxCharges string If specified, this stat will display as \"{Value}/{Value of MaxCharges stat}\" ---@field IgnoreForHiding boolean If true, this stat will not be considered as added when determining if a Hidden category should display. ---@class EpipStatCategory ---@field Header string Name of the collapsable stat. ---@field Name string Name of the category in the tooltip. ---@field Behaviour EpipStatCategoryBehaviour Controls how default-value stats are shown. GreyOut greys out their label and value, hidden hides them - and the whole category - if no stats are owned. ---@field Stats string[] Stats displayed in the category, ordered.","title":"StatsTab"},{"location":"Epip/StatsTab/#statstab","text":"Epip.Features.StatsTab implements collapsable categories for the Character Sheet stats tab, as well as Ascension node stats, server-side value calculations and synching, and all stats present in the mod by default. Is this decoupling overengineered? Possibly, but it's a good showcase of how easily extensible systems can be if you stuff them with events. TODO document the rest of the system - Only Shared.lua is here atm.","title":"StatsTab"},{"location":"Epip/StatsTab/#creating-stats","text":"There's 3 steps to creating a stat. Steps 1 and 2 have to be done on both contexts. Define the stat; it's name, tooltip, how it displays, etc. Put it into a category (or create one for it) Set/update it's value when requested, through RegisterStatValueHook You can define a stat with RegisterStat(id: string, data: EpipStat) . The structure of a stat is the following: ---@class EpipStat ---@field Name string ---@field Description string Fallback description in case a formatted Tooltip isn't set. ---@field Tooltip TooltipData ---@field Footnote string Italic text after description, in new paragraph. ---@field Suffix string Suffix for value display. ---@field Prefix string Prefix for value display. ---@field Boolean boolean Boolean stats show no value label. ---@field MaxCharges string If specified, this stat will display as \"{Value}/{Value of MaxCharges stat}\" ---@field IgnoreForHiding boolean If true, this stat will not be considered as added when determining if a Hidden category should display. StatsTab.RegisterStat(\"RegenLifeCalculated\", { Name = \"Missing Life Regen\", Description = \"Restores a percentage of your missing Vitality at the start of your turn.\", Footnote = \"Missing Regeneration is capped at 50%.\", Suffix = \"%\", }) Next, you need to append it into a category with AddStatToCategory(statID: string, categoryID: string, index?: integer) . You can omit index and it will be placed at the bottom. StatsTab.AddStatToCategory(\"RegenLifeCalculated\", \"Vitals\") Finally, you need to register a hook to update the stat's value. This can be done in 2 ways: on client or on server (do not do both). If the stat's value can be queried from the client context, you only need a simple hook on the client: StatsTab.RegisterStatValueHook(\"PartyFunds_Gold\", function(value, data, char) return Game.Items.GetPartyTemplateCount(\"LOOT_Gold_A_1c3c9c74-34a1-4685-989e-410dc080be6f\") end) For stats that require info from the server, there is a special system in place that synchronizes stat values with tags. To set a stat's value from the server context, you need to use a different event (note it's not a hook, you must call UpdateTaggedStat yourself). On the client, the stat's value will be queried automatically from such tag if it is set; the advantage here being that there is no need to request stats from the server every time the tab is opened. StatsTab.RegisterStatUpdateListener(\"Keyword_VitalityVoid_Power\", function(char, data) Osi.QRY_AMER_KeywordStat_VitalityVoid_GetPower(char.MyGuid, 1) local value = Osi.DB_AMER_KeywordStat_OUTPUT_Real:Get(nil)[1][1] * 100 EpipStats.UpdateTaggedStat(char, \"Keyword_VitalityVoid_Power\", value) end)","title":"Creating Stats"},{"location":"Epip/StatsTab/#creating-ascension-node-stats","text":"Stats related to Ascension nodes are automatically updated if their ID follows a specific format. All you need to do is define one; no further event listeners required. It will also be automatically put into the relevant keyword's category. You can create such stat with StatsTab.AddNodeStat(clusterId: string, nodeIndex: number, nodeSubIndex: number, keyword: Keyword, keywordType: KeywordBoonType, statData: EpipStat) . StatData is the stat definition, like with a normal stat. The indexes are 0-based. ClusterId is the ID of the Aspect, ex. Force_TheFalcon . There's just one small catch: owned nodes are only tracked if there's a stat defined for them. When you add stats in an update, you should call StatsTab.RecalculateNodeStats() on the server during the patch routine. You can also call NRD_ModCall(\"EpipEncounters\", \"PerformFullStatsUpdate\"); from Osiris, but this will be removed in the future.","title":"Creating Ascension Node Stats"},{"location":"Epip/StatsTab/#creating-categories","text":"A category holds stats, and can be collapsed in the menu. Stats only render if they're within a category that is open. They can be added with RegisterCategory(id: string, data: EpipStatCategory, index?: integer) . See the EpipStatCategory struct. StatsTab.RegisterCategory(\"Vitals\", { Header = \"<font size='21'>\u2014\u2014\u2014\u2014\u2014 Vitals \u2014\u2014\u2014\u2014\u2014</font>\", Name = \"Vitals\", Behaviour = \"GreyOut\", Stats = { \"RegenLifeCalculated\", \"RegenPhysicalArmorCalculated\", \"RegenMagicArmorCalculated\", \"LifeSteal\", }, })","title":"Creating Categories"},{"location":"Epip/StatsTab/#modifying-stats","text":"Stat definitions are stored in StatsTab.STATS . You may screw with them at any time. Categories are in CATEGORIES instead, and their rendering order is defined in CATEGORIES_ORDER .","title":"Modifying Stats"},{"location":"Epip/StatsTab/#methods","text":"---Registers a stat bound to an Ascension node. ---@param clusterId string ---@param nodeIndex number ---@param nodeSubIndex number ---@param keyword Keyword ---@param keywordType KeywordBoonType ---@param statData EpipStat Stat metadata. function EpipStats.AddNodeStat(clusterId, nodeIndex, nodeSubIndex, keyword, keywordType, statData) --RequireBothContexts ---Register a stat. ---@param id string ---@param data EpipStat function EpipStats.RegisterStat(id, data) --RequireBothContexts ---Register a category. ---@param id string ---@param data EpipStatCategory ---@param index? integer Order in the stats tab relative to other categories. function EpipStats.RegisterCategory(id, data, index) --RequireBothContexts ---Add a stat to a category. ---@param statID string ---@param categoryID string ---@param index? integer function EpipStats.AddStatToCategory(statID, categoryID, index) --RequireBothContexts","title":"Methods"},{"location":"Epip/StatsTab/#objects","text":"---@class EpipStats ---@field CATEGORIES table<string, EpipStatCategory> Category definitions. ---@field CATEGORIES_ORDER string[] ---@field STATS table<string, EpipStat> ---@field MISSING_REGEN_CAP number TODO move ---@field STAT_VALUE_TAG string Pattern for stat tags. ---@field STAT_VALUE_TAG_PREFIX string ---@field TOOLTIP_TALENT number TODO remove ---@field TOOLTIP_TALENT_NAME string TODO remove ---@class EpipStat ---@field Name string ---@field Description string Fallback description in case a formatted Tooltip isn't set. ---@field Tooltip TooltipData ---@field Footnote string Italic text after description, in new paragraph. ---@field Suffix string Suffix for value display. ---@field Prefix string Prefix for value display. ---@field Boolean boolean Boolean stats show no value label. ---@field MaxCharges string If specified, this stat will display as \"{Value}/{Value of MaxCharges stat}\" ---@field IgnoreForHiding boolean If true, this stat will not be considered as added when determining if a Hidden category should display. ---@class EpipStatCategory ---@field Header string Name of the collapsable stat. ---@field Name string Name of the category in the tooltip. ---@field Behaviour EpipStatCategoryBehaviour Controls how default-value stats are shown. GreyOut greys out their label and value, hidden hides them - and the whole category - if no stats are owned. ---@field Stats string[] Stats displayed in the category, ordered.","title":"Objects"},{"location":"Game/","text":"Game \u00b6 The Game table contains multiple libraries focusing on querying data about the current game session, such as information from characters and items. The Game.Math and Game.Tooltip tables from the Extender remain. Game.Tooltip.TooltipHooks.GetCompareItem is edited to fix an issue with item comparisons passing the wrong EclItem (issue) . Additionally, tooltips are now re-rendered whenever the Toggle Sneak Cones key is pressed/unpressed, to allow it to be used as a \"modifier key\" for conditional tooltip rendering. Fields \u00b6 ---@class Game ---@field Items GameItems ---@field Net GameNet ---@field EDITOR_VERSION string The current version of the game editor.","title":"Game"},{"location":"Game/#game","text":"The Game table contains multiple libraries focusing on querying data about the current game session, such as information from characters and items. The Game.Math and Game.Tooltip tables from the Extender remain. Game.Tooltip.TooltipHooks.GetCompareItem is edited to fix an issue with item comparisons passing the wrong EclItem (issue) . Additionally, tooltips are now re-rendered whenever the Toggle Sneak Cones key is pressed/unpressed, to allow it to be used as a \"modifier key\" for conditional tooltip rendering.","title":"Game"},{"location":"Game/#fields","text":"---@class Game ---@field Items GameItems ---@field Net GameNet ---@field EDITOR_VERSION string The current version of the game editor.","title":"Fields"},{"location":"Game/Character/","text":"Character \u00b6 The Game.Character table contains functions for querying info of characters. Most functions expect you to pass Character as the first parameter (alias for EclCharacter and EsvCharacter ). Functions \u00b6 ---Returns the current stacks on char, as well as lifetime. Queries the related status effects. ---@param char Character ---@param type StackType ---@return number,number Stack count, duration left (as seconds) function Character.GetStacks(char, type) --EE ---Get the infusion level that char is currently preparing (how many times they've cast Source Infuse). ---@param char Character ---@return number Infusion count. function Character.GetPreparedInfusionLevel(char) --EE ---Returns true if char is preparing a Source Infusion. ---@param char Character ---@return boolean function Character.IsPreparingInfusion(char) --EE ---Get the stack amount this character needs to apply a T3 to someone else. ---**This only takes into account the bonus from infusing!** ---@param char Character ---@return number Stacks needed function Character.GetStacksNeededToInflictTier3(char) --EE ---Returns true if char is a summon. ---@param char Character ---@return boolean function Character.IsSummon(char) ---Returns true if the character is dead. ---@param char Character ---@return boolean function Character.IsDead(char) ---Returns the gender of char. ---@param char Character ---@return Gender function Character.GetGender(char) ---Returns true if char is male. ---@param char Character ---@return boolean function Character.IsMale(char) ---Returns the current race of char. ---@param char Character ---@return Race function Character.GetRace(char) ---Returns the original race of a player char, before any transforms. ---@param char Character Must be tagged with \"REALLY_{Race}\" ---@return Race function Character.GetRealRace(char) ---Returns whether the character is in a combat. ---@param char EclCharacter ---@return boolean function Character.IsInCombat(char) function Character.GetMovement(char) ---Returns whether char can enter preparation state for a skill. ---@param char Character ---@param skillID string ---@return boolean function Character.CanUseSkill(char, skillID) ---Returns whether char has a melee weapon equipped in either slot. ---@param char Character ---@return boolean function Character.HasMeleeWeapon(char) ---Returns whether char has a bow or crossbow equipped. ---@param char Character ---@return boolean function Character.HasRangedWeapon(char) ---Returns whether char has a shield equipped. ---@param char Character ---@return boolean function Character.HasShield(char) ---Returns whether char has a dagger equipped in either slot. ---@param char Character ---@return boolean function Character.HasDagger(char) ---Returns whether char is muted. ---@param char Character ---@return boolean function Character.IsMuted(char) ---Returns whether char is disarmed. ---@param char Character ---@return boolean function Character.IsDisarmed(char)","title":"Character"},{"location":"Game/Character/#character","text":"The Game.Character table contains functions for querying info of characters. Most functions expect you to pass Character as the first parameter (alias for EclCharacter and EsvCharacter ).","title":"Character"},{"location":"Game/Character/#functions","text":"---Returns the current stacks on char, as well as lifetime. Queries the related status effects. ---@param char Character ---@param type StackType ---@return number,number Stack count, duration left (as seconds) function Character.GetStacks(char, type) --EE ---Get the infusion level that char is currently preparing (how many times they've cast Source Infuse). ---@param char Character ---@return number Infusion count. function Character.GetPreparedInfusionLevel(char) --EE ---Returns true if char is preparing a Source Infusion. ---@param char Character ---@return boolean function Character.IsPreparingInfusion(char) --EE ---Get the stack amount this character needs to apply a T3 to someone else. ---**This only takes into account the bonus from infusing!** ---@param char Character ---@return number Stacks needed function Character.GetStacksNeededToInflictTier3(char) --EE ---Returns true if char is a summon. ---@param char Character ---@return boolean function Character.IsSummon(char) ---Returns true if the character is dead. ---@param char Character ---@return boolean function Character.IsDead(char) ---Returns the gender of char. ---@param char Character ---@return Gender function Character.GetGender(char) ---Returns true if char is male. ---@param char Character ---@return boolean function Character.IsMale(char) ---Returns the current race of char. ---@param char Character ---@return Race function Character.GetRace(char) ---Returns the original race of a player char, before any transforms. ---@param char Character Must be tagged with \"REALLY_{Race}\" ---@return Race function Character.GetRealRace(char) ---Returns whether the character is in a combat. ---@param char EclCharacter ---@return boolean function Character.IsInCombat(char) function Character.GetMovement(char) ---Returns whether char can enter preparation state for a skill. ---@param char Character ---@param skillID string ---@return boolean function Character.CanUseSkill(char, skillID) ---Returns whether char has a melee weapon equipped in either slot. ---@param char Character ---@return boolean function Character.HasMeleeWeapon(char) ---Returns whether char has a bow or crossbow equipped. ---@param char Character ---@return boolean function Character.HasRangedWeapon(char) ---Returns whether char has a shield equipped. ---@param char Character ---@return boolean function Character.HasShield(char) ---Returns whether char has a dagger equipped in either slot. ---@param char Character ---@return boolean function Character.HasDagger(char) ---Returns whether char is muted. ---@param char Character ---@return boolean function Character.IsMuted(char) ---Returns whether char is disarmed. ---@param char Character ---@return boolean function Character.IsDisarmed(char)","title":"Functions"},{"location":"Game/Item/","text":"Item \u00b6 Contains queries related to items. Most functions expect you to pass Item as the first parameter (alias for EclItem and EsvItem ). Functions \u00b6 --- Count the amount of template instances (prefix + guid) in the client party's inventory. ---@param template string ---@return number function Game.Items.GetPartyTemplateCount(template) ---Returns true if the item is an Artifact by checking the AMER_UNI tag. ---@param item Item ---@return boolean function Items.IsArtifact(item) ---Returns whether item is a melee weapon (satisfying a MeleeWeapon requirement) ---Returns true for None-type weaponry. ---@param item Item ---@return boolean function Items.IsMeleeWeapon(item) ---Returns whether item is a shield (satisfying a ShieldWeapon requirement) ---@param item Item ---@return boolean function Items.IsShield(item) ---Returns whether item is a dagger (satisfying a DaggerWeapon requirement) ---@param item Item ---@return boolean function Items.IsDagger(item) ---Returns whether item is a ranged weapon; bow or crossbow only! ---@param item Item ---@return boolean function Items.IsRangedWeapon(item) --- Gets the amount of Loremaster necessary to identify an item. --- Ignores whether the item is already identified. ---@param item Item ---@return number function Game.Items.GetIdentifyRequirement(item) --- Returns true if the item is an armor piece or a weapon. ---@param item Item ---@return boolean function Game.Items.IsEquipment(item) --- Returns true for dyeable items (equipment, except rings/amulet/belt). ---@param item Item ---@return boolean function Game.Items.IsDyeable(item) --- Alias for Item.Stats.ItemSlot ---@param item Item ---@return string function Game.Items.GetItemSlot(item) --- Like ItemSlot, but distinguishes armor subtypes --- Get subtype of item (ex. \"Dagger\" or \"Platemail\"). --- Returns ItemSlot for items with no subtypes ---@param item Item ---@return EquipmentSubType function Game.Items.GetEquipmentSubtype(item) --- Applies a dye to the item. ---@param item Item ---@param dye Dye ---@return boolean False if item is already dyed with the same dye, or if dye is ``nil``. function Game.Items.ApplyDye(item, dye) --- Returns the ID and data for the most recently-applied dye deltamod on the item. ---@param item Item ---@return string,Dye The dye ID and data table. function Game.Items.GetCurrentDye(item) ---Returns a list of the named boosts on the item. ---@param item Item ---@return string[] function Game.Items.GetNamedBoosts(item) --- Returns true if item is equipped by char. Assumes the item cannot be equipped into an unintended slot. Rings and weapons are checked for both slots. ---@param char Character ---@param item Item ---@return boolean function Game.Items.IsEquipped(char, item) ---Returns the slot that an item is equipped in, or nil if it is not. ---@param item Item ---@return EquipSlot? function Game.Items.GetEquippedSlot(item) --- Count the items in an entity's inventory that match a predicate function. --- Predicate is passed ``Item`` and should return true for items to be counted. ---@param entity Entity ---@param predicate fun(item: EsvItem) ---@return number function Game.Items.CountItemsInInventory(entity, predicate) --- Gets the stats object of the rune inserted at rune index ``index`` on item. ---@param item Item ---@param index number ---@return StatItem function Game.Items.GetRune(item, index) --- Returns a list of runes on the item. ---@param item Item ---@return table<number, StatItem> Empty slots are nil. function Game.Items.GetRunes(item) --- Returns true if item has any runes slotted. ---@param item Item ---@return boolean function Game.Items.HasRunes(item) --- Returns a list of the items in the entity's inventory that match an optional predicate function. --- Predicate is passed the EclItem/EsvItem and should return true for items to be included. ---@param entity Entity ---@param predicate fun(item: Item) ---@return Item[] function Game.Items.GetItemsInInventory(entity, predicate)","title":"Item"},{"location":"Game/Item/#item","text":"Contains queries related to items. Most functions expect you to pass Item as the first parameter (alias for EclItem and EsvItem ).","title":"Item"},{"location":"Game/Item/#functions","text":"--- Count the amount of template instances (prefix + guid) in the client party's inventory. ---@param template string ---@return number function Game.Items.GetPartyTemplateCount(template) ---Returns true if the item is an Artifact by checking the AMER_UNI tag. ---@param item Item ---@return boolean function Items.IsArtifact(item) ---Returns whether item is a melee weapon (satisfying a MeleeWeapon requirement) ---Returns true for None-type weaponry. ---@param item Item ---@return boolean function Items.IsMeleeWeapon(item) ---Returns whether item is a shield (satisfying a ShieldWeapon requirement) ---@param item Item ---@return boolean function Items.IsShield(item) ---Returns whether item is a dagger (satisfying a DaggerWeapon requirement) ---@param item Item ---@return boolean function Items.IsDagger(item) ---Returns whether item is a ranged weapon; bow or crossbow only! ---@param item Item ---@return boolean function Items.IsRangedWeapon(item) --- Gets the amount of Loremaster necessary to identify an item. --- Ignores whether the item is already identified. ---@param item Item ---@return number function Game.Items.GetIdentifyRequirement(item) --- Returns true if the item is an armor piece or a weapon. ---@param item Item ---@return boolean function Game.Items.IsEquipment(item) --- Returns true for dyeable items (equipment, except rings/amulet/belt). ---@param item Item ---@return boolean function Game.Items.IsDyeable(item) --- Alias for Item.Stats.ItemSlot ---@param item Item ---@return string function Game.Items.GetItemSlot(item) --- Like ItemSlot, but distinguishes armor subtypes --- Get subtype of item (ex. \"Dagger\" or \"Platemail\"). --- Returns ItemSlot for items with no subtypes ---@param item Item ---@return EquipmentSubType function Game.Items.GetEquipmentSubtype(item) --- Applies a dye to the item. ---@param item Item ---@param dye Dye ---@return boolean False if item is already dyed with the same dye, or if dye is ``nil``. function Game.Items.ApplyDye(item, dye) --- Returns the ID and data for the most recently-applied dye deltamod on the item. ---@param item Item ---@return string,Dye The dye ID and data table. function Game.Items.GetCurrentDye(item) ---Returns a list of the named boosts on the item. ---@param item Item ---@return string[] function Game.Items.GetNamedBoosts(item) --- Returns true if item is equipped by char. Assumes the item cannot be equipped into an unintended slot. Rings and weapons are checked for both slots. ---@param char Character ---@param item Item ---@return boolean function Game.Items.IsEquipped(char, item) ---Returns the slot that an item is equipped in, or nil if it is not. ---@param item Item ---@return EquipSlot? function Game.Items.GetEquippedSlot(item) --- Count the items in an entity's inventory that match a predicate function. --- Predicate is passed ``Item`` and should return true for items to be counted. ---@param entity Entity ---@param predicate fun(item: EsvItem) ---@return number function Game.Items.CountItemsInInventory(entity, predicate) --- Gets the stats object of the rune inserted at rune index ``index`` on item. ---@param item Item ---@param index number ---@return StatItem function Game.Items.GetRune(item, index) --- Returns a list of runes on the item. ---@param item Item ---@return table<number, StatItem> Empty slots are nil. function Game.Items.GetRunes(item) --- Returns true if item has any runes slotted. ---@param item Item ---@return boolean function Game.Items.HasRunes(item) --- Returns a list of the items in the entity's inventory that match an optional predicate function. --- Predicate is passed the EclItem/EsvItem and should return true for items to be included. ---@param entity Entity ---@param predicate fun(item: Item) ---@return Item[] function Game.Items.GetItemsInInventory(entity, predicate)","title":"Functions"},{"location":"Global%20Tables/Feature/","text":"Feature \u00b6 The _Feature table is the table that most libraries and actual mod features inherit from; it provides a plethora of generic utilities useful for any sort of script. Included are logging methods, shorthands for applying path overrides, event & hook creation and dispatching, and more. To use this table, you should call Epip.AddFeature() . This will register your script's table to the Epip.Features table and initialize the _Feature metatable. Methods \u00b6 ---Add an event to the Events field. ---@param name string ---@param data? Event ---@return Event function _Feature:AddEvent(name, data) ---Add a hook to the Hooks field. ---@param name string ---@param data? Hook ---@return Hook function _Feature:AddHook(name, data) ---Returns whether the feature has *not* been disabled. Use to condition your feature's logic. ---@return boolean function _Feature:IsEnabled() ---Invoked on SessionLoaded if the feature is not disabled. ---Override to run initialization routines. ---Sets the Disabled flag. function _Feature:Disable() ---Called after a feature is initialized with Epip.AddFeature(), ---if it is not disabled. ---Override to run initialization routines. ---Register an event listener. ---To define events with multiple variables, you can easily create a wrapper function for this (and FireEvent) ---that registers an event listener with a prefix(es). ---@param event string ---@param handler function function _Feature:RegisterListener(event, handler) ---Fire an event. ---@param event string function _Feature:FireEvent(event, ...) ---Register a hook. ---@param event string ---@param handler function function _Feature:RegisterHook(event, handler) ---Get a value from registered hook listeners. ---@param event string ---@param defaultValue any Default value, will be passed to the first listener. function _Feature:ReturnFromHooks(event, defaultValue, ...) ---Fire an event to all contexts and peers. ---@param event string function _Feature:FireGlobalEvent(event, ...) ---Show debug-level logging from this feature. ---Only work in Developer mode. function _Feature:Debug() ---Returns whether :Debug() has been ran successfully. function _Feature:IsDebug() ---Stop all non-error, non-warning logging from this feature. function _Feature:Mute() ---Stop all non-error logging. function _Feature:ShutUp() ---Log a value in Debug mode. function _Feature:DebugLog(...) ---Dump a value to the console, in Debug mode. ---@param msg any function _Feature:Dump(msg) ---Log a value. ---@param msg any function _Feature:Log(msg) ---Log values without any prefixing. function _Feature:RawLog(...) ---Log a warning. ---@param msg any function _Feature:LogWarning(msg) ---Log an error. ---@param msg any function _Feature:LogError(msg) Objects \u00b6 ---@class Feature ---@field Name string Used for logging, event handling. Do not set! ---@field CONTEXT Context Set automatically. ---@field Disabled boolean ---@field Logging integer Logging level. ---@field Events table<string, Event> Metatables initialized automatically. ---@field Hooks table<string, Hook> Metatables initialized automatically. ---@field LOGGING_LEVEL table<string, integer> Valid logging levels. ---@field REQUIRED_MODS table<GUID, string> The feature will be automatically disabled if any required mods are missing. ---@field FILEPATH_OVERRIDES table<string, string>","title":"Feature"},{"location":"Global%20Tables/Feature/#feature","text":"The _Feature table is the table that most libraries and actual mod features inherit from; it provides a plethora of generic utilities useful for any sort of script. Included are logging methods, shorthands for applying path overrides, event & hook creation and dispatching, and more. To use this table, you should call Epip.AddFeature() . This will register your script's table to the Epip.Features table and initialize the _Feature metatable.","title":"Feature"},{"location":"Global%20Tables/Feature/#methods","text":"---Add an event to the Events field. ---@param name string ---@param data? Event ---@return Event function _Feature:AddEvent(name, data) ---Add a hook to the Hooks field. ---@param name string ---@param data? Hook ---@return Hook function _Feature:AddHook(name, data) ---Returns whether the feature has *not* been disabled. Use to condition your feature's logic. ---@return boolean function _Feature:IsEnabled() ---Invoked on SessionLoaded if the feature is not disabled. ---Override to run initialization routines. ---Sets the Disabled flag. function _Feature:Disable() ---Called after a feature is initialized with Epip.AddFeature(), ---if it is not disabled. ---Override to run initialization routines. ---Register an event listener. ---To define events with multiple variables, you can easily create a wrapper function for this (and FireEvent) ---that registers an event listener with a prefix(es). ---@param event string ---@param handler function function _Feature:RegisterListener(event, handler) ---Fire an event. ---@param event string function _Feature:FireEvent(event, ...) ---Register a hook. ---@param event string ---@param handler function function _Feature:RegisterHook(event, handler) ---Get a value from registered hook listeners. ---@param event string ---@param defaultValue any Default value, will be passed to the first listener. function _Feature:ReturnFromHooks(event, defaultValue, ...) ---Fire an event to all contexts and peers. ---@param event string function _Feature:FireGlobalEvent(event, ...) ---Show debug-level logging from this feature. ---Only work in Developer mode. function _Feature:Debug() ---Returns whether :Debug() has been ran successfully. function _Feature:IsDebug() ---Stop all non-error, non-warning logging from this feature. function _Feature:Mute() ---Stop all non-error logging. function _Feature:ShutUp() ---Log a value in Debug mode. function _Feature:DebugLog(...) ---Dump a value to the console, in Debug mode. ---@param msg any function _Feature:Dump(msg) ---Log a value. ---@param msg any function _Feature:Log(msg) ---Log values without any prefixing. function _Feature:RawLog(...) ---Log a warning. ---@param msg any function _Feature:LogWarning(msg) ---Log an error. ---@param msg any function _Feature:LogError(msg)","title":"Methods"},{"location":"Global%20Tables/Feature/#objects","text":"---@class Feature ---@field Name string Used for logging, event handling. Do not set! ---@field CONTEXT Context Set automatically. ---@field Disabled boolean ---@field Logging integer Logging level. ---@field Events table<string, Event> Metatables initialized automatically. ---@field Hooks table<string, Hook> Metatables initialized automatically. ---@field LOGGING_LEVEL table<string, integer> Valid logging levels. ---@field REQUIRED_MODS table<GUID, string> The feature will be automatically disabled if any required mods are missing. ---@field FILEPATH_OVERRIDES table<string, string>","title":"Objects"},{"location":"Tutorials/testing/","text":"Testing and debugging mods in-game can be made a lot easier with the extender. Script Extender Console \u00b6 Enabled by setting CreateConsole to true in OsirisExtenderSettings.json , the extender console logs messages from the extender, as well as lua scripting and osiris DebugBreaks. The console can also be used to run lua code (and therefore osiris as well). Pressing enter in the console window will enter the lua console, in server context by default. Typing server / client switches between the lua contexts. Running Osiris \u00b6 Calls, events and queries from the base game can be called directly, executing right away: print(CharacterGetHostCharacter()) Note that for queries, no out parameters are specified; they are instead returned as variables. Lua supports multiple returns per call, and the print function will print them all in order. User queries return true for success and false for failure - you have to lookup the return DBs yourself. For custom symbols, you must add an Osi. prefix (the Osi table is used to resolve custom osiris symbols, whereas the Larian ones are in the global table/scope): Osi.PROC_AMER_GEN_OpenQueuedMessageBox(CharacterGetHostCharacter(), \"Test\") DBs can be interacted with in all the usual manners: Queried with Osi.DB_MyDB:Get(param1, param2, ...) . Use nil for placeholders/wildcards. Set by calling the symbol: Osi.DB_MyDB(myValue1, myValue2) Deleted with the delete function: Osi.DB_MyDB:Delete(param1, param2, ...) . Once again, nil can be used as a wildcard. Querying DBs returns a list of all the valid tuples. In the console, the Ext.Dump() function can be used to print values as json. A useful shorthand for the function is _D() : As of v56, all extender objects can be dumped as well, revealing their mapped properties and methods: The _C() function is a shorthand for returning the currently active character, available on both client and server. S >> print(_C()) esv::Character (00007FF4C7E13200) Note that this returns an extender character object ( esv::Character ), not the GUID. The GUID of most objects is mapped to the .MyGuid property, and it's what you have to use for osiris: The boolean type is automatically converted to 0 / 1 when used in a call, but queries will still return integers. On the client context, _E() returns the character currently being examined in the examine UI. Epip Helpers \u00b6 Epip has some easy-to-use features to make testing ingame easier, if DeveloperMode is set to true in OsirisExtenderSettings.json . The most important of these is the Force Story Patching setting in the mod's settings menu. It will cause story compilation and patching to occur on any session load, making it far more convenient to test script changes ingame. This and other debug settings are always at the top of the menu, only visible in developer mode. The other useful, non-UI-related tool is the cheat context menu, accessed by right-clicking a character in the world or a player portrait on the left: The \"Copy GUID to clipboard\" option is self-explanatory. \"Teleport to object\" teleports the character to another character, item, or trigger, by its GUID. You can combine these two options to quickly teleport party members to eachother. \"Pipmode\" grants immortality, instantly-refreshing cooldowns, as well as infinite AP and SP. The options following it allow you to grant EE scripted stats to the character, with +/- buttons. Holding the \"Show sneak cones\" key (shift by default) adds/removes 10 points at a time. The longer menus can be scrolled with the mouse wheel, though it doesn't look intuitive at the moment. You may also add SpecialLogic and spells through a popup box: Lastly, the \"Items...\" submenu allows you to spawn item templates, generate treasure loot onto yourself, as well as quickly spawning in all artifacts and runes (can take a while to have it all generate!). Macros \u00b6 I have a simple AutoHotkey script for modding, with the following macros: Ctrl+M4 : focuses the console. M4 is the mouse side button that performs the 'back' function. Ctrl+M5 : focuses the game. Shift+M5 : focuses VS Code. Ctrl+R : resets lua scripts (types reset in the console), sets some Epip tables to be available from the global context in the client console, then focuses the game. ConsoleWindowClass := \"ConsoleWindowClass\" GameWindowClass := \"SDL_app\" ConsoleWindow := \"D:OS2 Script Extender Debug Console\" ^r::LuaReset() +XButton2::FocusVSC() ^XButton1::FocusConsole() ^XButton2::FocusGame() LuaReset() { global ConsoleWindow SetKeyDelay, 10 WinGet, PID, PID, %GameWindow% ControlSend, , {enter}reset{enter}, %ConsoleWindow% ControlSend, , client{enter}, %ConsoleWindow% FocusGame() ControlSend, , epip = Mods.EpipEncounters{enter}, %ConsoleWindow% ControlSend, , ui = epip.Client.UI{enter}exit{enter}, %ConsoleWindow% } FocusGame() { global GameWindowClass WinActivate, ahk_class %GameWindowClass% } FocusConsole() { global ConsoleWindowClass WinActivate, ahk_class %ConsoleWindowClass% } FocusVSC() { WinGet, PID, PID, ahk_exe Code.exe WinActivate, ahk_pid %PID% }","title":"Testing"},{"location":"Tutorials/testing/#script-extender-console","text":"Enabled by setting CreateConsole to true in OsirisExtenderSettings.json , the extender console logs messages from the extender, as well as lua scripting and osiris DebugBreaks. The console can also be used to run lua code (and therefore osiris as well). Pressing enter in the console window will enter the lua console, in server context by default. Typing server / client switches between the lua contexts.","title":"Script Extender Console"},{"location":"Tutorials/testing/#running-osiris","text":"Calls, events and queries from the base game can be called directly, executing right away: print(CharacterGetHostCharacter()) Note that for queries, no out parameters are specified; they are instead returned as variables. Lua supports multiple returns per call, and the print function will print them all in order. User queries return true for success and false for failure - you have to lookup the return DBs yourself. For custom symbols, you must add an Osi. prefix (the Osi table is used to resolve custom osiris symbols, whereas the Larian ones are in the global table/scope): Osi.PROC_AMER_GEN_OpenQueuedMessageBox(CharacterGetHostCharacter(), \"Test\") DBs can be interacted with in all the usual manners: Queried with Osi.DB_MyDB:Get(param1, param2, ...) . Use nil for placeholders/wildcards. Set by calling the symbol: Osi.DB_MyDB(myValue1, myValue2) Deleted with the delete function: Osi.DB_MyDB:Delete(param1, param2, ...) . Once again, nil can be used as a wildcard. Querying DBs returns a list of all the valid tuples. In the console, the Ext.Dump() function can be used to print values as json. A useful shorthand for the function is _D() : As of v56, all extender objects can be dumped as well, revealing their mapped properties and methods: The _C() function is a shorthand for returning the currently active character, available on both client and server. S >> print(_C()) esv::Character (00007FF4C7E13200) Note that this returns an extender character object ( esv::Character ), not the GUID. The GUID of most objects is mapped to the .MyGuid property, and it's what you have to use for osiris: The boolean type is automatically converted to 0 / 1 when used in a call, but queries will still return integers. On the client context, _E() returns the character currently being examined in the examine UI.","title":"Running Osiris"},{"location":"Tutorials/testing/#epip-helpers","text":"Epip has some easy-to-use features to make testing ingame easier, if DeveloperMode is set to true in OsirisExtenderSettings.json . The most important of these is the Force Story Patching setting in the mod's settings menu. It will cause story compilation and patching to occur on any session load, making it far more convenient to test script changes ingame. This and other debug settings are always at the top of the menu, only visible in developer mode. The other useful, non-UI-related tool is the cheat context menu, accessed by right-clicking a character in the world or a player portrait on the left: The \"Copy GUID to clipboard\" option is self-explanatory. \"Teleport to object\" teleports the character to another character, item, or trigger, by its GUID. You can combine these two options to quickly teleport party members to eachother. \"Pipmode\" grants immortality, instantly-refreshing cooldowns, as well as infinite AP and SP. The options following it allow you to grant EE scripted stats to the character, with +/- buttons. Holding the \"Show sneak cones\" key (shift by default) adds/removes 10 points at a time. The longer menus can be scrolled with the mouse wheel, though it doesn't look intuitive at the moment. You may also add SpecialLogic and spells through a popup box: Lastly, the \"Items...\" submenu allows you to spawn item templates, generate treasure loot onto yourself, as well as quickly spawning in all artifacts and runes (can take a while to have it all generate!).","title":"Epip Helpers"},{"location":"Tutorials/testing/#macros","text":"I have a simple AutoHotkey script for modding, with the following macros: Ctrl+M4 : focuses the console. M4 is the mouse side button that performs the 'back' function. Ctrl+M5 : focuses the game. Shift+M5 : focuses VS Code. Ctrl+R : resets lua scripts (types reset in the console), sets some Epip tables to be available from the global context in the client console, then focuses the game. ConsoleWindowClass := \"ConsoleWindowClass\" GameWindowClass := \"SDL_app\" ConsoleWindow := \"D:OS2 Script Extender Debug Console\" ^r::LuaReset() +XButton2::FocusVSC() ^XButton1::FocusConsole() ^XButton2::FocusGame() LuaReset() { global ConsoleWindow SetKeyDelay, 10 WinGet, PID, PID, %GameWindow% ControlSend, , {enter}reset{enter}, %ConsoleWindow% ControlSend, , client{enter}, %ConsoleWindow% FocusGame() ControlSend, , epip = Mods.EpipEncounters{enter}, %ConsoleWindow% ControlSend, , ui = epip.Client.UI{enter}exit{enter}, %ConsoleWindow% } FocusGame() { global GameWindowClass WinActivate, ahk_class %GameWindowClass% } FocusConsole() { global ConsoleWindowClass WinActivate, ahk_class %ConsoleWindowClass% } FocusVSC() { WinGet, PID, PID, ahk_exe Code.exe WinActivate, ahk_pid %PID% }","title":"Macros"},{"location":"Tutorials/Lua/","text":"Lua Tutorial \u00b6 The following is an Extender-focused lua tutorial. It is intended to teach you how to use lua with the Script Extender assuming no prior knowledge of the language, just programming basics (variables, control structures, classes etc.) Introduction \u00b6 Lua is an interpreted, functional, dynamically-typed language with possibility for prototype-based object-oriented programming. It is intended to be embedded within other applications (in this case, within the extender/game), offering high-level scripting. In the context of the Script Extender, it offers new forms of interaction with the game by allowing read/write access to the internal game object classes, as well as additional events to listen for. Setup \u00b6 Lua scripts are stored within the Mods/MyMod-GUID/Story/RawFiles/Lua folder and are loaded if the mod is active. Prior to creating lua scripts, you must enable the functionality by configuring a OsiToolsConfig.json file within the Mods/MyMod-GUID folder. The basic configuration is the following: { \"RequiredExtensionVersion\": 56, \"ModTable\": \"MyMod\", \"FeatureFlags\": [ \"OsirisExtensions\", \"Lua\", \"Preprocessor\" ] } Fields: - RequiredExtensionVersion : determines the minimum Script Extender version that the mod requires. Set this to the current version as of the time of your mod's creation, and increment it as you start using features from later versions. An error message box will be shown to users if they try to use your mod with an outdated Script Extender. - ModTable : determines the lua table that your mod's variables will be put into. Set this to a unique identifier. We'll get to its use later. - FeatureFlags : determines which features of the extender your mod requires; OsirisExtensions and Preprocessor are optional, but helpful if intend to you complement your lua scripting with Story scripting. After you've setup the config file, you're ready to create your first lua script. When the game loads mods, the extender will automatically load the BootstrapClient.lua and BootstrapServer.lua scripts within the RawFiles/Lua/ folder, if they exist. These are the first scripts to be loaded, and the scripts from which you will import any additional ones. The reasoning behind there being 2 different bootstrap scripts is that internally, the game is split into 2 \"contexts\": - Server: the part of the game that runs nearly all the logic (ex. damage calculations, Story scripting) and lets players connect to it. - Client: the game application that connects to the server, displays the game state and allows user interaction. In human words, the game window. Each game instance is one client (players in splitscreen use the same client). As the 2 contexts server different purposes, they differ in the information that is accessible in each. For example, the user interface (character sheet, inventory, etc.) only exists for clients, while Story scripting only runs on the server. As such, lua scripting is also split between Client and Server scripting so you can cleanly separate your functionality based on context. Lua Basics \u00b6 Variables \u00b6 Lua is an interpreted, dynamically-typed language. This means there is no need to compile it, the raw .lua file is loaded by the extender and interpreted line-by-line. Being dynamically-typed means that variables do not need to be declared with a type, and instead can be assigned and reassigned freely to any value, as is the case in Python for example. Variables are declared and assigned as the following (semicolons at the end of lines are optional): local myVar = 1 The local keyword is optional, and restricts the variable to the current context (the function/file, more precisely a \"chunk\"). Non-local variables are global. The following types exist in lua: - nil (null) - number - integer (in latest versions) - string - function - table - userdata (garbage-collected values also accessible from C) - lightuserdata (C pointers) The concept of the first few should be familiar, while the latter are more lua-specific and we'll cover them later, for now focusing instead on functions and tables. Functions \u00b6 Functions can be defined in multiple ways, the simplest one being: function MyFunc(param1, param2) -- Code here! end Note that comments in lua start with 2 dashes ( -- ). Functions can be given the local modifier as well, and any number of arguments, with no type specification. It is important to note that as lua is not a class-based language, there is no overloading. Creating a new function MyFunc after the first one will override that function no matter if its signature is different. Additionally, since functions are types, assigning MyFunc = something will also override the function! Lua functions can also be called with any amount of parameters, regardless of definition - we'll go into more detail on that quirk later. Functions and tables are passed by reference. (TODO remark that this does not mean you can \"alter\" them outside their context) Tables \u00b6 Tables are lua's take on objects . If you've done JavaScript or other prototype-based languages, they will be easy to understand. A table-type variable is defined, in its simplest form, like this: local myTable = {} Tables are the basic, extendable object in lua. You may set and retrieve values on them by indexing them: myTable[\"key1\"] = 1 -- This also works (if no spaces or special characters) myTable.key2 = 2 print(myTable.key1) print(myTable[\"key2\"]) Working with the Extender \u00b6 Events \u00b6 So far the tutorial has introduced lua basics, but with no explanation on how we'll be interfacing with the game with it. Lua scripting in the extender is primarily event-driven, as is Story scripting. You register listener functions for built-in events to react to things occurring in the game. TODO","title":"Index"},{"location":"Tutorials/Lua/#lua-tutorial","text":"The following is an Extender-focused lua tutorial. It is intended to teach you how to use lua with the Script Extender assuming no prior knowledge of the language, just programming basics (variables, control structures, classes etc.)","title":"Lua Tutorial"},{"location":"Tutorials/Lua/#introduction","text":"Lua is an interpreted, functional, dynamically-typed language with possibility for prototype-based object-oriented programming. It is intended to be embedded within other applications (in this case, within the extender/game), offering high-level scripting. In the context of the Script Extender, it offers new forms of interaction with the game by allowing read/write access to the internal game object classes, as well as additional events to listen for.","title":"Introduction"},{"location":"Tutorials/Lua/#setup","text":"Lua scripts are stored within the Mods/MyMod-GUID/Story/RawFiles/Lua folder and are loaded if the mod is active. Prior to creating lua scripts, you must enable the functionality by configuring a OsiToolsConfig.json file within the Mods/MyMod-GUID folder. The basic configuration is the following: { \"RequiredExtensionVersion\": 56, \"ModTable\": \"MyMod\", \"FeatureFlags\": [ \"OsirisExtensions\", \"Lua\", \"Preprocessor\" ] } Fields: - RequiredExtensionVersion : determines the minimum Script Extender version that the mod requires. Set this to the current version as of the time of your mod's creation, and increment it as you start using features from later versions. An error message box will be shown to users if they try to use your mod with an outdated Script Extender. - ModTable : determines the lua table that your mod's variables will be put into. Set this to a unique identifier. We'll get to its use later. - FeatureFlags : determines which features of the extender your mod requires; OsirisExtensions and Preprocessor are optional, but helpful if intend to you complement your lua scripting with Story scripting. After you've setup the config file, you're ready to create your first lua script. When the game loads mods, the extender will automatically load the BootstrapClient.lua and BootstrapServer.lua scripts within the RawFiles/Lua/ folder, if they exist. These are the first scripts to be loaded, and the scripts from which you will import any additional ones. The reasoning behind there being 2 different bootstrap scripts is that internally, the game is split into 2 \"contexts\": - Server: the part of the game that runs nearly all the logic (ex. damage calculations, Story scripting) and lets players connect to it. - Client: the game application that connects to the server, displays the game state and allows user interaction. In human words, the game window. Each game instance is one client (players in splitscreen use the same client). As the 2 contexts server different purposes, they differ in the information that is accessible in each. For example, the user interface (character sheet, inventory, etc.) only exists for clients, while Story scripting only runs on the server. As such, lua scripting is also split between Client and Server scripting so you can cleanly separate your functionality based on context.","title":"Setup"},{"location":"Tutorials/Lua/#lua-basics","text":"","title":"Lua Basics"},{"location":"Tutorials/Lua/#variables","text":"Lua is an interpreted, dynamically-typed language. This means there is no need to compile it, the raw .lua file is loaded by the extender and interpreted line-by-line. Being dynamically-typed means that variables do not need to be declared with a type, and instead can be assigned and reassigned freely to any value, as is the case in Python for example. Variables are declared and assigned as the following (semicolons at the end of lines are optional): local myVar = 1 The local keyword is optional, and restricts the variable to the current context (the function/file, more precisely a \"chunk\"). Non-local variables are global. The following types exist in lua: - nil (null) - number - integer (in latest versions) - string - function - table - userdata (garbage-collected values also accessible from C) - lightuserdata (C pointers) The concept of the first few should be familiar, while the latter are more lua-specific and we'll cover them later, for now focusing instead on functions and tables.","title":"Variables"},{"location":"Tutorials/Lua/#functions","text":"Functions can be defined in multiple ways, the simplest one being: function MyFunc(param1, param2) -- Code here! end Note that comments in lua start with 2 dashes ( -- ). Functions can be given the local modifier as well, and any number of arguments, with no type specification. It is important to note that as lua is not a class-based language, there is no overloading. Creating a new function MyFunc after the first one will override that function no matter if its signature is different. Additionally, since functions are types, assigning MyFunc = something will also override the function! Lua functions can also be called with any amount of parameters, regardless of definition - we'll go into more detail on that quirk later. Functions and tables are passed by reference. (TODO remark that this does not mean you can \"alter\" them outside their context)","title":"Functions"},{"location":"Tutorials/Lua/#tables","text":"Tables are lua's take on objects . If you've done JavaScript or other prototype-based languages, they will be easy to understand. A table-type variable is defined, in its simplest form, like this: local myTable = {} Tables are the basic, extendable object in lua. You may set and retrieve values on them by indexing them: myTable[\"key1\"] = 1 -- This also works (if no spaces or special characters) myTable.key2 = 2 print(myTable.key1) print(myTable[\"key2\"])","title":"Tables"},{"location":"Tutorials/Lua/#working-with-the-extender","text":"","title":"Working with the Extender"},{"location":"Tutorials/Lua/#events","text":"So far the tutorial has introduced lua basics, but with no explanation on how we'll be interfacing with the game with it. Lua scripting in the extender is primarily event-driven, as is Story scripting. You register listener functions for built-in events to react to things occurring in the game. TODO","title":"Events"}]}